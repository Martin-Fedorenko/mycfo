{"version":3,"file":"static/js/8177.7bf49d86.chunk.js","mappings":"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","sources":["../node_modules/@mui/icons-material/esm/KeyboardArrowDown.js","../node_modules/@mui/icons-material/esm/AddCircleOutline.js","../node_modules/@mui/icons-material/esm/SaveOutlined.js","../node_modules/@mui/icons-material/esm/LockOutlined.js","../node_modules/@mui/icons-material/esm/EditOutlined.js","../node_modules/@mui/icons-material/esm/EditOffOutlined.js","../node_modules/@mui/icons-material/esm/ChevronLeft.js","../node_modules/@mui/icons-material/esm/ChevronRight.js","pronostico/presupuesto/components/MesDetalle.js","../node_modules/@mui/icons-material/esm/ContentCopy.js","utils/currency.js","shared-components/ExportadorSimple.js","api/http.js","reportes/reportes.service.js","../node_modules/dayjs/dayjs.min.js","shared-components/tipoSelectStyles.js","../node_modules/@mui/icons-material/esm/DeleteOutline.js","shared-components/categorias.js"],"sourcesContent":["\"use client\";\n\nimport createSvgIcon from \"./utils/createSvgIcon.js\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon(/*#__PURE__*/_jsx(\"path\", {\n  d: \"M7.41 8.59 12 13.17l4.59-4.58L18 10l-6 6-6-6z\"\n}), 'KeyboardArrowDown');","\"use client\";\n\nimport createSvgIcon from \"./utils/createSvgIcon.js\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon(/*#__PURE__*/_jsx(\"path\", {\n  d: \"M13 7h-2v4H7v2h4v4h2v-4h4v-2h-4zm-1-5C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8\"\n}), 'AddCircleOutline');","\"use client\";\n\nimport createSvgIcon from \"./utils/createSvgIcon.js\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon(/*#__PURE__*/_jsx(\"path\", {\n  d: \"M17 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V7zm2 16H5V5h11.17L19 7.83zm-7-7c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3M6 6h9v4H6z\"\n}), 'SaveOutlined');","\"use client\";\n\nimport createSvgIcon from \"./utils/createSvgIcon.js\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon(/*#__PURE__*/_jsx(\"path\", {\n  d: \"M18 8h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2M9 6c0-1.66 1.34-3 3-3s3 1.34 3 3v2H9zm9 14H6V10h12zm-6-3c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2\"\n}), 'LockOutlined');","\"use client\";\n\nimport createSvgIcon from \"./utils/createSvgIcon.js\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon(/*#__PURE__*/_jsx(\"path\", {\n  d: \"m14.06 9.02.92.92L5.92 19H5v-.92zM17.66 3c-.25 0-.51.1-.7.29l-1.83 1.83 3.75 3.75 1.83-1.83c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.2-.2-.45-.29-.71-.29m-3.6 3.19L3 17.25V21h3.75L17.81 9.94z\"\n}), 'EditOutlined');","\"use client\";\n\nimport createSvgIcon from \"./utils/createSvgIcon.js\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon(/*#__PURE__*/_jsx(\"path\", {\n  d: \"m14.06 9.02.92.92-1.11 1.11 1.41 1.41 2.52-2.52-3.75-3.75-2.52 2.52 1.41 1.41zm6.65-1.98c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.2-.2-.45-.29-.71-.29s-.51.1-.7.29l-1.83 1.83 3.75 3.75zM2.81 2.81 1.39 4.22l7.32 7.32L3 17.25V21h3.75l5.71-5.71 7.32 7.32 1.41-1.41zM5.92 19H5v-.92l5.13-5.13.92.92z\"\n}), 'EditOffOutlined');","\"use client\";\n\nimport createSvgIcon from \"./utils/createSvgIcon.js\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon(/*#__PURE__*/_jsx(\"path\", {\n  d: \"M15.41 7.41 14 6l-6 6 6 6 1.41-1.41L10.83 12z\"\n}), 'ChevronLeft');","\"use client\";\n\nimport createSvgIcon from \"./utils/createSvgIcon.js\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon(/*#__PURE__*/_jsx(\"path\", {\n  d: \"M10 6 8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z\"\n}), 'ChevronRight');","import * as React from 'react';\r\nimport {\r\n  Box, Typography, Paper, Grid, Button, Tabs, Tab, Avatar, Chip, Stack, Tooltip,\r\n  IconButton, Divider, MenuItem, Dialog, DialogTitle, DialogContent, DialogActions,\r\n  TextField, Autocomplete, FormControlLabel, Switch, Select, InputLabel, FormControl, Snackbar, Alert\r\n} from '@mui/material';\r\nimport { useTheme } from '@mui/material/styles';\r\nimport { useParams, useNavigate } from 'react-router-dom';\r\nimport ExportadorSimple from '../../../shared-components/ExportadorSimple';\r\nimport { buildTipoSelectSx } from '../../../shared-components/tipoSelectStyles';\r\nimport http from '../../../api/http';\r\nimport { formatCurrency, formatCurrencyInput, parseCurrency } from '../../../utils/currency';\r\nimport dayjs from 'dayjs';\r\nimport { format, startOfMonth, endOfMonth } from 'date-fns';\r\nimport { getMovimientosPorRango } from '../../../reportes/reportes.service';\r\nimport {\r\n  ResponsiveContainer, PieChart, Pie, Cell, BarChart, Bar, XAxis, YAxis, Tooltip as RTooltip, Legend\r\n} from 'recharts';\r\nimport EditNoteOutlinedIcon from '@mui/icons-material/EditNoteOutlined';\r\nimport RestartAltOutlinedIcon from '@mui/icons-material/RestartAltOutlined';\r\nimport KeyboardArrowDownIcon from '@mui/icons-material/KeyboardArrowDown';\r\nimport WarningAmberOutlinedIcon from '@mui/icons-material/WarningAmberOutlined';\r\nimport ContentCopyIcon from '@mui/icons-material/ContentCopy';\r\nimport AddCircleOutlineIcon from '@mui/icons-material/AddCircleOutline';\r\nimport DeleteOutlineIcon from '@mui/icons-material/DeleteOutline';\r\nimport SaveOutlinedIcon from '@mui/icons-material/SaveOutlined';\r\nimport LockOutlinedIcon from '@mui/icons-material/LockOutlined';\r\nimport EditOutlinedIcon from '@mui/icons-material/EditOutlined';\r\nimport EditOffOutlinedIcon from '@mui/icons-material/EditOffOutlined';\r\nimport ChevronLeftIcon from '@mui/icons-material/ChevronLeft';\r\nimport ChevronRightIcon from '@mui/icons-material/ChevronRight';\r\nimport { TODAS_LAS_CATEGORIAS } from '../../../shared-components/categorias';\r\nimport API_CONFIG from '../../../config/api-config';\r\n\r\n// ===== Helpers =====\r\nconst safeNumber = (v) =>\r\n  typeof v === 'number' ? v : v != null && !isNaN(Number(v)) ? Number(v) : 0;\r\n\r\nconst baseURL = API_CONFIG.PRONOSTICO;\r\n\r\nconst GUARD_MESSAGES = {\r\n  categoria: {\r\n    title: 'Habilitar edicion manual',\r\n    body: 'La categoria, tipo y monto estimado ayudan a ordenar tus analisis. Cambiarlos manualmente puede afectar reportes y automatizaciones. Queres habilitar la edicion manual?',\r\n    confirmLabel: 'Habilitar edicion'\r\n  },\r\n  real: {\r\n    title: 'Editar monto real',\r\n    body: 'El monto real refleja los registros consolidados. Para ajustarlo, edita los movimientos registrados del periodo. Te llevamos a Ver movimientos.',\r\n    confirmLabel: 'Habilitar edicion en movimientos'\r\n  }\r\n};\r\n\r\nconst GUARD_FIELD_LABELS = {\r\n  categoria: 'la categoria, tipo y estimado',\r\n  tipo: 'el tipo',\r\n  montoEstimado: 'el estimado',\r\n  real: 'el monto real'\r\n};\r\nconst INGRESO_COLOR = '#4caf50';\r\nconst EGRESO_COLOR = '#f44336';\r\nconst INGRESO_EST_COLOR = '#a5d6a7';\r\nconst EGRESO_EST_COLOR = '#ef9a9a';\r\nconst SIN_PRONOSTICO_CHIP_SX = {\r\n  fontWeight: 500,\r\n  bgcolor: '#FFDE70',\r\n  backgroundColor: '#FFDE70',\r\n  color: '#000',\r\n  border: '1px solid #F5C16C',\r\n  '& .MuiChip-label': { color: '#000' },\r\n  '& .MuiChip-icon': { color: '#000' },\r\n  '&.MuiChip-filled': { backgroundColor: '#FFDE70' },\r\n};\r\n\r\nconst CENTERED_INPUT_LABEL_SX = {\r\n  top: '50%',\r\n  transform: 'translate(14px, -50%) scale(1)',\r\n  '&.MuiInputLabel-shrink': {\r\n    top: 0,\r\n    transform: 'translate(14px, -9px) scale(0.75)',\r\n  },\r\n};\r\nconst mesANumero = {\r\n  enero: '01', febrero: '02', marzo: '03', abril: '04',\r\n  mayo: '05', junio: '06', julio: '07', agosto: '08',\r\n  septiembre: '09', octubre: '10', noviembre: '11', diciembre: '12'\r\n};\r\n\r\nconst formatearMes = (ym) => {\r\n  if (!ym) return 'Mes desconocido';\r\n  const [anio, mes] = ym.split('-');\r\n  const nombres = ['Enero','Febrero','Marzo','Abril','Mayo','Junio','Julio','Agosto','Septiembre','Octubre','Noviembre','Diciembre'];\r\n  const i = parseInt(mes, 10);\r\n  return isNaN(i) ? ym : `${nombres[i-1]} ${anio}`;\r\n};\r\n\r\n// YYYY-MM  YYYY-MM-01\r\nconst ymToYmd = (ym) => `${ym}-01`;\r\n\r\n// Devuelve array de YYYY-MM entre from y to (inclusive)\r\nconst mesesEntre = (fromYM, toYM) => {\r\n  const out = [];\r\n  if (!fromYM || !toYM) return out;\r\n  let [fy, fm] = fromYM.split('-').map(Number);\r\n  const [ty, tm] = toYM.split('-').map(Number);\r\n  let y = fy, m = fm, guard = 0;\r\n  while (guard++ < 600) {\r\n    out.push(`${y}-${String(m).padStart(2, '0')}`);\r\n    if (y === ty && m === tm) break;\r\n    m++; if (m > 12) { m = 1; y++; }\r\n  }\r\n  return out;\r\n};\r\n\r\n// Normaliza payload de distintas respuestas posibles\r\nconst normalizeLine = (x) => {\r\n  const rawMovementArray = x?.movimientoIds ?? x?.movimiento_ids ?? x?.movementIds;\r\n  const rawMovementSingle = x?.movimientoId ?? x?.movimiento_id ?? x?.movementId ?? null;\r\n  const movementIds = Array.isArray(rawMovementArray)\r\n    ? rawMovementArray.map((id) => String(id))\r\n    : rawMovementSingle != null\r\n      ? [String(rawMovementSingle)]\r\n      : [];\r\n  return {\r\n    id: x.id,\r\n    categoria: x.categoria,\r\n    tipo: normalizeTipo(x.tipo),\r\n    montoEstimado: x.montoEstimado ?? x.monto_estimado ?? 0,\r\n    real: 0,\r\n    movimientoIds: movementIds,\r\n  };\r\n};\r\n\r\nconst normCat = (value) =>\r\n  (value || '')\r\n    .normalize('NFD')\r\n    .replace(/[\\u0300-\\u036f]/g, '')\r\n    .trim()\r\n    .toLowerCase();\r\n\r\nconst normalizeTipo = (value) => {\r\n  const upper = (value || '').toString().toUpperCase();\r\n  if (upper === 'INGRESO') return 'Ingreso';\r\n  if (upper === 'EGRESO') return 'Egreso';\r\n  return value || '';\r\n};\r\n\r\nexport default function MesDetalle() {\r\n  const { nombre: nombreUrl, mesNombre: mesNombreUrl } = useParams();\r\n  const navigate = useNavigate();\r\n  const theme = useTheme();\r\n  const isLightMode = theme.palette.mode === 'light';\r\n  const paletteVars = theme.vars?.palette ?? theme.palette;\r\n  const kpiColors = React.useMemo(\r\n    () => ({\r\n      ingresos: isLightMode ? 'hsl(120, 44%, 53%)' : paletteVars.success.light,\r\n      egresos: isLightMode ? 'hsl(0, 90%, 40%)' : paletteVars.error.light,\r\n      resultadoPos: isLightMode ? 'hsl(210, 98%, 42%)' : paletteVars.info.light,\r\n      resultadoNeg: isLightMode ? 'hsl(45, 90%, 40%)' : paletteVars.warning.light,\r\n    }),\r\n    [isLightMode, paletteVars.error.light, paletteVars.info.light, paletteVars.success.light, paletteVars.warning.light]\r\n  );\r\n  const tabsLabelColor = isLightMode\r\n    ? paletteVars.text?.primary ?? '#000'\r\n    : paletteVars.common?.white ?? '#fff';\r\n\r\n  React.useEffect(() => {\r\n    if (typeof window !== 'undefined' && typeof window.scrollTo === 'function') {\r\n      window.scrollTo({ top: 0, left: 0, behavior: 'auto' });\r\n    }\r\n  }, []);\r\n\r\n  // ===== State principal =====\r\n  const [lineas, setLineas] = React.useState([]);\r\n  const [lineasSoloReal, setLineasSoloReal] = React.useState([]);\r\n  const [edits, setEdits] = React.useState({}); // { [id]: {categoria, tipo, montoEstimado, real} }\r\n  const [manualGuards, setManualGuards] = React.useState({}); // { [id]: { categoria: bool, tipo: bool, montoEstimado: bool, real: bool } }\r\n  const [guardPrompt, setGuardPrompt] = React.useState({ open: false, id: null, field: null, title: '', message: '', confirmLabel: '', movementIds: [] });\r\n  const [nombreMes, setNombreMes] = React.useState('Mes desconocido');\r\n  const [presupuestoNombre, setPresupuestoNombre] = React.useState('');\r\n  const [presupuestoId, setPresupuestoId] = React.useState(null);\r\n  const [ym, setYm] = React.useState(null); // YYYY-MM\r\n  const [mesesDisponibles, setMesesDisponibles] = React.useState([]);\r\n  const [tab, setTab] = React.useState(0);\r\n  const [totalRealMes, setTotalRealMes] = React.useState(0);\r\n  const goToDatosBrutos = React.useCallback(() => setTab(1), [setTab]);\r\n\r\n  // UI\r\n  const [simulacion, setSimulacion] = React.useState(false);\r\n  const [rowMenuIdx, setRowMenuIdx] = React.useState(null);\r\n  const [snack, setSnack] = React.useState({ open: false, message: '', severity: 'success' });\r\n\r\n  const [nueva, setNueva] = React.useState({ categoria: '', tipo: 'Egreso', montoEstimado: '' });\r\n  const [agregando, setAgregando] = React.useState(false);\r\n\r\n  const [dlgReglas, setDlgReglas] = React.useState(false);\r\n  const [regla, setRegla] = React.useState({ ambito: 'este_mes', modo: 'AJUSTE_PCT', valor: 10, solo: 'todos', rangoDesde: '', rangoHasta: '' });\r\n\r\n  const [dlgVarios, setDlgVarios] = React.useState(false);\r\n  const [bulkCfg, setBulkCfg] = React.useState({ accion: 'replicar', desde: '', hasta: '' });\r\n  const [deletePrompt, setDeletePrompt] = React.useState({ open: false, id: null, categoria: '', tipo: '' });\r\n  const [categoriasOptions, setCategoriasOptions] = React.useState(TODAS_LAS_CATEGORIAS);\r\n\r\n  const categoriasPronosticadas = React.useMemo(() => {\r\n    const ocupadas = new Set();\r\n    for (const linea of lineas) {\r\n      const normalizada = normCat(linea?.categoria);\r\n      if (normalizada) ocupadas.add(normalizada);\r\n    }\r\n    return ocupadas;\r\n  }, [lineas]);\r\n\r\n  const opcionesNuevaLinea = React.useMemo(() => {\r\n    let disponibles = categoriasOptions.filter((option) => {\r\n      if (typeof option !== 'string') return false;\r\n      const normalizada = normCat(option);\r\n      if (!normalizada) return false;\r\n      return !categoriasPronosticadas.has(normalizada);\r\n    });\r\n\r\n    if (nueva.categoria) {\r\n      const categoriaActualNorm = normCat(nueva.categoria);\r\n      const yaIncluida = disponibles.some((opt) => normCat(opt) === categoriaActualNorm);\r\n      if (!yaIncluida) {\r\n        disponibles = [nueva.categoria, ...disponibles];\r\n      }\r\n    }\r\n\r\n    return disponibles;\r\n  }, [categoriasOptions, categoriasPronosticadas, nueva.categoria]);\r\n\r\n  const { prevYm, nextYm } = React.useMemo(() => {\r\n    if (!ym || !mesesDisponibles.length) {\r\n      return { prevYm: null, nextYm: null };\r\n    }\r\n    const idx = mesesDisponibles.findIndex((value) => value === ym);\r\n    if (idx === -1) {\r\n      return { prevYm: null, nextYm: null };\r\n    }\r\n    return {\r\n      prevYm: idx > 0 ? mesesDisponibles[idx - 1] : null,\r\n      nextYm: idx < mesesDisponibles.length - 1 ? mesesDisponibles[idx + 1] : null,\r\n    };\r\n  }, [ym, mesesDisponibles]);\r\n\r\n  React.useEffect(() => {\r\n    let activo = true;\r\n    const cargarCategorias = async () => {\r\n      try {\r\n        const response = await http.get(`${API_CONFIG.REGISTRO}/api/categorias`);\r\n        if (!activo) return;\r\n        if (Array.isArray(response?.data) && response.data.length > 0) {\r\n          setCategoriasOptions(response.data);\r\n        }\r\n      } catch (error) {\r\n        console.error('No se pudieron obtener las categoras, se usan las predefinidas', error);\r\n      }\r\n    };\r\n    cargarCategorias();\r\n    return () => {\r\n      activo = false;\r\n    };\r\n  }, []);\r\n\r\n  // ===== Carga de datos =====\r\n  const fetchMes = React.useCallback(async (pid, ymStr, { skipStateUpdate = false } = {}) => {\r\n    if (!pid || !ymStr) return;\r\n\r\n    // 1) intento con YYYY-MM\r\n    const url1 = `${baseURL}/api/presupuestos/${pid}/mes/${ymStr}`;\r\n    // 2) fallback YYYY-MM-01 (si el backend guarda date)\r\n    const url2 = `${baseURL}/api/presupuestos/${pid}/mes/${ymToYmd(ymStr)}`;\r\n\r\n    const tryFetch = async (url) => {\r\n      try {\r\n        const res = await http.get(url);\r\n        const d = res?.data;\r\n        let arr =\r\n          Array.isArray(d) ? d :\r\n          Array.isArray(d?.lineas) ? d.lineas :\r\n          Array.isArray(d?.categorias) ? d.categorias : [];\r\n        const norm = arr.map(normalizeLine);\r\n        return norm;\r\n      } catch {\r\n        return null;\r\n      }\r\n    };\r\n\r\n    let l = await tryFetch(url1);\r\n    if (!l || l.length === 0) l = await tryFetch(url2);\r\n    const finalLineas = l || [];\r\n    if (!skipStateUpdate) setLineas(finalLineas);\r\n    return finalLineas;\r\n  }, []);\r\n\r\n  const cargarLineasConReales = React.useCallback(async (pid, ymStr) => {\r\n    const lineasBase = (await fetchMes(pid, ymStr, { skipStateUpdate: true })) || [];\r\n    const ymKey = typeof ymStr === 'string' ? ymStr.slice(0, 7) : '';\r\n    const referencia = dayjs(`${ymKey}-01`);\r\n    if (!referencia.isValid()) {\r\n      const sinReales = lineasBase.map((linea) => ({ ...linea, real: 0 }));\r\n      setLineas(sinReales);\r\n      setLineasSoloReal([]);\r\n      setTotalRealMes(0);\r\n      return sinReales;\r\n    }\r\n\r\n    try {\r\n      const refDate = referencia.toDate();\r\n      const fechaDesde = format(startOfMonth(refDate), 'yyyy-MM-dd');\r\n      const fechaHasta = format(endOfMonth(refDate), 'yyyy-MM-dd');\r\n\r\n      const [respEgreso, respIngreso] = await Promise.all([\r\n        getMovimientosPorRango({\r\n          fechaDesde,\r\n          fechaHasta,\r\n          tipos: 'Egreso',\r\n        }),\r\n        getMovimientosPorRango({\r\n          fechaDesde,\r\n          fechaHasta,\r\n          tipos: 'Ingreso',\r\n        }),\r\n      ]);\r\n      const movimientosEgreso = Array.isArray(respEgreso?.content) ? respEgreso.content : (Array.isArray(respEgreso) ? respEgreso : []);\r\n      const movimientosIngreso = Array.isArray(respIngreso?.content) ? respIngreso.content : (Array.isArray(respIngreso) ? respIngreso : []);\r\n\r\n      const agruparPorCategoria = (lista) => lista.reduce((acc, movimiento) => {\r\n        const nombreOriginal =\r\n          movimiento?.categoriaNombre || movimiento?.categoria || movimiento?.categoria_id_nombre || 'Sin categora';\r\n        const key = normCat(nombreOriginal);\r\n        if (!key) return acc;\r\n        const monto = Math.abs(\r\n          Number(movimiento?.monto ?? movimiento?.montoTotal ?? movimiento?.monto_total ?? 0)\r\n        ) || 0;\r\n        if (!Number.isFinite(monto)) return acc;\r\n        if (!acc[key]) {\r\n          acc[key] = { total: 0, label: nombreOriginal || 'Sin categora', movementIds: [] };\r\n        }\r\n        acc[key].total += monto;\r\n        const rawMovimientoId =\r\n          movimiento?.id ??\r\n          movimiento?.movimientoId ??\r\n          movimiento?.movimiento_id ??\r\n          movimiento?.movimientoID ??\r\n          movimiento?.idMovimiento ??\r\n          null;\r\n        const movimientoId = rawMovimientoId != null ? String(rawMovimientoId) : null;\r\n        if (movimientoId && !acc[key].movementIds.includes(movimientoId)) {\r\n          acc[key].movementIds.push(movimientoId);\r\n        }\r\n        return acc;\r\n      }, {});\r\n\r\n      const realesPorCategoriaEgreso = agruparPorCategoria(movimientosEgreso);\r\n      const realesPorCategoriaIngreso = agruparPorCategoria(movimientosIngreso);\r\n      const totalRealEgreso = Object.values(realesPorCategoriaEgreso).reduce((acc, data) => acc + data.total, 0);\r\n\r\n      const lineasConReales = lineasBase.map((linea) => {\r\n        const key = normCat(linea.categoriaNombre || linea.categoria);\r\n        const tipoKey = (linea.tipo || '').toUpperCase();\r\n        const baseMovementIds = Array.isArray(linea.movimientoIds)\r\n          ? linea.movimientoIds.map((id) => String(id))\r\n          : [];\r\n        let real = 0;\r\n        let movementIds = baseMovementIds;\r\n        if (tipoKey === 'INGRESO') {\r\n          const info = realesPorCategoriaIngreso[key];\r\n          real = info?.total || 0;\r\n          const extraIds = Array.isArray(info?.movementIds) ? info.movementIds.map((id) => String(id)) : [];\r\n          movementIds = Array.from(new Set([...baseMovementIds, ...extraIds]));\r\n        } else if (tipoKey === 'EGRESO') {\r\n          const info = realesPorCategoriaEgreso[key];\r\n          real = info?.total || 0;\r\n          const extraIds = Array.isArray(info?.movementIds) ? info.movementIds.map((id) => String(id)) : [];\r\n          movementIds = Array.from(new Set([...baseMovementIds, ...extraIds]));\r\n        }\r\n        return {\r\n          ...linea,\r\n          real,\r\n          movimientoIds: movementIds,\r\n        };\r\n      });\r\n\r\n      const categoriasPorTipo = lineasBase.reduce((acc, linea) => {\r\n        const tipoKey = (linea.tipo || '').toUpperCase();\r\n        const key = normCat(linea.categoriaNombre || linea.categoria);\r\n        if (!acc[tipoKey]) acc[tipoKey] = new Set();\r\n        acc[tipoKey].add(key);\r\n        return acc;\r\n      }, {});\r\n\r\n      const adicionales = [];\r\n      const registrarAdicionales = (tipoKey, mapa) => {\r\n        const set = categoriasPorTipo[tipoKey] || new Set();\r\n        Object.entries(mapa).forEach(([key, data]) => {\r\n          if (!set.has(key)) {\r\n            adicionales.push({\r\n              id: `real-only-${tipoKey}-${key}`,\r\n              categoria: data.label || 'Sin categora',\r\n              tipo: normalizeTipo(tipoKey),\r\n              montoEstimado: 0,\r\n              real: data.total,\r\n              _soloReal: true,\r\n              movimientoIds: Array.from(new Set((data.movementIds || []).map((id) => String(id)))),\r\n            });\r\n          }\r\n        });\r\n      };\r\n\r\n      registrarAdicionales('EGRESO', realesPorCategoriaEgreso);\r\n      registrarAdicionales('INGRESO', realesPorCategoriaIngreso);\r\n\r\n      setLineas(lineasConReales);\r\n      setLineasSoloReal(adicionales);\r\n      setTotalRealMes(totalRealEgreso);\r\n      return lineasConReales;\r\n    } catch (movErr) {\r\n      console.error('Error al obtener datos reales del mes:', movErr);\r\n      const fallback = lineasBase.map((linea) => ({\r\n        ...linea,\r\n        real: 0,\r\n      }));\r\n      setLineas(fallback);\r\n      setLineasSoloReal([]);\r\n      setTotalRealMes(0);\r\n      setSnack({ open: true, message: 'No se pudieron cargar los datos reales del mes.', severity: 'error' });\r\n      return fallback;\r\n    }\r\n  }, [fetchMes, setSnack]);\r\n\r\n  React.useEffect(() => {\r\n    const cargar = async () => {\r\n      try {\r\n        // 1) buscar presupuesto por nombre\r\n        const resPres = await http.get(`${baseURL}/api/presupuestos`);\r\n        const listaPayload = resPres?.data;\r\n        let lista = [];\r\n        if (Array.isArray(listaPayload)) {\r\n          lista = listaPayload;\r\n        } else if (Array.isArray(listaPayload?.content)) {\r\n          lista = listaPayload.content;\r\n        }\r\n\r\n        const decodedNombre = decodeURIComponent(nombreUrl || '').trim().toLowerCase().replace(/\\s+/g, '-');\r\n        const p = lista.find(pp => (pp?.nombre || '').trim().toLowerCase().replace(/\\s+/g, '-') === decodedNombre);\r\n        if (!p?.id) throw new Error('Presupuesto no encontrado');\r\n\r\n        setPresupuestoNombre(p.nombre);\r\n        setPresupuestoId(p.id);\r\n\r\n      // 2) resolver YYYY-MM desde mesNombreUrl usando /totales\r\n      const mesNumStr = mesANumero[(mesNombreUrl || '').toLowerCase().trim()];\r\n      if (!mesNumStr) throw new Error('Mes no vlido');\r\n\r\n      const resTot = await http.get(`${baseURL}/api/presupuestos/${p.id}/totales`);\r\n      const totales = Array.isArray(resTot.data) ? resTot.data : [];\r\n      const mesesLista = Array.from(\r\n        new Set(\r\n          totales\r\n            .map((t) => (t?.mes ? String(t.mes) : ''))\r\n            .filter(Boolean)\r\n        )\r\n      ).sort((a, b) => a.localeCompare(b));\r\n      setMesesDisponibles(mesesLista);\r\n      const item = totales.find(t => String(t?.mes || '').endsWith(`-${mesNumStr}`));\r\n      if (!item?.mes) throw new Error('Mes no encontrado en totales');\r\n\r\n      setYm(item.mes);\r\n      setNombreMes(formatearMes(item.mes));\r\n\r\n      // 3) cargar lineas reales\r\n      await cargarLineasConReales(p.id, item.mes);\r\n  \r\n      } catch (err) {\r\n        console.error(err);\r\n        setLineas([]);\r\n        setMesesDisponibles([]);\r\n        setYm(null);\r\n        setNombreMes('Mes desconocido');\r\n        setSnack({ open: true, message: err?.message || 'Error cargando mes', severity: 'error' });\r\n      }\r\n    };\r\n\r\n    if (nombreUrl && mesNombreUrl) cargar();\r\n  }, [nombreUrl, mesNombreUrl, cargarLineasConReales]);\r\n\r\n  const handleCambiarMes = React.useCallback(async (targetYm) => {\r\n    if (!targetYm || !presupuestoId) return;\r\n    try {\r\n      await cargarLineasConReales(presupuestoId, targetYm);\r\n      setYm(targetYm);\r\n      setNombreMes(formatearMes(targetYm));\r\n    } catch (err) {\r\n      console.error('Error cambiando de mes', err);\r\n      setSnack({ open: true, message: 'No se pudieron cargar los datos del mes seleccionado.', severity: 'error' });\r\n    }\r\n  }, [presupuestoId, cargarLineasConReales, setSnack]);\r\n\r\n  // Sincronizo `edits` cuando cambian las lineas\r\n  const lineasCompleto = React.useMemo(\r\n    () => [...lineas, ...lineasSoloReal],\r\n    [lineas, lineasSoloReal]\r\n  );\r\n\r\n  React.useEffect(() => {\r\n    const nextEdits = {};\r\n    for (const l of lineasCompleto) {\r\n      nextEdits[l.id] = {\r\n        categoria: l.categoria,\r\n        tipo: l.tipo,\r\n        montoEstimado: safeNumber(l.montoEstimado),\r\n        real: l.real === null || typeof l.real === 'undefined' ? '' : safeNumber(l.real)\r\n      };\r\n    }\r\n    setEdits(nextEdits);\r\n    setManualGuards((prev) => {\r\n      const nextGuards = {};\r\n      for (const l of lineasCompleto) {\r\n        nextGuards[l.id] = {\r\n          categoria: prev[l.id]?.categoria || false,\r\n          tipo: prev[l.id]?.tipo || false,\r\n          montoEstimado: prev[l.id]?.montoEstimado || false,\r\n          real: prev[l.id]?.real || false,\r\n        };\r\n      }\r\n      return nextGuards;\r\n    });\r\n  }, [lineasCompleto]);\r\n\r\n  const requestManualUnlock = React.useCallback((id, field) => {\r\n    const cfg = GUARD_MESSAGES[field] || {};\r\n    if (field === 'real') {\r\n      const targetLine = lineasCompleto.find((l) => l.id === id);\r\n      const movementIds = Array.isArray(targetLine?.movimientoIds)\r\n        ? targetLine.movimientoIds.map((value) => String(value))\r\n        : [];\r\n      if (!movementIds.length) {\r\n        setSnack({ open: true, message: 'No se encontro el movimiento para editar.', severity: 'error' });\r\n        return;\r\n      }\r\n      setGuardPrompt({\r\n        open: true,\r\n        id,\r\n        field,\r\n        title: cfg.title || 'Editar monto real',\r\n        message: cfg.body || 'Esta accion habilita la edicion manual.',\r\n        confirmLabel: cfg.confirmLabel || 'Habilitar edicion en movimientos',\r\n        movementIds,\r\n      });\r\n      return;\r\n    }\r\n    setGuardPrompt({\r\n      open: true,\r\n      id,\r\n      field,\r\n      title: cfg.title || 'Confirmar edicion manual',\r\n      message: cfg.body || 'Esta accion habilita la edicion manual.',\r\n      confirmLabel: cfg.confirmLabel || 'Habilitar',\r\n      movementIds: [],\r\n    });\r\n  }, [lineasCompleto, setSnack]);\r\n\r\n  const handleGuardCancel = React.useCallback(() => {\r\n    setGuardPrompt({ open: false, id: null, field: null, title: '', message: '', confirmLabel: '', movementIds: [] });\r\n  }, []);\r\n\r\n  const toggleManualGuard = React.useCallback((id, field, enabled) => {\r\n    const fieldsToToggle = field === 'categoria' ? ['categoria', 'tipo', 'montoEstimado'] : [field];\r\n    setManualGuards((prev) => {\r\n      const next = { ...prev };\r\n      const current = { ...(next[id] || {}) };\r\n      fieldsToToggle.forEach((key) => {\r\n        current[key] = enabled;\r\n      });\r\n      next[id] = current;\r\n      return next;\r\n    });\r\n    if (!enabled) {\r\n      const linea = lineasCompleto.find((l) => l.id === id);\r\n      if (linea) {\r\n        setEdits((prev) => {\r\n          const updated = { ...(prev[id] || {}) };\r\n          fieldsToToggle.forEach((key) => {\r\n            if (key === 'real') {\r\n              updated[key] = linea.real === null || typeof linea.real === 'undefined' ? '' : safeNumber(linea.real);\r\n            } else if (key === 'tipo') {\r\n              updated[key] = linea.tipo;\r\n            } else if (key === 'montoEstimado') {\r\n              updated[key] = safeNumber(linea.montoEstimado);\r\n            } else if (key === 'categoria') {\r\n              updated[key] = linea.categoria;\r\n            }\r\n          });\r\n          return { ...prev, [id]: updated };\r\n        });\r\n      }\r\n      const label = GUARD_FIELD_LABELS[field] || field;\r\n      setSnack({ open: true, message: `Edicin manual desactivada para ${label}.`, severity: 'info' });\r\n    }\r\n  }, [lineasCompleto, setSnack]);\r\n\r\n  const handleGuardConfirm = React.useCallback(() => {\r\n    if (!(guardPrompt.open && guardPrompt.id != null && guardPrompt.field)) {\r\n      setGuardPrompt({ open: false, id: null, field: null, title: '', message: '', confirmLabel: '', movementIds: [] });\r\n      return;\r\n    }\r\n\r\n    if (guardPrompt.field === 'real') {\r\n      const targetLine = lineasCompleto.find((l) => l.id === guardPrompt.id);\r\n      const combinedIds = guardPrompt.movementIds && guardPrompt.movementIds.length\r\n        ? guardPrompt.movementIds\r\n        : Array.isArray(targetLine?.movimientoIds)\r\n          ? targetLine.movimientoIds.map((value) => String(value))\r\n          : [];\r\n      const movementId = combinedIds[0];\r\n      setGuardPrompt({ open: false, id: null, field: null, title: '', message: '', confirmLabel: '', movementIds: [] });\r\n      if (!movementId) {\r\n        setSnack({ open: true, message: 'No se encontro el movimiento para editar.', severity: 'error' });\r\n        return;\r\n      }\r\n      const params = new URLSearchParams();\r\n      params.set('editMovementId', movementId);\r\n      navigate(`/ver-movimientos?${params.toString()}`, {\r\n        state: {\r\n          editMovementId: movementId,\r\n          editMovementMeta: {\r\n            from: 'presupuesto',\r\n            presupuestoId,\r\n            ym,\r\n            categoria: targetLine?.categoria || '',\r\n            movimientoIds: combinedIds,\r\n          },\r\n        },\r\n      });\r\n      return;\r\n    }\r\n\r\n    toggleManualGuard(guardPrompt.id, guardPrompt.field, true);\r\n    const label = GUARD_FIELD_LABELS[guardPrompt.field] || guardPrompt.field;\r\n    setSnack({ open: true, message: `Edicion manual habilitada para ${label}.`, severity: 'warning' });\r\n    setGuardPrompt({ open: false, id: null, field: null, title: '', message: '', confirmLabel: '', movementIds: [] });\r\n  }, [guardPrompt, lineasCompleto, navigate, toggleManualGuard, setSnack, presupuestoId, ym]);\r\n\r\n  const isFieldUnlocked = React.useCallback(\r\n    (id, field) => manualGuards[id]?.[field] === true,\r\n    [manualGuards]\r\n  );\r\n\r\n  const reloadMes = React.useCallback(async () => {\r\n    if (presupuestoId && ym) await cargarLineasConReales(presupuestoId, ym);\r\n  }, [presupuestoId, ym, cargarLineasConReales]);\r\n\r\n  // ===== Derivados =====\r\n  const ingresos = React.useMemo(\r\n    () => lineasCompleto.filter((c) => (c.tipo || '').toUpperCase() === 'INGRESO'),\r\n    [lineasCompleto]\r\n  );\r\n  const egresos = React.useMemo(\r\n    () => lineasCompleto.filter((c) => (c.tipo || '').toUpperCase() === 'EGRESO'),\r\n    [lineasCompleto]\r\n  );\r\n\r\n  const totalIngresos = ingresos.reduce((acc, c) => acc + safeNumber(c.real), 0);\r\n  const totalEgresosCalculado = egresos.reduce((acc, c) => acc + safeNumber(c.real), 0);\r\n  const totalEgresos = Number.isFinite(totalRealMes) ? totalRealMes : totalEgresosCalculado;\r\n  const resultado = totalIngresos - totalEgresos;\r\n\r\n  const estimadoTotal = lineasCompleto.reduce(\r\n    (acc, c) => acc + safeNumber(c.montoEstimado) * (c.tipo === 'Ingreso' ? 1 : -1),\r\n    0\r\n  );\r\n  const cumplimiento = Math.abs(estimadoTotal) > 0 ? (resultado / Math.abs(estimadoTotal)) : 0;\r\n\r\n  const vencidosEstimados = lineas.filter(\r\n    (c) => safeNumber(c.montoEstimado) !== 0 && safeNumber(c.real) === 0\r\n  ).length;\r\n\r\n  const pieDataIngresos = ingresos.map((i) => ({ name: i.categoria, value: safeNumber(i.real) }));\r\n  const barDataIngresos = ingresos.map((i) => ({\r\n    name: i.categoria,\r\n    estimado: safeNumber(i.montoEstimado),\r\n    real: safeNumber(i.real),\r\n  }));\r\n  const pieDataEgresos = egresos.map((e) => ({ name: e.categoria, value: safeNumber(e.real) }));\r\n  const barDataEgresos = egresos.map((e) => ({\r\n    name: e.categoria,\r\n    estimado: safeNumber(e.montoEstimado),\r\n    real: safeNumber(e.real),\r\n  }));\r\n\r\n  // ===== Export =====\r\n  const handleExportExcel = () => {\r\n    const data = [\r\n      ['Categora', 'Tipo', 'Monto Estimado', 'Monto Registrado', 'Desvo'],\r\n      ...lineasCompleto.map((item) => [\r\n        item.categoria,\r\n        item.tipo,\r\n        safeNumber(item.montoEstimado),\r\n        safeNumber(item.real),\r\n        (item.tipo === 'Egreso'\r\n            ? safeNumber(item.montoEstimado) - safeNumber(item.real)\r\n            : safeNumber(item.real) - safeNumber(item.montoEstimado)),\r\n      ]),\r\n    ];\r\n    data.push(['', '', '', '', '']);\r\n    data.push(['Resultado:', '', '', '', resultado]);\r\n\r\n    import('xlsx').then(({ utils, writeFile }) => {\r\n      const ws = utils.aoa_to_sheet(data, { cellStyles: true });\r\n      const wb = utils.book_new();\r\n      utils.book_append_sheet(wb, ws, 'Detalle Mes');\r\n      writeFile(wb, `Mes_${nombreMes}_${Date.now()}.xlsx`, { cellStyles: true });\r\n    });\r\n  };\r\n\r\n  const handleExportPdf = () => {\r\n    import('html2pdf.js').then((html2pdf) => {\r\n      const element = document.getElementById('mes-detalle-content');\r\n      const opt = {\r\n        margin: 1,\r\n        filename: `Mes_${nombreMes}_${Date.now()}.pdf`,\r\n        image: { type: 'jpeg', quality: 0.98 },\r\n        html2canvas: { scale: 2 },\r\n        jsPDF: { unit: 'in', format: 'letter', orientation: 'portrait' },\r\n      };\r\n      html2pdf.default().from(element).set(opt).save();\r\n    });\r\n  };\r\n\r\n  // ===== CRUD =====\r\n  const toCamelPayload = (l) => ({\r\n    categoria: l.categoria,\r\n    tipo: l.tipo,\r\n    montoEstimado: Number(l.montoEstimado ?? 0),\r\n    real: l.real === '' || l.real == null ? null : Number(l.real),\r\n  });\r\n\r\n  const toSnakePayload = (l) => ({\r\n    categoria: l.categoria,\r\n    tipo: l.tipo,\r\n    monto_estimado: Number(l.montoEstimado ?? 0),\r\n    real: l.real === '' || l.real == null ? null : Number(l.real),\r\n  });\r\n\r\n  const tryPatchOrPut = async (method, url, data) => {\r\n    if (method === 'patch') return http.patch(url, data);\r\n    return http.put(url, data);\r\n  };\r\n\r\n  const patchLinea = async (l) => {\r\n    try {\r\n      if (!presupuestoId || !ym || !l?.id) return;\r\n\r\n      const urls = [\r\n        `${baseURL}/api/presupuestos/${presupuestoId}/mes/${ym}/lineas/${l.id}`,\r\n        `${baseURL}/api/presupuestos/${presupuestoId}/mes/${ymToYmd(ym)}/lineas/${l.id}`,\r\n      ];\r\n      const methods = ['patch', 'put']; // por si el backend usa PUT\r\n      const payloads = [toCamelPayload(l), toSnakePayload(l)];\r\n\r\n      let lastErr = null;\r\n\r\n      for (const url of urls) {\r\n        for (const method of methods) {\r\n          // 1) camelCase\r\n          try {\r\n            await tryPatchOrPut(method, url, payloads[0]);\r\n            setManualGuards((prev) => {\r\n              if (!prev || !prev[l.id]) return prev;\r\n              return { ...prev, [l.id]: { categoria: false, real: false } };\r\n            });\r\n            await reloadMes();\r\n            setSnack({ open: true, message: 'Lnea actualizada', severity: 'success' });\r\n            return;\r\n          } catch (e1) {\r\n            lastErr = e1;\r\n            // 2) snake_case si hubo 400 (bad request por nombres de campos)\r\n            const status = e1?.response?.status;\r\n            if (status === 400) {\r\n              try {\r\n                await tryPatchOrPut(method, url, payloads[1]);\r\n                setManualGuards((prev) => {\r\n                  if (!prev || !prev[l.id]) return prev;\r\n                  return { ...prev, [l.id]: { categoria: false, real: false } };\r\n                });\r\n                await reloadMes();\r\n                setSnack({ open: true, message: 'Lnea actualizada', severity: 'success' });\r\n                return;\r\n              } catch (e2) {\r\n                lastErr = e2;\r\n              }\r\n            }\r\n            // si 404/405 seguimos probando con otra URL o mtodo\r\n          }\r\n        }\r\n      }\r\n\r\n      const serverMsg =\r\n        lastErr?.response?.data?.message ||\r\n        lastErr?.response?.data?.error ||\r\n        lastErr?.message ||\r\n        'Error al actualizar';\r\n\r\n      setSnack({ open: true, message: serverMsg, severity: 'error' });\r\n      console.error('patchLinea error:', lastErr?.response || lastErr);\r\n    } catch (e) {\r\n      console.error(e);\r\n      setSnack({ open: true, message: 'Error al actualizar', severity: 'error' });\r\n    }\r\n  };\r\n\r\n\r\n  const openDeletePrompt = (item) => {\r\n    setDeletePrompt({ open: true, id: item.id, categoria: item.categoria, tipo: item.tipo });\r\n  };\r\n\r\n  const closeDeletePrompt = () => {\r\n    setDeletePrompt((prev) => ({ ...prev, open: false }));\r\n  };\r\n\r\n\r\n  const deleteLinea = async (lineaId) => {\r\n    try {\r\n      if (!presupuestoId || !ym || !lineaId) return;\r\n      await http.delete(`${baseURL}/api/presupuestos/${presupuestoId}/mes/${ym}/lineas/${lineaId}`);\r\n      await reloadMes();\r\n      setSnack({ open: true, message: 'Lnea eliminada', severity: 'success' });\r\n    } catch (e) {\r\n      console.error(e);\r\n      setSnack({ open: true, message: 'Error al eliminar', severity: 'error' });\r\n    }\r\n  };\r\n  const confirmDeletePrompt = async () => {\r\n    const targetId = deletePrompt.id;\r\n    setDeletePrompt({ open: false, id: null, categoria: '', tipo: '' });\r\n    if (targetId != null) {\r\n      await deleteLinea(targetId);\r\n    }\r\n  };\r\n\r\n\r\n\r\n  const addLinea = async () => {\r\n    try {\r\n      if (!presupuestoId || !ym) return;\r\n      if (!nueva.categoria || !nueva.tipo) {\r\n        setSnack({ open: true, message: 'Complet Categora y tipo', severity: 'warning' });\r\n        return;\r\n      }\r\n      const payload = {\r\n        categoria: nueva.categoria,\r\n        tipo: nueva.tipo,\r\n        montoEstimado: Number(nueva.montoEstimado || 0),\r\n      };\r\n      await http.post(`${baseURL}/api/presupuestos/${presupuestoId}/mes/${ym}/lineas`, payload);\r\n      setNueva({ categoria: '', tipo: 'Egreso', montoEstimado: '' });\r\n      setAgregando(false);\r\n      await reloadMes();\r\n      setSnack({ open: true, message: 'Lnea agregada', severity: 'success' });\r\n  } catch (e) {\r\n    console.error(e);\r\n    setSnack({ open: true, message: 'Error al agregar', severity: 'error' });\r\n  }\r\n};\r\n\r\n  const crearLineaDesdeReal = async (l) => {\r\n    try {\r\n      if (!presupuestoId || !ym) return;\r\n      const payload = {\r\n        categoria: l.categoria,\r\n        tipo: l.tipo,\r\n        montoEstimado: safeNumber(l.montoEstimado),\r\n        real: l.real === '' || l.real == null ? null : safeNumber(l.real),\r\n      };\r\n      await http.post(`${baseURL}/api/presupuestos/${presupuestoId}/mes/${ym}/lineas`, payload);\r\n      setSnack({ open: true, message: 'Lnea agregada desde movimiento real.', severity: 'success' });\r\n      await reloadMes();\r\n    } catch (e) {\r\n      console.error(e);\r\n      const msg = e?.response?.data?.message || 'Error al crear lnea';\r\n      setSnack({ open: true, message: msg, severity: 'error' });\r\n    }\r\n  };\r\n\r\n  // ===== Bulk en varios meses =====\r\n  const abrirDlgVariosConFila = (idx) => {\r\n    const idxEfectivo = (typeof idx === 'number') ? idx : rowMenuIdx;\r\n    if (idxEfectivo == null) return;\r\n    setRowMenuIdx(idxEfectivo); // asegura que quede seteado\r\n    setBulkCfg((c) => ({ ...c, accion: 'replicar', desde: ym || '', hasta: ym || '' }));\r\n    setDlgVarios(true);\r\n  };\r\n\r\n  const ejecutarBulk = async () => {\r\n    try {\r\n      if (rowMenuIdx == null) return;\r\n      const l = lineas[rowMenuIdx];\r\n      if (!l || !presupuestoId) return;\r\n\r\n      const { accion, desde, hasta } = bulkCfg;\r\n      if (!desde || !hasta) {\r\n        setSnack({ open: true, message: 'Complet rango de meses', severity: 'warning' });\r\n        return;\r\n      }\r\n      const meses = mesesEntre(desde, hasta);\r\n      if (meses.length === 0) {\r\n        setSnack({ open: true, message: 'Rango invlido', severity: 'warning' });\r\n        return;\r\n      }\r\n\r\n      if (accion === 'replicar') {\r\n        const payload = {\r\n          categoria: l.categoria,\r\n          tipo: l.tipo,\r\n          montoEstimado: Number(l.montoEstimado || 0),\r\n          real: l.real === '' || l.real == null ? null : Number(l.real),\r\n        };\r\n        for (const ymX of meses) {\r\n          await http.post(`${baseURL}/api/presupuestos/${presupuestoId}/mes/${ymX}/lineas`, payload);\r\n        }\r\n        setSnack({ open: true, message: `Replicado en ${meses.length} mes(es)`, severity: 'success' });\r\n      } else if (accion === 'eliminar') {\r\n        for (const ymX of meses) {\r\n          // tolerante con los dos formatos\r\n          const urls = [\r\n            `${baseURL}/api/presupuestos/${presupuestoId}/mes/${ymX}`,\r\n            `${baseURL}/api/presupuestos/${presupuestoId}/mes/${ymToYmd(ymX)}`\r\n          ];\r\n          let ls = [];\r\n          for (const u of urls) {\r\n            try {\r\n              const res = await http.get(u);\r\n              const d = res?.data;\r\n              const arr = Array.isArray(d) ? d : Array.isArray(d?.lineas) ? d.lineas : Array.isArray(d?.categorias) ? d.categorias : [];\r\n              ls = arr.map(normalizeLine);\r\n              if (ls.length) break;\r\n            } catch { /* ignore */ }\r\n          }\r\n          const toDelete = ls.filter(ll =>\r\n            (ll.categoria || '').toLowerCase().trim() === (l.categoria || '').toLowerCase().trim() &&\r\n            ll.tipo === l.tipo\r\n          );\r\n          for (const d of toDelete) {\r\n            await http.delete(`${baseURL}/api/presupuestos/${presupuestoId}/mes/${ymX}/lineas/${d.id}`);\r\n          }\r\n        }\r\n        setSnack({ open: true, message: `Eliminado en ${meses.length} mes(es)`, severity: 'success' });\r\n      }\r\n      setDlgVarios(false);\r\n      await reloadMes();\r\n    } catch (e) {\r\n      console.error(e);\r\n      setSnack({ open: true, message: 'Error en operacin por mltiples meses', severity: 'error' });\r\n    }\r\n  };\r\n  // ===== Render =====\r\n  return (\r\n    <Box id=\"mes-detalle-content\" sx={{ width: '100%', p: 3 }}>\r\n      <Box\r\n        sx={{\r\n          display: 'flex',\r\n          alignItems: 'center',\r\n          gap: 1.5,\r\n          mb: 1.5,\r\n          justifyContent: 'flex-start',\r\n        }}\r\n      >\r\n        <Box sx={{ width: 40, display: 'flex', justifyContent: 'flex-start' }}>\r\n          <IconButton\r\n            size=\"small\"\r\n            onClick={() => prevYm && handleCambiarMes(prevYm)}\r\n            aria-label=\"Mes anterior\"\r\n            disabled={!prevYm}\r\n            sx={{\r\n              color: '#04564c',\r\n              '&.Mui-disabled': { color: '#04564c', opacity: 0.5 },\r\n            }}\r\n          >\r\n            <ChevronLeftIcon fontSize=\"small\" />\r\n          </IconButton>\r\n        </Box>\r\n        <Typography\r\n          variant=\"h4\"\r\n          fontWeight=\"600\"\r\n          sx={{\r\n            flexGrow: 0,\r\n            flexShrink: 0,\r\n            textAlign: 'center',\r\n            minWidth: '14ch',\r\n            whiteSpace: 'nowrap',\r\n          }}\r\n        >\r\n          {nombreMes}\r\n        </Typography>\r\n        <Box sx={{ width: 40, display: 'flex', justifyContent: 'flex-start' }}>\r\n          <IconButton\r\n            size=\"small\"\r\n            onClick={() => nextYm && handleCambiarMes(nextYm)}\r\n            aria-label=\"Mes siguiente\"\r\n            disabled={!nextYm}\r\n            sx={{\r\n              color: '#04564c',\r\n              '&.Mui-disabled': { color: '#04564c', opacity: 0.5 },\r\n            }}\r\n          >\r\n            <ChevronRightIcon fontSize=\"small\" />\r\n          </IconButton>\r\n        </Box>\r\n      </Box>\r\n      <Typography variant=\"subtitle1\" sx={{ color: 'text.primary' }} gutterBottom>Detalle de {presupuestoNombre}</Typography>\r\n\r\n      <Paper sx={{ p: 2, mb: 2 }}>\r\n        <Stack direction=\"row\" alignItems=\"center\" justifyContent=\"space-between\" flexWrap=\"wrap\" gap={2}>\r\n          <Stack direction=\"row\" spacing={2} alignItems=\"center\">\r\n            <Chip label={`Cumplimiento: ${(cumplimiento * 100).toFixed(0)}%`} color={cumplimiento >= 0.95 ? 'success' : cumplimiento >= 0.8 ? 'warning' : 'error'} />\r\n            <Chip\r\n              icon={vencidosEstimados > 0 ? <WarningAmberOutlinedIcon /> : undefined}\r\n              label={`${vencidosEstimados} movimientos estimados sin registrar`}\r\n              variant=\"filled\"\r\n              color={vencidosEstimados === 0 ? 'success' : undefined}\r\n              sx={vencidosEstimados === 0 ? undefined : SIN_PRONOSTICO_CHIP_SX}\r\n            />\r\n          </Stack>\r\n          <Stack direction=\"row\" spacing={1} alignItems=\"center\">\r\n            <ExportadorSimple onExportPdf={handleExportPdf} onExportExcel={handleExportExcel} />\r\n          </Stack>\r\n        </Stack>\r\n      </Paper>\r\n\r\n      <Box sx={{ display: 'flex', justifyContent: 'flex-start', alignItems: 'center', mb: 2, mt: 1, gap: 1, flexWrap: 'wrap' }}>\r\n        <Tabs value={tab} onChange={(e, v) => setTab(v)} indicatorColor=\"primary\">\r\n          <Tab\r\n            label=\"Resumen\"\r\n            sx={{\r\n              color: tabsLabelColor,\r\n              '&.Mui-selected': { color: tabsLabelColor },\r\n              '& .MuiTab-wrapper': { color: tabsLabelColor },\r\n            }}\r\n          />\r\n          <Tab\r\n            label=\"Datos brutos (editar)\"\r\n            sx={{\r\n              color: tabsLabelColor,\r\n              '&.Mui-selected': { color: tabsLabelColor },\r\n              '& .MuiTab-wrapper': { color: tabsLabelColor },\r\n            }}\r\n          />\r\n        </Tabs>\r\n      </Box>\r\n\r\n      {/* === Pestaa 0 === */}\r\n      {tab === 0 && (\r\n        <>\r\n          <Grid container spacing={3} mb={2}>\r\n            <Grid item xs={12} sm={6} md={4}>\r\n              <Paper sx={{ p: 3, textAlign: 'center', bgcolor: kpiColors.ingresos, color: 'white' }}>\r\n                <Avatar sx={{ width: 56, height: 56, bgcolor: 'white', color: 'success.main', mx: 'auto', mb: 1 }}>+</Avatar>\r\n                <Typography variant=\"h6\">Ingresos</Typography>\r\n                <Typography variant=\"h4\" fontWeight=\"bold\">{formatCurrency(totalIngresos)}</Typography>\r\n              </Paper>\r\n            </Grid>\r\n            <Grid item xs={12} sm={6} md={4}>\r\n              <Paper sx={{ p: 3, textAlign: 'center', bgcolor: kpiColors.egresos, color: 'white' }}>\r\n                <Avatar sx={{ width: 56, height: 56, bgcolor: 'white', color: 'error.main', mx: 'auto', mb: 1 }}>-</Avatar>\r\n                <Typography variant=\"h6\">Egresos</Typography>\r\n                <Typography variant=\"h4\" fontWeight=\"bold\">{formatCurrency(totalEgresos)}</Typography>\r\n              </Paper>\r\n            </Grid>\r\n            <Grid item xs={12} sm={6} md={4}>\r\n              <Paper sx={{ p: 3, textAlign: 'center', bgcolor: resultado >= 0 ? kpiColors.resultadoPos : kpiColors.resultadoNeg, color: 'white' }}>\r\n                <Avatar sx={{ width: 56, height: 56, bgcolor: 'white', color: resultado >= 0 ? 'info.main' : 'warning.main', mx: 'auto', mb: 1 }}>\r\n                  {resultado >= 0 ? '' : ''}\r\n                </Avatar>\r\n                <Typography variant=\"h6\">Resultado</Typography>\r\n                <Typography variant=\"h4\" fontWeight=\"bold\">{formatCurrency(resultado)}</Typography>\r\n              </Paper>\r\n            </Grid>\r\n          </Grid>\r\n\r\n          {/* Grficos */}\r\n          {pieDataIngresos.length > 0 ? (\r\n            <Paper sx={{ p: 3, mb: 2 }}>\r\n              <Typography variant=\"h6\" gutterBottom fontWeight=\"600\">Distribucin de Ingresos por Categora</Typography>\r\n              <ResponsiveContainer width=\"100%\" height={300}>\r\n                <PieChart>\r\n                  <Pie data={pieDataIngresos} dataKey=\"value\" nameKey=\"name\" cx=\"50%\" cy=\"50%\" outerRadius={100}\r\n                       label={({ name, percent }) => `${name} ${(percent * 100).toFixed(0)}%`}>\r\n                    {pieDataIngresos.map((_, i) => <Cell key={`ing-${i}`} fill={INGRESO_COLOR} opacity={0.7 + i * 0.1} />)}\r\n                  </Pie>\r\n                  <RTooltip formatter={(value) => formatCurrency(value)} />\r\n                  <Legend />\r\n                </PieChart>\r\n              </ResponsiveContainer>\r\n            </Paper>\r\n          ) : (\r\n            <Paper sx={{ p: 3, mb: 2, textAlign: 'center' }}>\r\n              <Typography color=\"text.secondary\">No hay ingresos registrados este mes.</Typography>\r\n            </Paper>\r\n          )}\r\n\r\n          {barDataIngresos.length > 0 && (\r\n            <Paper sx={{ p: 3, mb: 2 }}>\r\n              <Typography variant=\"h6\" gutterBottom fontWeight=\"600\">Ingresos: Estimado vs Real por Categora</Typography>\r\n              <Box sx={{ mt: 2 }}>\r\n                {barDataIngresos.map((item, index) => {\r\n                  const estimadoN = safeNumber(item.estimado);\r\n                  const realN = safeNumber(item.real);\r\n                  const max = Math.max(estimadoN, realN) * 1.2 || 1;\r\n                  const sinPronostico = estimadoN === 0 && realN > 0;\r\n                  return (\r\n                    <Box key={`${item.name}-${index}`} sx={{ mb: 3 }}>\r\n                      <Stack direction=\"row\" spacing={1} alignItems=\"center\" mb={1}>\r\n                        <Typography variant=\"subtitle1\" fontWeight=\"600\">{item.name}</Typography>\r\n                        {sinPronostico && (\r\n                          <Tooltip\r\n                            title=\"Este movimiento no tiene un monto estimado. Hac clic para pronosticar.\"\r\n                            disableHoverListener={!sinPronostico}\r\n                          >\r\n                            <Chip\r\n                              icon={<WarningAmberOutlinedIcon />}\r\n                              size=\"small\"\r\n                              label=\"Movimiento sin pronosticar\"\r\n                              sx={{ ...SIN_PRONOSTICO_CHIP_SX, cursor: 'pointer' }}\r\n                              onClick={goToDatosBrutos}\r\n                            />\r\n                          </Tooltip>\r\n                        )}\r\n                      </Stack>\r\n                      <Box sx={{ display: 'flex', flexDirection: 'column', gap: 1 }}>\r\n                        <Box sx={{ display: 'flex', alignItems: 'center', gap: 2 }}>\r\n                          <Typography variant=\"body2\" sx={{ minWidth: 80 }}>Estimado:</Typography>\r\n                          <Box sx={{ flex: 1, height: 30 }}>\r\n                            <ResponsiveContainer width=\"100%\" height={30}>\r\n                              <BarChart data={[{ name: item.name, valor: item.estimado }]} layout=\"vertical\">\r\n                                <XAxis type=\"number\" domain={[0, max]} hide />\r\n                                <YAxis type=\"category\" dataKey=\"name\" hide />\r\n                                <RTooltip formatter={(value) => [formatCurrency(value), '']} />\r\n                                <Bar dataKey=\"valor\" fill={INGRESO_EST_COLOR} radius={[4,4,4,4]}\r\n                                     label={{ position: 'right', formatter: (v) => formatCurrency(v) }} />\r\n                              </BarChart>\r\n                            </ResponsiveContainer>\r\n                          </Box>\r\n                        </Box>\r\n                        <Box sx={{ display: 'flex', alignItems: 'center', gap: 2 }}>\r\n                          <Typography variant=\"body2\" sx={{ minWidth: 80 }}>Real:</Typography>\r\n                          <Box sx={{ flex: 1, height: 30 }}>\r\n                            <ResponsiveContainer width=\"100%\" height={30}>\r\n                              <BarChart data={[{ name: item.name, valor: item.real }]} layout=\"vertical\">\r\n                                <XAxis type=\"number\" domain={[0, max]} hide />\r\n                                <YAxis type=\"category\" dataKey=\"name\" hide />\r\n                                <RTooltip formatter={(value) => [formatCurrency(value), '']} />\r\n                                <Bar dataKey=\"valor\" fill={INGRESO_COLOR} radius={[4,4,4,4]}\r\n                                     label={{ position: 'right', formatter: (v) => formatCurrency(v) }} />\r\n                              </BarChart>\r\n                            </ResponsiveContainer>\r\n                          </Box>\r\n                        </Box>\r\n                      </Box>\r\n                    </Box>\r\n                  );\r\n                })}\r\n              </Box>\r\n            </Paper>\r\n          )}\r\n\r\n          {pieDataEgresos.length > 0 ? (\r\n            <Paper sx={{ p: 3, mb: 2 }}>\r\n              <Typography variant=\"h6\" gutterBottom fontWeight=\"600\">Distribucin de Egresos por Categora</Typography>\r\n              <ResponsiveContainer width=\"100%\" height={300}>\r\n                <PieChart>\r\n                  <Pie data={pieDataEgresos} dataKey=\"value\" nameKey=\"name\" cx=\"50%\" cy=\"50%\" outerRadius={100}\r\n                       label={({ name, percent }) => `${name} ${(percent * 100).toFixed(0)}%`}>\r\n                    {pieDataEgresos.map((_, i) => <Cell key={`egr-${i}`} fill={EGRESO_COLOR} opacity={0.7 + i * 0.1} />)}\r\n                  </Pie>\r\n                  <RTooltip formatter={(value) => formatCurrency(value)} />\r\n                  <Legend />\r\n                </PieChart>\r\n              </ResponsiveContainer>\r\n            </Paper>\r\n          ) : (\r\n            <Paper sx={{ p: 3, mb: 2, textAlign: 'center' }}>\r\n              <Typography color=\"text.secondary\">No hay egresos registrados este mes.</Typography>\r\n            </Paper>\r\n          )}\r\n\r\n          {barDataEgresos.length > 0 && (\r\n            <Paper sx={{ p: 3 }}>\r\n              <Typography variant=\"h6\" gutterBottom fontWeight=\"600\">Egresos: Estimado vs Real por Categora</Typography>\r\n              <Box sx={{ mt: 2 }}>\r\n                {barDataEgresos.map((item, index) => {\r\n                  const estimadoN = safeNumber(item.estimado);\r\n                  const realN = safeNumber(item.real);\r\n                  const max = Math.max(estimadoN, realN) * 1.2 || 1;\r\n                  const sinPronostico = estimadoN === 0 && realN > 0;\r\n                  return (\r\n                    <Box key={`${item.name}-${index}`} sx={{ mb: 3 }}>\r\n                      <Stack direction=\"row\" spacing={1} alignItems=\"center\" mb={1}>\r\n                        <Typography variant=\"subtitle1\" fontWeight=\"600\">{item.name}</Typography>\r\n                        {sinPronostico && (\r\n                          <Tooltip\r\n                            title=\"Este movimiento no tiene un monto estimado. Hac clic para pronosticar.\"\r\n                            disableHoverListener={!sinPronostico}\r\n                          >\r\n                            <Chip\r\n                              icon={<WarningAmberOutlinedIcon />}\r\n                              size=\"small\"\r\n                              label=\"Movimiento sin pronosticar\"\r\n                              sx={{ ...SIN_PRONOSTICO_CHIP_SX, cursor: 'pointer' }}\r\n                              onClick={goToDatosBrutos}\r\n                            />\r\n                          </Tooltip>\r\n                        )}\r\n                      </Stack>\r\n                      <Box sx={{ display: 'flex', flexDirection: 'column', gap: 1 }}>\r\n                        <Box sx={{ display: 'flex', alignItems: 'center', gap: 2 }}>\r\n                          <Typography variant=\"body2\" sx={{ minWidth: 80 }}>Estimado:</Typography>\r\n                          <Box sx={{ flex: 1, height: 30 }}>\r\n                            <ResponsiveContainer width=\"100%\" height={30}>\r\n                              <BarChart data={[{ name: item.name, valor: item.estimado }]} layout=\"vertical\">\r\n                                <XAxis type=\"number\" domain={[0, max]} hide />\r\n                                <YAxis type=\"category\" dataKey=\"name\" hide />\r\n                                <RTooltip formatter={(value) => [formatCurrency(value), '']} />\r\n                                <Bar dataKey=\"valor\" fill={EGRESO_EST_COLOR} radius={[4,4,4,4]}\r\n                                     label={{ position: 'right', formatter: (v) => formatCurrency(v) }} />\r\n                              </BarChart>\r\n                            </ResponsiveContainer>\r\n                          </Box>\r\n                        </Box>\r\n                        <Box sx={{ display: 'flex', alignItems: 'center', gap: 2 }}>\r\n                          <Typography variant=\"body2\" sx={{ minWidth: 80 }}>Real:</Typography>\r\n                          <Box sx={{ flex: 1, height: 30 }}>\r\n                            <ResponsiveContainer width=\"100%\" height={30}>\r\n                              <BarChart data={[{ name: item.name, valor: item.real }]} layout=\"vertical\">\r\n                                <XAxis type=\"number\" domain={[0, max]} hide />\r\n                                <YAxis type=\"category\" dataKey=\"name\" hide />\r\n                                <RTooltip formatter={(value) => [formatCurrency(value), '']} />\r\n                                <Bar dataKey=\"valor\" fill={EGRESO_COLOR} radius={[4,4,4,4]}\r\n                                     label={{ position: 'right', formatter: (v) => formatCurrency(v) }} />\r\n                              </BarChart>\r\n                            </ResponsiveContainer>\r\n                          </Box>\r\n                        </Box>\r\n                      </Box>\r\n                    </Box>\r\n                  );\r\n                })}\r\n              </Box>\r\n            </Paper>\r\n          )}\r\n        </>\r\n      )}\r\n\r\n      {/* === Pestaa 1: Tabla editable === */}\r\n      {tab === 1 && (\r\n        <Paper sx={{ p: 2 }}>\r\n          {/* Agregar nueva lnea */}\r\n          <Box sx={{ mb: 2 }}>\r\n            {!agregando ? (\r\n              <Button startIcon={<AddCircleOutlineIcon />} variant=\"contained\" onClick={() => setAgregando(true)}>\r\n                Agregar categora\r\n              </Button>\r\n            ) : (\r\n              <Grid container spacing={1} alignItems=\"center\">\r\n                <Grid item xs={12} md={4} sx={{ minWidth: 240 }}>\r\n                  <Autocomplete\r\n                    size=\"small\"\r\n                    fullWidth\r\n                    value={nueva.categoria || null}\r\n                    onChange={(_, newValue) => {\r\n                      setNueva((s) => ({ ...s, categoria: newValue || '' }));\r\n                    }}\r\n                    options={opcionesNuevaLinea}\r\n                    freeSolo={false}\r\n                    disableClearable\r\n                    forcePopupIcon\r\n                    popupIcon={<KeyboardArrowDownIcon />}\r\n                    componentsProps={{\r\n                      popupIndicator: {\r\n                        disableRipple: true,\r\n                        disableFocusRipple: true,\r\n                        sx: {\r\n                          p: 0,\r\n                          m: 0,\r\n                          bgcolor: 'transparent',\r\n                          border: 'none',\r\n                          boxShadow: 'none',\r\n                          '&:hover': { bgcolor: 'transparent' },\r\n                          '& .MuiTouchRipple-root': { display: 'none' },\r\n                          '& .MuiSvgIcon-root': { fontSize: 24 },\r\n                        },\r\n                      },\r\n                      clearIndicator: { sx: { display: 'none' } },\r\n                    }}\r\n                    sx={{\r\n                      '& .MuiAutocomplete-endAdornment': {\r\n                        right: 0,\r\n                        top: '50%',\r\n                        transform: 'translateY(-50%)',\r\n                      },\r\n                      '& .MuiAutocomplete-popupIndicator': { p: 0 },\r\n                      '& .MuiAutocomplete-popupIndicatorOpen .MuiSvgIcon-root': {\r\n                        transform: 'none',\r\n                      },\r\n                    }}\r\n                    renderInput={(params) => (\r\n                      <TextField\r\n                        {...params}\r\n                        label=\"Categora\"\r\n                        size=\"small\"\r\n                        fullWidth\r\n                        InputLabelProps={params.InputLabelProps}\r\n                      />\r\n                    )}\r\n                  />\r\n                </Grid>\r\n                <Grid item xs={12} md={2}>\r\n                  <FormControl fullWidth size=\"small\" sx={buildTipoSelectSx(nueva.tipo)}>\r\n                    <InputLabel>Tipo</InputLabel>\r\n                    <Select\r\n                      label=\"Tipo\"\r\n                      value={nueva.tipo}\r\n                      onChange={(e) => setNueva((s) => ({ ...s, tipo: e.target.value }))}\r\n                      size=\"small\"\r\n                    >\r\n                      <MenuItem value=\"Ingreso\">INGRESO</MenuItem>\r\n                      <MenuItem value=\"Egreso\">EGRESO</MenuItem>\r\n                    </Select>\r\n                  </FormControl>\r\n                </Grid>\r\n                <Grid item xs={12} md={3}>\r\n                  <TextField\r\n                    label=\"Estimado\"\r\n                    type=\"text\"\r\n                    fullWidth\r\n                    size=\"small\"\r\n                    InputLabelProps={{ sx: CENTERED_INPUT_LABEL_SX }}\r\n                    value={formatCurrencyInput(nueva.montoEstimado)}\r\n                    onChange={(e) => {\r\n                      const parsed = parseCurrency(e.target.value, { returnEmpty: true });\r\n                      setNueva((s) => ({ ...s, montoEstimado: parsed === '' ? '' : parsed }));\r\n                    }}\r\n                    inputProps={{ inputMode: 'numeric' }}\r\n                  />\r\n                </Grid>\r\n                <Grid item xs={12} md={3} display=\"flex\" gap={1} justifyContent=\"flex-end\">\r\n                  <Button variant=\"outlined\" onClick={() => { setAgregando(false); setNueva({ categoria: '', tipo: 'Egreso', montoEstimado: '' }); }}>\r\n                    Cancelar\r\n                  </Button>\r\n                  <Button variant=\"contained\" onClick={addLinea}>Guardar</Button>\r\n                </Grid>\r\n              </Grid>\r\n            )}\r\n          </Box>\r\n\r\n          <Divider sx={{ my: 2 }} />\r\n\r\n          <Box sx={{ overflowX: 'auto' }}>\r\n            <table style={{ width: '100%', borderCollapse: 'collapse' }}>\r\n              <thead>\r\n                <tr style={{ fontWeight: 'bold', borderBottom: '1px solid var(--mui-palette-divider)' }}>\r\n                  <th style={{ padding: 12, borderRight: '1px solid var(--mui-palette-divider)' }}>Categora</th>\r\n                  <th style={{ padding: 12, borderRight: '1px solid var(--mui-palette-divider)' }}>Tipo</th>\r\n                  <th style={{ padding: 12, borderRight: '1px solid var(--mui-palette-divider)' }}>Estimado</th>\r\n                  <th style={{ padding: 12, borderRight: '1px solid var(--mui-palette-divider)' }}>Real</th>\r\n                  <th style={{ padding: 12, borderRight: '1px solid var(--mui-palette-divider)' }}>Desvo</th>\r\n                  <th style={{ padding: 12 }}>Acciones</th>\r\n                </tr>\r\n              </thead>\r\n              <tbody>\r\n                {lineasCompleto.length > 0 ? (\r\n                  lineasCompleto.map((item, idx) => {\r\n                    const e = edits[item.id] || { categoria: '', tipo: 'Egreso', montoEstimado: 0, real: '' };\r\n                    const estimadoOriginal = safeNumber(item.montoEstimado);\r\n                    const estimadoRaw = e.montoEstimado;\r\n                    const estimadoN = estimadoRaw === '' ? 0 : safeNumber(estimadoRaw);\r\n                    const realN = e.real === '' ? 0 : safeNumber(e.real);\r\n                    const manualEnabled = isFieldUnlocked(item.id, 'categoria');\r\n                    const esSoloReal = Boolean(item._soloReal);\r\n                    const cambioPendienteEstimado = manualEnabled && (estimadoRaw === '' || estimadoN !== estimadoOriginal);\r\n                    const sinPronostico = esSoloReal && realN > 0 && !cambioPendienteEstimado;\r\n                    const desvio = e.tipo === 'Egreso' ? (estimadoN - realN) : (realN - estimadoN);\r\n                    const realMovementIds = Array.isArray(item.movimientoIds) ? item.movimientoIds : [];\r\n                    const baseIdx = lineas.findIndex((l) => l.id === item.id);\r\n\r\n                    const updateField = (field, value) =>\r\n                      setEdits((prev) => ({ ...prev, [item.id]: { ...prev[item.id], [field]: value } }));\r\n\r\n                    const handleGuardar = () => {\r\n                      const payload = {\r\n                        id: item.id,\r\n                        categoria: e.categoria,\r\n                        tipo: e.tipo,\r\n                        montoEstimado: safeNumber(e.montoEstimado),\r\n                        real: e.real === '' ? null : safeNumber(e.real),\r\n                      };\r\n                      if (esSoloReal) {\r\n                        crearLineaDesdeReal(payload);\r\n                      } else {\r\n                        patchLinea(payload);\r\n                      }\r\n                    };\r\n\r\n                    return (\r\n                      <tr key={item.id} style={{ borderBottom: '1px solid var(--mui-palette-divider)' }}>\r\n                        <td style={{ padding: 12, borderRight: '1px solid var(--mui-palette-divider)', minWidth: 215 }}>\r\n                          <Box display=\"flex\" alignItems=\"center\" gap={1}>\r\n                            {manualEnabled ? (\r\n                              (() => {\r\n                                // Oculta las categoras ya asignadas a otras lneas del mismo mes.\r\n                                const categoriaActual = e.categoria || '';\r\n                                const categoriaActualNorm = normCat(categoriaActual);\r\n                                const categoriasOcupadas = new Set(\r\n                                  lineasCompleto\r\n                                    .filter((otra) => otra.id !== item.id)\r\n                                    .map((otra) => (edits[otra.id]?.categoria ?? otra.categoria ?? ''))\r\n                                    .map((valor) => normCat(valor))\r\n                                    .filter(Boolean)\r\n                                );\r\n\r\n                                let opcionesDisponibles = categoriasOptions.filter((option) => {\r\n                                  if (typeof option !== 'string') return false;\r\n                                  const normalizada = normCat(option);\r\n                                  if (!normalizada) return false;\r\n                                  if (normalizada === categoriaActualNorm) return true;\r\n                                  return !categoriasOcupadas.has(normalizada);\r\n                                });\r\n\r\n                                if (categoriaActual && !opcionesDisponibles.some((opt) => normCat(opt) === categoriaActualNorm)) {\r\n                                  opcionesDisponibles = [categoriaActual, ...opcionesDisponibles];\r\n                                }\r\n\r\n                                return (\r\n                                  <Autocomplete\r\n                                    size=\"small\"\r\n                                    fullWidth\r\n                                    value={e.categoria || null}\r\n                                    onChange={(_, newValue) => {\r\n                                      updateField('categoria', newValue || '');\r\n                                    }}\r\n                                    options={opcionesDisponibles}\r\n                                    freeSolo={false}\r\n                                    disableClearable\r\n                                    forcePopupIcon\r\n                                    popupIcon={<KeyboardArrowDownIcon />}\r\n                                    componentsProps={{\r\n                                      popupIndicator: {\r\n                                        disableRipple: true,\r\n                                        disableFocusRipple: true,\r\n                                        sx: {\r\n                                          p: 0,\r\n                                          m: 0,\r\n                                          bgcolor: 'transparent',\r\n                                          border: 'none',\r\n                                          boxShadow: 'none',\r\n                                          '&:hover': { bgcolor: 'transparent' },\r\n                                          '& .MuiTouchRipple-root': { display: 'none' },\r\n                                          '& .MuiSvgIcon-root': { fontSize: 24 },\r\n                                        },\r\n                                      },\r\n                                      clearIndicator: { sx: { display: 'none' } },\r\n                                    }}\r\n                                    sx={{\r\n                                      '& .MuiAutocomplete-endAdornment': {\r\n                                        right: 0,\r\n                                        top: '50%',\r\n                                        transform: 'translateY(-50%)',\r\n                                      },\r\n                                      '& .MuiAutocomplete-popupIndicator': { p: 0 },\r\n                                      '& .MuiAutocomplete-popupIndicatorOpen .MuiSvgIcon-root': {\r\n                                        transform: 'none',\r\n                                      },\r\n                                    }}\r\n                                    renderInput={(params) => (\r\n                                      <TextField\r\n                                        {...params}\r\n                                        size=\"small\"\r\n                                        fullWidth\r\n                                      />\r\n                                    )}\r\n                                  />\r\n                                );\r\n                              })()\r\n                            ) : (\r\n                              <TextField\r\n                                size=\"small\"\r\n                                fullWidth\r\n                                value={e.categoria}\r\n                                InputProps={{ readOnly: true }}\r\n                              />\r\n                            )}\r\n                          </Box>\r\n                        </td>\r\n                        <td style={{ padding: 12, borderRight: '1px solid var(--mui-palette-divider)', minWidth: 100 }}>\r\n                          <FormControl size=\"small\" fullWidth disabled={!manualEnabled} sx={buildTipoSelectSx(e.tipo)}>\r\n                            <Select\r\n                              value={e.tipo}\r\n                              onChange={(ev) => {\r\n                                if (!manualEnabled) return;\r\n                                updateField('tipo', ev.target.value);\r\n                              }}\r\n                              size=\"small\"\r\n                              disabled={!manualEnabled}\r\n                            >\r\n                              <MenuItem value=\"Ingreso\">INGRESO</MenuItem>\r\n                              <MenuItem value=\"Egreso\">EGRESO</MenuItem>\r\n                            </Select>\r\n                          </FormControl>\r\n                        </td>\r\n                        <td style={{ padding: 12, borderRight: '1px solid var(--mui-palette-divider)', minWidth: 180 }}>\r\n                          <Box display=\"flex\" alignItems=\"center\" gap={1}>\r\n                            <TextField\r\n                              size=\"small\"\r\n                              type=\"text\"\r\n                              fullWidth\r\n                              value={formatCurrencyInput(e.montoEstimado)}\r\n                              onChange={(ev) => {\r\n                                if (!manualEnabled) return;\r\n                                updateField('montoEstimado', parseCurrency(ev.target.value));\r\n                              }}\r\n                              InputProps={{ readOnly: !manualEnabled }}\r\n                              inputProps={{ inputMode: 'numeric' }}\r\n                            />\r\n                            {manualEnabled ? (\r\n                              <Tooltip title=\"Deshabilitar edicin manual\">\r\n                                <IconButton size=\"small\" onClick={() => toggleManualGuard(item.id, 'categoria', false)}>\r\n                                  <EditOffOutlinedIcon fontSize=\"small\" color=\"warning\" />\r\n                                </IconButton>\r\n                              </Tooltip>\r\n                            ) : (\r\n                              <Tooltip title=\"Editar (categora, tipo y estimado)\">\r\n                                <IconButton size=\"small\" onClick={() => requestManualUnlock(item.id, 'categoria')}>\r\n                                  <EditOutlinedIcon fontSize=\"small\" />\r\n                                </IconButton>\r\n                              </Tooltip>\r\n                            )}\r\n                          </Box>\r\n                        </td>\r\n                        <td style={{ padding: 12, borderRight: '1px solid var(--mui-palette-divider)', minWidth: 180 }}>\r\n                          <Box display=\"flex\" alignItems=\"center\" gap={1}>\r\n                            <TextField\r\n                              size=\"small\"\r\n                              type=\"text\"\r\n                              fullWidth\r\n                              value={formatCurrencyInput(e.real)}\r\n                              InputProps={{ readOnly: true }}\r\n                              inputProps={{ inputMode: 'numeric' }}\r\n                            />\r\n                            <Tooltip title={realMovementIds.length ? 'Editar monto real' : 'No hay movimientos para editar'}>\r\n                              <IconButton size=\"small\" onClick={() => requestManualUnlock(item.id, 'real')}>\r\n                                <LockOutlinedIcon fontSize=\"small\" />\r\n                              </IconButton>\r\n                            </Tooltip>\r\n                          </Box>\r\n                        </td>\r\n                        <td style={{ padding: 12, borderRight: '1px solid var(--mui-palette-divider)', color: desvio >= 0 ? '#66bb6a' : '#ef5350' , minWidth: 100 }}>\r\n                          {desvio >= 0 ? '+' : '-'}{formatCurrency(Math.abs(desvio))}\r\n                        </td>\r\n                        <td style={{ padding: 12, whiteSpace: 'nowrap', textAlign: 'center' }}>\r\n                          <Box sx={{ display: 'flex', justifyContent: 'center', alignItems: 'center', gap: 1.5 }}>\r\n                            <Tooltip title={esSoloReal ? 'Crear linea de presupuesto con este movimiento' : 'Guardar cambios'}>\r\n                              <span>\r\n                                <IconButton size=\"small\" onClick={handleGuardar}>\r\n                                  <SaveOutlinedIcon />\r\n                                </IconButton>\r\n                              </span>\r\n                            </Tooltip>\r\n                            {sinPronostico && (\r\n                              <Tooltip title=\"Movimiento sin pronosticar: no tiene monto estimado.\">\r\n                                <Chip\r\n                                  size=\"small\"\r\n                                  icon={<WarningAmberOutlinedIcon fontSize=\"small\" />}\r\n                                  label=\"Sin pronosticar\"\r\n                                  variant=\"filled\"\r\n                                  sx={SIN_PRONOSTICO_CHIP_SX}\r\n                                />\r\n                              </Tooltip>\r\n                            )}\r\n                            {!esSoloReal && (\r\n                              <>\r\n                                <Tooltip title=\"Eliminar esta linea\">\r\n                                  <span>\r\n                                    <IconButton size=\"small\" onClick={() => openDeletePrompt(item)}>\r\n                                      <DeleteOutlineIcon />\r\n                                    </IconButton>\r\n                                  </span>\r\n                                </Tooltip>\r\n                                <Tooltip title=\"Aplicar esta linea a varios meses\">\r\n                                  <span>\r\n                                    <IconButton\r\n                                      size=\"small\"\r\n                                      onClick={() => {\r\n                                        if (baseIdx >= 0) abrirDlgVariosConFila(baseIdx);\r\n                                      }}\r\n                                    >\r\n                                      <ContentCopyIcon />\r\n                                    </IconButton>\r\n                                  </span>\r\n                                </Tooltip>\r\n                              </>\r\n                            )}\r\n                          </Box>\r\n                        </td>\r\n                      </tr>\r\n                    );\r\n                  })\r\n                ) : (\r\n                  <tr>\r\n                    <td colSpan={6} style={{ textAlign: 'center', padding: 20, color: 'var(--mui-palette-text-secondary)' }}>\r\n                      No hay datos disponibles.\r\n                    </td>\r\n                  </tr>\r\n                )}\r\n              </tbody>\r\n            </table>\r\n          </Box>\r\n        </Paper>\r\n      )}\r\n\r\n      {/* Volver */}\r\n      <Box mt={4} display=\"flex\" justifyContent=\"space-between\" alignItems=\"center\" flexWrap=\"wrap\" gap={1}>\r\n        <Button variant=\"outlined\" onClick={() => navigate(-1)}>Volver</Button>\r\n      </Box>\r\n\r\n      {/* Confirmar edicin manual */}\r\n      <Dialog open={guardPrompt.open} onClose={handleGuardCancel} maxWidth=\"sm\" fullWidth>\r\n        <DialogTitle>{guardPrompt.title || 'Confirmar edicin manual'}</DialogTitle>\r\n        <DialogContent dividers>\r\n          <Typography variant=\"body2\" color=\"text.secondary\">\r\n            {guardPrompt.message || 'Esta accin habilita la edicin manual.'}\r\n          </Typography>\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button onClick={handleGuardCancel}>Cancelar</Button>\r\n          <Button variant=\"contained\" color=\"warning\" onClick={handleGuardConfirm}>\r\n            {guardPrompt.confirmLabel || 'Confirmar'}\r\n          </Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n\r\n      <Dialog open={deletePrompt.open} onClose={closeDeletePrompt} maxWidth=\"xs\" fullWidth>\r\n        <DialogTitle>Eliminar movimiento</DialogTitle>\r\n        <DialogContent dividers>\r\n          <Typography variant=\"body2\" color=\"text.secondary\">\r\n            Se eliminar la categora <strong>{deletePrompt.categoria || 'sin nombre'}</strong> ({deletePrompt.tipo ? deletePrompt.tipo.toLowerCase() : 'movimiento'}) de este mes.\r\n          </Typography>\r\n          <Typography variant=\"body2\" color=\"text.secondary\" sx={{ mt: 1 }}>\r\n            Esta accin no se puede deshacer.\r\n          </Typography>\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button onClick={closeDeletePrompt}>Cancelar</Button>\r\n          <Button variant=\"contained\" color=\"error\" onClick={confirmDeletePrompt}>Eliminar</Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n\r\n      {/* Dilogo Reglas rpidas (visual) */}\r\n      <Dialog open={dlgReglas} onClose={() => setDlgReglas(false)} fullWidth maxWidth=\"sm\">\r\n        <DialogTitle>Reglas rpidas (simulacin)</DialogTitle>\r\n        <DialogContent dividers>\r\n          <Stack spacing={2} sx={{ mt: 1 }}>\r\n            <TextField select label=\"mbito\" value={regla.ambito} onChange={(e) => setRegla((r) => ({ ...r, ambito: e.target.value }))}>\r\n              <MenuItem value=\"este_mes\">Este mes</MenuItem>\r\n              <MenuItem value=\"hasta_fin\">Desde este mes hasta fin de ao</MenuItem>\r\n              <MenuItem value=\"rango\">Rango personalizado</MenuItem>\r\n            </TextField>\r\n            {regla.ambito === 'rango' && (\r\n              <Stack direction=\"row\" spacing={2}>\r\n                <TextField label=\"Desde (YYYY-MM)\" value={regla.rangoDesde} onChange={(e) => setRegla((r) => ({ ...r, rangoDesde: e.target.value }))} />\r\n                <TextField label=\"Hasta (YYYY-MM)\" value={regla.rangoHasta} onChange={(e) => setRegla((r) => ({ ...r, rangoHasta: e.target.value }))} />\r\n              </Stack>\r\n            )}\r\n            <TextField select label=\"Modo\" value={regla.modo} onChange={(e) => setRegla((r) => ({ ...r, modo: e.target.value }))}>\r\n              <MenuItem value=\"FIJO\">Monto fijo</MenuItem>\r\n              <MenuItem value=\"AJUSTE_PCT\">% Ajuste mensual</MenuItem>\r\n              <MenuItem value=\"UNICO\">nico (1 mes)</MenuItem>\r\n              <MenuItem value=\"CUOTAS\">En cuotas</MenuItem>\r\n            </TextField>\r\n            <TextField\r\n              label={regla.modo === 'AJUSTE_PCT' ? '% valor' : 'Monto'}\r\n              type={regla.modo === 'AJUSTE_PCT' ? 'number' : 'text'}\r\n              value={regla.modo === 'AJUSTE_PCT' ? regla.valor : formatCurrencyInput(regla.valor)}\r\n              onChange={(e) => {\r\n                if (regla.modo === 'AJUSTE_PCT') {\r\n                  setRegla((r) => ({ ...r, valor: Number(e.target.value) }));\r\n                } else {\r\n                  const parsed = parseCurrency(e.target.value, { returnEmpty: true });\r\n                  setRegla((r) => ({ ...r, valor: parsed === '' ? '' : parsed }));\r\n                }\r\n              }}\r\n              inputProps={regla.modo === 'AJUSTE_PCT' ? { step: 0.1, inputMode: 'decimal' } : { inputMode: 'numeric' }}\r\n            />\r\n            <TextField select label=\"Aplicar a\" value={regla.solo} onChange={(e) => setRegla((r) => ({ ...r, solo: e.target.value }))}>\r\n              <MenuItem value=\"todos\">Ingresos y egresos</MenuItem>\r\n              <MenuItem value=\"Ingresos\">Solo ingresos</MenuItem>\r\n              <MenuItem value=\"Egresos\">Solo egresos</MenuItem>\r\n            </TextField>\r\n            <Paper variant=\"outlined\" sx={{ p: 2 }}>\r\n              <Typography variant=\"subtitle2\" gutterBottom>Previsualizacin (conceptual)</Typography>\r\n              <Typography variant=\"body2\" color=\"text.secondary\">\r\n                Aqu mostraras una mini-grilla con las celdas impactadas antes de confirmar.\r\n              </Typography>\r\n            </Paper>\r\n            <FormControlLabel control={<Switch checked={simulacion} onChange={(_, v) => setSimulacion(v)} />} label=\"Simular cambios (no impacta datos reales)\" />\r\n          </Stack>\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button onClick={() => setDlgReglas(false)}>Cerrar</Button>\r\n          <Button variant=\"contained\" disabled={!simulacion} onClick={() => { setDlgReglas(false); window.alert('Simulacin: regla aplicada (visual).'); }}>\r\n            Aplicar (visual)\r\n          </Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n\r\n      {/* Dilogo varios meses */}\r\n      <Dialog open={dlgVarios} onClose={() => setDlgVarios(false)} fullWidth maxWidth=\"sm\">\r\n        <DialogTitle>Aplicar a varios meses</DialogTitle>\r\n        <DialogContent dividers>\r\n          <Stack spacing={2}>\r\n            <TextField select label=\"Accin\" value={bulkCfg.accion} onChange={(e) => setBulkCfg((s) => ({ ...s, accion: e.target.value }))}>\r\n              <MenuItem value=\"replicar\">Replicar esta lnea en un rango</MenuItem>\r\n              <MenuItem value=\"eliminar\">Eliminar esta categora (mismo tipo) en un rango</MenuItem>\r\n            </TextField>\r\n            <Stack direction=\"row\" spacing={2}>\r\n              <TextField label=\"Desde (YYYY-MM)\" value={bulkCfg.desde} onChange={(e) => setBulkCfg((s) => ({ ...s, desde: e.target.value }))} placeholder=\"2025-07\" />\r\n              <TextField label=\"Hasta (YYYY-MM)\" value={bulkCfg.hasta} onChange={(e) => setBulkCfg((s) => ({ ...s, hasta: e.target.value }))} placeholder=\"2025-12\" />\r\n            </Stack>\r\n            <Typography variant=\"body2\" color=\"text.secondary\">\r\n               Replicar: crea una lnea por cada mes con los mismos valores (no deduplica).<br />\r\n               Eliminar: busca por <b>categora + tipo</b> en cada mes y borra coincidencias.\r\n            </Typography>\r\n          </Stack>\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button onClick={() => setDlgVarios(false)}>Cancelar</Button>\r\n          <Button variant=\"contained\" onClick={ejecutarBulk}>Confirmar</Button>\r\n        </DialogActions>\r\n      </Dialog>      {/* Snackbar */}\r\n      <Snackbar\r\n        open={snack.open}\r\n        autoHideDuration={3000}\r\n        onClose={() => setSnack((s) => ({ ...s, open: false }))}\r\n        anchorOrigin={{ vertical: 'bottom', horizontal: 'center' }}\r\n      >\r\n        <Alert onClose={() => setSnack((s) => ({ ...s, open: false }))} severity={snack.severity} sx={{ width: '100%' }}>\r\n          {snack.message}\r\n        </Alert>\r\n      </Snackbar>\r\n    </Box>\r\n  );\r\n}\r\n","\"use client\";\n\nimport createSvgIcon from \"./utils/createSvgIcon.js\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon(/*#__PURE__*/_jsx(\"path\", {\n  d: \"M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2m0 16H8V7h11z\"\n}), 'ContentCopy');","export const numberFormatter = new Intl.NumberFormat('es-AR', {\r\n  minimumFractionDigits: 0,\r\n  maximumFractionDigits: 2,\r\n});\r\n\r\nexport const formatCurrency = (value, { allowEmpty = false } = {}) => {\r\n  if (value === '' || value === null || typeof value === 'undefined') {\r\n    return allowEmpty ? '' : '$ 0';\r\n  }\r\n  const num = Number(value);\r\n  if (Number.isNaN(num)) {\r\n    return allowEmpty ? '' : '$ 0';\r\n  }\r\n  const sign = num < 0 ? '-' : '';\r\n  return `${sign}$ ${numberFormatter.format(Math.abs(num))}`;\r\n};\r\n\r\nexport const formatCurrencyInput = (value) => formatCurrency(value, { allowEmpty: true });\r\n\r\nexport const parseCurrency = (raw, { returnEmpty = false } = {}) => {\r\n  if (raw == null) return returnEmpty ? '' : 0;\r\n  const str = raw.toString().trim();\r\n  if (!str) return returnEmpty ? '' : 0;\r\n  const cleaned = str.replace(/\\s+/g, '').replace(/\\$/g, '');\r\n  const negative = cleaned.startsWith('-');\r\n  const numeric = cleaned.replace(/[^0-9,.-]/g, '');\r\n  if (!numeric || numeric === '-') return returnEmpty ? '' : 0;\r\n  const normalized = numeric\r\n    .replace(/-/g, '')\r\n    .replace(/\\./g, '')\r\n    .replace(',', '.');\r\n  const num = Number(normalized);\r\n  if (Number.isNaN(num)) return returnEmpty ? '' : 0;\r\n  return negative ? -num : num;\r\n};\r\n","import * as React from 'react';\r\nimport { Box, IconButton, Tooltip } from '@mui/material';\r\nimport PictureAsPdfIcon from '@mui/icons-material/PictureAsPdf';\r\nimport GridOnIcon from '@mui/icons-material/GridOn'; // <-- Nuevo icono para Excel\r\n\r\nconst EXPORT_PDF_BG = '#FDE4E3';\r\nconst EXPORT_PDF_BG_HOVER = '#FACDCA';\r\nconst EXPORT_EXCEL_BG = '#E5F4E5';\r\nconst EXPORT_EXCEL_BG_HOVER = '#CAE7CB';\r\n\r\nexport default function ExportadorSimple({\r\n                                             onExportPdf,\r\n                                             onExportExcel,\r\n                                             sx = {},\r\n                                         }) {\r\n    return (\r\n        <Box\r\n            sx={{\r\n                display: 'flex',\r\n                gap: 1,\r\n                // NO posicin fija por defecto para mayor flexibilidad\r\n                ...sx,\r\n            }}\r\n        >\r\n            <Tooltip title=\"Exportar PDF\">\r\n                <IconButton\r\n                    onClick={onExportPdf}\r\n                    size=\"small\"\r\n                    color=\"error\"\r\n                    sx={(theme) => {\r\n                        const hoverStyles = {\r\n                            bgcolor: `${EXPORT_PDF_BG_HOVER} !important`,\r\n                            backgroundColor: `${EXPORT_PDF_BG_HOVER} !important`,\r\n                            borderColor: '#d32f2f',\r\n                            '& .MuiSvgIcon-root': {\r\n                                color: '#000 !important',\r\n                            },\r\n                        };\r\n                        return {\r\n                            border: '1px solid',\r\n                            borderColor: '#d32f2f',\r\n                            bgcolor: `${EXPORT_PDF_BG} !important`,\r\n                            backgroundColor: `${EXPORT_PDF_BG} !important`,\r\n                            '& .MuiSvgIcon-root': {\r\n                                color: '#000 !important',\r\n                            },\r\n                            '&:hover': hoverStyles,\r\n                            width: 36,\r\n                            height: 36,\r\n                            ...theme.applyStyles('dark', {\r\n                                borderColor: '#d32f2f',\r\n                                '&:hover': hoverStyles,\r\n                            }),\r\n                        };\r\n                    }}\r\n                    aria-label=\"Exportar PDF\"\r\n                >\r\n                    <PictureAsPdfIcon fontSize=\"small\" />\r\n                </IconButton>\r\n            </Tooltip>\r\n\r\n            <Tooltip title=\"Exportar Excel\">\r\n                <IconButton\r\n                    onClick={onExportExcel}\r\n                    size=\"small\"\r\n                    color=\"success\"\r\n                    sx={(theme) => {\r\n                        const hoverStyles = {\r\n                            bgcolor: `${EXPORT_EXCEL_BG_HOVER} !important`,\r\n                            backgroundColor: `${EXPORT_EXCEL_BG_HOVER} !important`,\r\n                            borderColor: '#2e7d32',\r\n                            '& .MuiSvgIcon-root': {\r\n                                color: '#000 !important',\r\n                            },\r\n                        };\r\n                        return {\r\n                            border: '1px solid',\r\n                            borderColor: '#2e7d32',\r\n                            bgcolor: `${EXPORT_EXCEL_BG} !important`,\r\n                            backgroundColor: `${EXPORT_EXCEL_BG} !important`,\r\n                            '& .MuiSvgIcon-root': {\r\n                                color: '#000 !important',\r\n                            },\r\n                            '&:hover': hoverStyles,\r\n                            width: 36,\r\n                            height: 36,\r\n                            ...theme.applyStyles('dark', {\r\n                                borderColor: '#2e7d32',\r\n                                '&:hover': hoverStyles,\r\n                            }),\r\n                        };\r\n                    }}\r\n                    aria-label=\"Exportar Excel\"\r\n                >\r\n                    <GridOnIcon fontSize=\"small\" /> {/* Icono de tabla tipo Excel */}\r\n                </IconButton>\r\n            </Tooltip>\r\n        </Box>\r\n    );\r\n}\r\n","import axios from \"axios\";\r\nimport {\r\n  CognitoUserPool,\r\n  CognitoUser,\r\n  CognitoRefreshToken,\r\n} from \"amazon-cognito-identity-js\";\r\nimport { sessionService } from \"../shared-services/sessionService\";\r\nimport URL_CONFIG from \"../config/api-config\";\r\n\r\nconst http = axios.create();\r\nconst PRONOSTICO_BASE_URL = URL_CONFIG.PRONOSTICO;\r\nconst cognitoPoolConfig = {\r\n  UserPoolId: process.env.REACT_APP_COGNITO_USER_POOL_ID,\r\n  ClientId: process.env.REACT_APP_COGNITO_CLIENT_ID,\r\n};\r\n\r\nlet refreshPromise = null;\r\nlet hasForcedLogout = false;\r\n\r\nconst isPronosticoRequest = (url) =>\r\n  Boolean(\r\n    url &&\r\n      PRONOSTICO_BASE_URL &&\r\n      String(url).startsWith(String(PRONOSTICO_BASE_URL)),\r\n  );\r\n\r\nconst safeSessionGet = (key) => {\r\n  try {\r\n    return sessionStorage.getItem(key);\r\n  } catch (err) {\r\n    console.warn(\"No se pudo leer sessionStorage:\", err);\r\n    return null;\r\n  }\r\n};\r\n\r\nconst safeSessionSet = (key, value) => {\r\n  try {\r\n    if (value !== undefined && value !== null) {\r\n      sessionStorage.setItem(key, value);\r\n    }\r\n  } catch (err) {\r\n    console.warn(\"No se pudo escribir en sessionStorage:\", err);\r\n  }\r\n};\r\n\r\nconst clearSessionAndRedirect = () => {\r\n  if (hasForcedLogout) {\r\n    return;\r\n  }\r\n  hasForcedLogout = true;\r\n  try {\r\n    sessionStorage.clear();\r\n  } catch {\r\n    /* noop */\r\n  }\r\n  if (sessionService?.limpiarSesion) {\r\n    sessionService.limpiarSesion();\r\n  }\r\n  if (typeof window !== \"undefined\") {\r\n    window.location.href = \"/#/signin\";\r\n  }\r\n};\r\n\r\nconst buildCognitoUser = () => {\r\n  const username = safeSessionGet(\"email\") || safeSessionGet(\"username\");\r\n  if (\r\n    !username ||\r\n    !cognitoPoolConfig.UserPoolId ||\r\n    !cognitoPoolConfig.ClientId\r\n  ) {\r\n    return null;\r\n  }\r\n  const pool = new CognitoUserPool(cognitoPoolConfig);\r\n  return new CognitoUser({\r\n    Username: username,\r\n    Pool: pool,\r\n  });\r\n};\r\n\r\nconst refreshTokens = () => {\r\n  const refreshTokenValue = safeSessionGet(\"refreshToken\");\r\n  const cognitoUser = buildCognitoUser();\r\n  if (!refreshTokenValue || !cognitoUser) {\r\n    return Promise.reject(new Error(\"No hay datos para renovar la sesin.\"));\r\n  }\r\n  const refreshToken = new CognitoRefreshToken({\r\n    RefreshToken: refreshTokenValue,\r\n  });\r\n  return new Promise((resolve, reject) => {\r\n    cognitoUser.refreshSession(refreshToken, (err, session) => {\r\n      if (err) {\r\n        reject(err);\r\n        return;\r\n      }\r\n      const nextAccessToken = session.getAccessToken().getJwtToken();\r\n      const nextIdToken = session.getIdToken().getJwtToken();\r\n      const nextRefreshToken = session.getRefreshToken().getToken();\r\n      safeSessionSet(\"accessToken\", nextAccessToken);\r\n      safeSessionSet(\"idToken\", nextIdToken);\r\n      if (nextRefreshToken) {\r\n        safeSessionSet(\"refreshToken\", nextRefreshToken);\r\n      }\r\n      resolve(nextAccessToken);\r\n    });\r\n  });\r\n};\r\n\r\nconst getRefreshPromise = () => {\r\n  if (!refreshPromise) {\r\n    refreshPromise = refreshTokens()\r\n      .then((token) => {\r\n        refreshPromise = null;\r\n        return token;\r\n      })\r\n      .catch((error) => {\r\n        refreshPromise = null;\r\n        throw error;\r\n      });\r\n  }\r\n  return refreshPromise;\r\n};\r\n\r\nhttp.interceptors.request.use((config) => {\r\n  const accessToken = sessionStorage.getItem(\"accessToken\");\r\n  if (isPronosticoRequest(config.url)) {\r\n    config.headers = config.headers ?? {};\r\n    if (accessToken) {\r\n      config.headers.Authorization = `Bearer ${accessToken}`;\r\n    }\r\n    const usuarioSub = sessionStorage.getItem(\"sub\");\r\n    if (usuarioSub) {\r\n      config.headers[\"X-Usuario-Sub\"] = usuarioSub;\r\n    }\r\n  }\r\n  return config;\r\n});\r\n\r\nhttp.interceptors.response.use(\r\n  (response) => response,\r\n  async (error) => {\r\n    const { config, response } = error;\r\n    if (\r\n      !config ||\r\n      !response ||\r\n      response.status !== 401 ||\r\n      !isPronosticoRequest(config.url)\r\n    ) {\r\n      return Promise.reject(error);\r\n    }\r\n\r\n    if (config.__isRetryRequest) {\r\n      clearSessionAndRedirect();\r\n      return Promise.reject(error);\r\n    }\r\n\r\n    try {\r\n      const newAccessToken = await getRefreshPromise();\r\n      if (!newAccessToken) {\r\n        throw new Error(\"No se obtuvo un token renovado.\");\r\n      }\r\n      config.__isRetryRequest = true;\r\n      config.headers = config.headers ?? {};\r\n      config.headers.Authorization = `Bearer ${newAccessToken}`;\r\n      return http(config);\r\n    } catch (refreshError) {\r\n      clearSessionAndRedirect();\r\n      return Promise.reject(refreshError);\r\n    }\r\n  },\r\n);\r\n\r\nexport default http;\r\n","import axios from 'axios';\r\nimport API_CONFIG from '../config/api-config';\r\n\r\nconst URL_REGISTRO = API_CONFIG.REGISTRO; \r\n\r\nfunction getUsuarioHeaders() {\r\n  const headers = {};\r\n  const sub = sessionStorage.getItem('sub');\r\n  const token = sessionStorage.getItem('accessToken');\r\n  if (sub) headers['X-Usuario-Sub'] = sub; // tenant\r\n  if (token) headers['Authorization'] = `Bearer ${token}`;\r\n  return headers;\r\n}\r\n\r\n/**\r\n * Llama a /movimientos en REGISTRO usando fecha_emision (fechaDesde/fechaHasta).\r\n * - tipos: string ('EGRESO' | 'INGRESO') o array => CSV.\r\n * - No enviar sortBy/sortDir (evita 400 por validacin).\r\n * - Devuelve `data` (puede venir paginado en `data.content` o como array).\r\n */\r\nexport async function getMovimientosPorRango({ fechaDesde, fechaHasta, tipos }) {\r\n  const params = new URLSearchParams();\r\n  params.set('page', 0);\r\n  params.set('size', 500);\r\n  if (fechaDesde) params.set('fechaDesde', fechaDesde); // YYYY-MM-DD\r\n  if (fechaHasta) params.set('fechaHasta', fechaHasta);\r\n\r\n  // CSV: evita &tipos=INGRESO&tipos=EGRESO  400\r\n  if (Array.isArray(tipos) && tipos.length > 0) {\r\n    params.set('tipos', tipos.join(','));\r\n  } else if (typeof tipos === 'string' && tipos) {\r\n    params.set('tipos', tipos);\r\n  }\r\n\r\n  const url = `${URL_REGISTRO}/movimientos?${params.toString()}`;\r\n  const { data } = await axios.get(url, { headers: getUsuarioHeaders() });\r\n  return data;\r\n}\r\n\r\n","!function(t,e){\"object\"==typeof exports&&\"undefined\"!=typeof module?module.exports=e():\"function\"==typeof define&&define.amd?define(e):(t=\"undefined\"!=typeof globalThis?globalThis:t||self).dayjs=e()}(this,(function(){\"use strict\";var t=1e3,e=6e4,n=36e5,r=\"millisecond\",i=\"second\",s=\"minute\",u=\"hour\",a=\"day\",o=\"week\",c=\"month\",f=\"quarter\",h=\"year\",d=\"date\",l=\"Invalid Date\",$=/^(\\d{4})[-/]?(\\d{1,2})?[-/]?(\\d{0,2})[Tt\\s]*(\\d{1,2})?:?(\\d{1,2})?:?(\\d{1,2})?[.:]?(\\d+)?$/,y=/\\[([^\\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,M={name:\"en\",weekdays:\"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday\".split(\"_\"),months:\"January_February_March_April_May_June_July_August_September_October_November_December\".split(\"_\"),ordinal:function(t){var e=[\"th\",\"st\",\"nd\",\"rd\"],n=t%100;return\"[\"+t+(e[(n-20)%10]||e[n]||e[0])+\"]\"}},m=function(t,e,n){var r=String(t);return!r||r.length>=e?t:\"\"+Array(e+1-r.length).join(n)+t},v={s:m,z:function(t){var e=-t.utcOffset(),n=Math.abs(e),r=Math.floor(n/60),i=n%60;return(e<=0?\"+\":\"-\")+m(r,2,\"0\")+\":\"+m(i,2,\"0\")},m:function t(e,n){if(e.date()<n.date())return-t(n,e);var r=12*(n.year()-e.year())+(n.month()-e.month()),i=e.clone().add(r,c),s=n-i<0,u=e.clone().add(r+(s?-1:1),c);return+(-(r+(n-i)/(s?i-u:u-i))||0)},a:function(t){return t<0?Math.ceil(t)||0:Math.floor(t)},p:function(t){return{M:c,y:h,w:o,d:a,D:d,h:u,m:s,s:i,ms:r,Q:f}[t]||String(t||\"\").toLowerCase().replace(/s$/,\"\")},u:function(t){return void 0===t}},g=\"en\",D={};D[g]=M;var p=\"$isDayjsObject\",S=function(t){return t instanceof _||!(!t||!t[p])},w=function t(e,n,r){var i;if(!e)return g;if(\"string\"==typeof e){var s=e.toLowerCase();D[s]&&(i=s),n&&(D[s]=n,i=s);var u=e.split(\"-\");if(!i&&u.length>1)return t(u[0])}else{var a=e.name;D[a]=e,i=a}return!r&&i&&(g=i),i||!r&&g},O=function(t,e){if(S(t))return t.clone();var n=\"object\"==typeof e?e:{};return n.date=t,n.args=arguments,new _(n)},b=v;b.l=w,b.i=S,b.w=function(t,e){return O(t,{locale:e.$L,utc:e.$u,x:e.$x,$offset:e.$offset})};var _=function(){function M(t){this.$L=w(t.locale,null,!0),this.parse(t),this.$x=this.$x||t.x||{},this[p]=!0}var m=M.prototype;return m.parse=function(t){this.$d=function(t){var e=t.date,n=t.utc;if(null===e)return new Date(NaN);if(b.u(e))return new Date;if(e instanceof Date)return new Date(e);if(\"string\"==typeof e&&!/Z$/i.test(e)){var r=e.match($);if(r){var i=r[2]-1||0,s=(r[7]||\"0\").substring(0,3);return n?new Date(Date.UTC(r[1],i,r[3]||1,r[4]||0,r[5]||0,r[6]||0,s)):new Date(r[1],i,r[3]||1,r[4]||0,r[5]||0,r[6]||0,s)}}return new Date(e)}(t),this.init()},m.init=function(){var t=this.$d;this.$y=t.getFullYear(),this.$M=t.getMonth(),this.$D=t.getDate(),this.$W=t.getDay(),this.$H=t.getHours(),this.$m=t.getMinutes(),this.$s=t.getSeconds(),this.$ms=t.getMilliseconds()},m.$utils=function(){return b},m.isValid=function(){return!(this.$d.toString()===l)},m.isSame=function(t,e){var n=O(t);return this.startOf(e)<=n&&n<=this.endOf(e)},m.isAfter=function(t,e){return O(t)<this.startOf(e)},m.isBefore=function(t,e){return this.endOf(e)<O(t)},m.$g=function(t,e,n){return b.u(t)?this[e]:this.set(n,t)},m.unix=function(){return Math.floor(this.valueOf()/1e3)},m.valueOf=function(){return this.$d.getTime()},m.startOf=function(t,e){var n=this,r=!!b.u(e)||e,f=b.p(t),l=function(t,e){var i=b.w(n.$u?Date.UTC(n.$y,e,t):new Date(n.$y,e,t),n);return r?i:i.endOf(a)},$=function(t,e){return b.w(n.toDate()[t].apply(n.toDate(\"s\"),(r?[0,0,0,0]:[23,59,59,999]).slice(e)),n)},y=this.$W,M=this.$M,m=this.$D,v=\"set\"+(this.$u?\"UTC\":\"\");switch(f){case h:return r?l(1,0):l(31,11);case c:return r?l(1,M):l(0,M+1);case o:var g=this.$locale().weekStart||0,D=(y<g?y+7:y)-g;return l(r?m-D:m+(6-D),M);case a:case d:return $(v+\"Hours\",0);case u:return $(v+\"Minutes\",1);case s:return $(v+\"Seconds\",2);case i:return $(v+\"Milliseconds\",3);default:return this.clone()}},m.endOf=function(t){return this.startOf(t,!1)},m.$set=function(t,e){var n,o=b.p(t),f=\"set\"+(this.$u?\"UTC\":\"\"),l=(n={},n[a]=f+\"Date\",n[d]=f+\"Date\",n[c]=f+\"Month\",n[h]=f+\"FullYear\",n[u]=f+\"Hours\",n[s]=f+\"Minutes\",n[i]=f+\"Seconds\",n[r]=f+\"Milliseconds\",n)[o],$=o===a?this.$D+(e-this.$W):e;if(o===c||o===h){var y=this.clone().set(d,1);y.$d[l]($),y.init(),this.$d=y.set(d,Math.min(this.$D,y.daysInMonth())).$d}else l&&this.$d[l]($);return this.init(),this},m.set=function(t,e){return this.clone().$set(t,e)},m.get=function(t){return this[b.p(t)]()},m.add=function(r,f){var d,l=this;r=Number(r);var $=b.p(f),y=function(t){var e=O(l);return b.w(e.date(e.date()+Math.round(t*r)),l)};if($===c)return this.set(c,this.$M+r);if($===h)return this.set(h,this.$y+r);if($===a)return y(1);if($===o)return y(7);var M=(d={},d[s]=e,d[u]=n,d[i]=t,d)[$]||1,m=this.$d.getTime()+r*M;return b.w(m,this)},m.subtract=function(t,e){return this.add(-1*t,e)},m.format=function(t){var e=this,n=this.$locale();if(!this.isValid())return n.invalidDate||l;var r=t||\"YYYY-MM-DDTHH:mm:ssZ\",i=b.z(this),s=this.$H,u=this.$m,a=this.$M,o=n.weekdays,c=n.months,f=n.meridiem,h=function(t,n,i,s){return t&&(t[n]||t(e,r))||i[n].slice(0,s)},d=function(t){return b.s(s%12||12,t,\"0\")},$=f||function(t,e,n){var r=t<12?\"AM\":\"PM\";return n?r.toLowerCase():r};return r.replace(y,(function(t,r){return r||function(t){switch(t){case\"YY\":return String(e.$y).slice(-2);case\"YYYY\":return b.s(e.$y,4,\"0\");case\"M\":return a+1;case\"MM\":return b.s(a+1,2,\"0\");case\"MMM\":return h(n.monthsShort,a,c,3);case\"MMMM\":return h(c,a);case\"D\":return e.$D;case\"DD\":return b.s(e.$D,2,\"0\");case\"d\":return String(e.$W);case\"dd\":return h(n.weekdaysMin,e.$W,o,2);case\"ddd\":return h(n.weekdaysShort,e.$W,o,3);case\"dddd\":return o[e.$W];case\"H\":return String(s);case\"HH\":return b.s(s,2,\"0\");case\"h\":return d(1);case\"hh\":return d(2);case\"a\":return $(s,u,!0);case\"A\":return $(s,u,!1);case\"m\":return String(u);case\"mm\":return b.s(u,2,\"0\");case\"s\":return String(e.$s);case\"ss\":return b.s(e.$s,2,\"0\");case\"SSS\":return b.s(e.$ms,3,\"0\");case\"Z\":return i}return null}(t)||i.replace(\":\",\"\")}))},m.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},m.diff=function(r,d,l){var $,y=this,M=b.p(d),m=O(r),v=(m.utcOffset()-this.utcOffset())*e,g=this-m,D=function(){return b.m(y,m)};switch(M){case h:$=D()/12;break;case c:$=D();break;case f:$=D()/3;break;case o:$=(g-v)/6048e5;break;case a:$=(g-v)/864e5;break;case u:$=g/n;break;case s:$=g/e;break;case i:$=g/t;break;default:$=g}return l?$:b.a($)},m.daysInMonth=function(){return this.endOf(c).$D},m.$locale=function(){return D[this.$L]},m.locale=function(t,e){if(!t)return this.$L;var n=this.clone(),r=w(t,e,!0);return r&&(n.$L=r),n},m.clone=function(){return b.w(this.$d,this)},m.toDate=function(){return new Date(this.valueOf())},m.toJSON=function(){return this.isValid()?this.toISOString():null},m.toISOString=function(){return this.$d.toISOString()},m.toString=function(){return this.$d.toUTCString()},M}(),k=_.prototype;return O.prototype=k,[[\"$ms\",r],[\"$s\",i],[\"$m\",s],[\"$H\",u],[\"$W\",a],[\"$M\",c],[\"$y\",h],[\"$D\",d]].forEach((function(t){k[t[1]]=function(e){return this.$g(e,t[0],t[1])}})),O.extend=function(t,e){return t.$i||(t(e,_,O),t.$i=!0),O},O.locale=w,O.isDayjs=S,O.unix=function(t){return O(1e3*t)},O.en=D[g],O.Ls=D,O.p={},O}));","import { alpha } from '@mui/material/styles';\r\n\r\nconst GREEN = '#2e7d32';\r\nconst RED = '#d32f2f';\r\n\r\nexport const buildTipoSelectSx = (tipo) => (theme) => {\r\n  const isIngreso = String(tipo).toLowerCase() === 'ingreso';\r\n  const base = isIngreso ? GREEN : RED;\r\n\r\n  const bg = alpha(base, 0.12);\r\n  const bgHover = alpha(base, 0.16);\r\n  const bgFocus = alpha(base, 0.20);\r\n\r\n  const palette = (theme.vars || theme).palette;\r\n  const textColor = palette.text.primary;\r\n  const textChannel =\r\n  palette.text?.primaryChannel ?? (theme.palette.mode === 'dark' ? '255 255 255' : '0 0 0');\r\n  \r\n  const rootSelector = '&& .MuiOutlinedInput-root';\r\n  //const textChannel = theme.palette.mode === 'dark' ? '255 255 255' : '0 0 0';\r\n  const inputSelectors = [\r\n    `${rootSelector} .MuiSelect-select`,\r\n    `${rootSelector} .MuiSelect-select.MuiSelect-outlined`,\r\n    `${rootSelector} .MuiSelect-select.MuiSelect-outlined.MuiInputBase-input`,\r\n    `${rootSelector} .MuiInputBase-input`,\r\n    `${rootSelector} .MuiOutlinedInput-input`,\r\n  ].join(', ');\r\n  const iconSelectors = [\r\n    `${rootSelector} .MuiSelect-icon`,\r\n    `${rootSelector} .MuiSelect-iconOutlined`,\r\n    `${rootSelector} .MuiSvgIcon-root`,\r\n  ].join(', ');\r\n\r\n  return {\r\n    [rootSelector]: {\r\n      borderRadius: 1,\r\n      color: textColor,\r\n      backgroundColor: bg,\r\n      '--mui-palette-text-primary': textColor,\r\n      '--mui-palette-text-secondary': textColor,\r\n      '--mui-palette-action-active': textColor,\r\n      '--mui-palette-text-primaryChannel': textChannel,\r\n      '--mui-palette-text-secondaryChannel': textChannel,\r\n      '--mui-palette-action-activeChannel': textChannel,\r\n      '&:hover': { backgroundColor: bgHover },\r\n      '&.Mui-focused': { backgroundColor: bgFocus },\r\n      '& fieldset': { borderColor: palette.divider },\r\n      '&:hover fieldset': { borderColor: palette.divider },\r\n      '&.Mui-focused fieldset': { borderColor: palette.divider },\r\n    },\r\n    [inputSelectors]: {\r\n      color: textColor,\r\n      WebkitTextFillColor: textColor,\r\n      fontWeight: 200,\r\n    },\r\n    [iconSelectors]: {\r\n      color: textColor,\r\n    },\r\n    '&& .MuiInputLabel-root, && .MuiInputLabel-root.Mui-focused': {\r\n      color: textColor,\r\n      WebkitTextFillColor: textColor,\r\n    },\r\n  };\r\n};\r\n","\"use client\";\n\nimport createSvgIcon from \"./utils/createSvgIcon.js\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon(/*#__PURE__*/_jsx(\"path\", {\n  d: \"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zM8 9h8v10H8zm7.5-5-1-1h-5l-1 1H5v2h14V4z\"\n}), 'DeleteOutline');","/**\r\n * Categoras unificadas para toda la aplicacin\r\n * Estas categoras estn sincronizadas con el backend\r\n */\r\n\r\n// Categoras de EGRESOS\r\nexport const CATEGORIAS_EGRESO = [\r\n  \"Alimentos y Bebidas\",\r\n  \"Transporte\",\r\n  \"Vivienda\",\r\n  \"Servicios Bsicos\",\r\n  \"Ocio y Entretenimiento\",\r\n  \"Compras Personales\",\r\n  \"Salud\",\r\n  \"Educacin\",\r\n  \"Impuestos y Tasas\",\r\n  \"Servicios Financieros\",\r\n  \"Compras de Negocio\",\r\n  \"Otros Egresos\",\r\n];\r\n\r\n// Categoras de INGRESOS\r\nexport const CATEGORIAS_INGRESO = [\r\n  \"Ventas de Productos\",\r\n  \"Prestacin de Servicios\",\r\n  \"Cobranzas\",\r\n  \"Transferencias Recibidas\",\r\n  \"Inversiones y Rendimientos\",\r\n  \"Otros Ingresos\",\r\n];\r\n\r\n// Todas las categoras (para uso genrico)\r\nexport const TODAS_LAS_CATEGORIAS = [\r\n  ...CATEGORIAS_EGRESO,\r\n  ...CATEGORIAS_INGRESO,\r\n];\r\n\r\n/**\r\n * Obtiene las categoras segn el tipo de registro\r\n * @param {string} tipo - 'Ingreso', 'Egreso', o null para todas\r\n * @returns {string[]} Array de categoras\r\n */\r\nexport function obtenerCategorias(tipo) {\r\n  if (!tipo) return TODAS_LAS_CATEGORIAS;\r\n  if (tipo === \"Ingreso\") return CATEGORIAS_INGRESO;\r\n  if (tipo === \"Egreso\") return CATEGORIAS_EGRESO;\r\n  return TODAS_LAS_CATEGORIAS;\r\n}\r\n"],"names":["createSvgIcon","_jsx","d","safeNumber","v","isNaN","Number","baseURL","API_CONFIG","PRONOSTICO","GUARD_MESSAGES","categoria","title","body","confirmLabel","real","GUARD_FIELD_LABELS","tipo","montoEstimado","INGRESO_COLOR","EGRESO_COLOR","INGRESO_EST_COLOR","EGRESO_EST_COLOR","SIN_PRONOSTICO_CHIP_SX","fontWeight","bgcolor","backgroundColor","color","border","CENTERED_INPUT_LABEL_SX","top","transform","mesANumero","enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre","formatearMes","ym","anio","mes","split","i","parseInt","concat","ymToYmd","mesesEntre","fromYM","toYM","out","fy","fm","map","ty","tm","y","m","guard","push","String","padStart","normalizeLine","x","_ref","_x$movimientoIds","_ref2","_ref3","_x$movimientoId","_ref4","_x$montoEstimado","rawMovementArray","movimientoIds","movimiento_ids","movementIds","rawMovementSingle","movimientoId","movimiento_id","movementId","Array","isArray","id","normalizeTipo","monto_estimado","normCat","value","normalize","replace","trim","toLowerCase","upper","toString","toUpperCase","MesDetalle","_theme$vars$palette","_theme$vars","_paletteVars$text$pri","_paletteVars$text","_paletteVars$common$w","_paletteVars$common","nombre","nombreUrl","mesNombre","mesNombreUrl","useParams","navigate","useNavigate","theme","useTheme","isLightMode","palette","mode","paletteVars","vars","kpiColors","React","ingresos","success","light","egresos","error","resultadoPos","info","resultadoNeg","warning","tabsLabelColor","text","primary","common","white","window","scrollTo","left","behavior","lineas","setLineas","lineasSoloReal","setLineasSoloReal","edits","setEdits","manualGuards","setManualGuards","guardPrompt","setGuardPrompt","open","field","message","nombreMes","setNombreMes","presupuestoNombre","setPresupuestoNombre","presupuestoId","setPresupuestoId","setYm","mesesDisponibles","setMesesDisponibles","tab","setTab","totalRealMes","setTotalRealMes","goToDatosBrutos","simulacion","setSimulacion","rowMenuIdx","setRowMenuIdx","snack","setSnack","severity","nueva","setNueva","agregando","setAgregando","dlgReglas","setDlgReglas","regla","setRegla","ambito","modo","valor","solo","rangoDesde","rangoHasta","dlgVarios","setDlgVarios","bulkCfg","setBulkCfg","accion","desde","hasta","deletePrompt","setDeletePrompt","categoriasOptions","setCategoriasOptions","TODAS_LAS_CATEGORIAS","categoriasPronosticadas","ocupadas","Set","linea","normalizada","add","opcionesNuevaLinea","disponibles","filter","option","has","categoriaActualNorm","some","opt","prevYm","nextYm","length","idx","findIndex","activo","async","response","http","get","REGISTRO","data","console","cargarCategorias","fetchMes","pid","ymStr","skipStateUpdate","arguments","undefined","url1","url2","tryFetch","res","url","arr","categorias","_unused","l","finalLineas","cargarLineasConReales","lineasBase","ymKey","slice","referencia","dayjs","isValid","sinReales","_objectSpread","refDate","toDate","fechaDesde","format","startOfMonth","fechaHasta","endOfMonth","respEgreso","respIngreso","Promise","all","getMovimientosPorRango","tipos","movimientosEgreso","content","movimientosIngreso","agruparPorCategoria","lista","reduce","acc","movimiento","_ref5","_ref6","_movimiento$monto","_ref7","_ref8","_ref9","_ref0","_movimiento$id","nombreOriginal","categoriaNombre","categoria_id_nombre","key","monto","Math","abs","montoTotal","monto_total","isFinite","total","label","rawMovimientoId","movimientoID","idMovimiento","includes","realesPorCategoriaEgreso","realesPorCategoriaIngreso","totalRealEgreso","Object","values","lineasConReales","tipoKey","baseMovementIds","extraIds","from","categoriasPorTipo","adicionales","registrarAdicionales","mapa","set","entries","forEach","_ref1","_soloReal","movErr","fallback","resPres","listaPayload","decodedNombre","decodeURIComponent","p","find","pp","Error","mesNumStr","resTot","totales","mesesLista","t","Boolean","sort","a","b","localeCompare","item","endsWith","err","cargar","handleCambiarMes","targetYm","lineasCompleto","nextEdits","prev","nextGuards","_prev$l$id","_prev$l$id2","_prev$l$id3","_prev$l$id4","requestManualUnlock","cfg","targetLine","handleGuardCancel","toggleManualGuard","enabled","fieldsToToggle","next","current","updated","handleGuardConfirm","combinedIds","params","URLSearchParams","state","editMovementId","editMovementMeta","isFieldUnlocked","_manualGuards$id","reloadMes","c","totalIngresos","totalEgresosCalculado","totalEgresos","resultado","estimadoTotal","cumplimiento","vencidosEstimados","pieDataIngresos","name","barDataIngresos","estimado","pieDataEgresos","e","barDataEgresos","toCamelPayload","_l$montoEstimado","toSnakePayload","_l$montoEstimado2","tryPatchOrPut","method","patch","put","closeDeletePrompt","_jsxs","Box","sx","width","children","display","alignItems","gap","mb","justifyContent","IconButton","size","onClick","disabled","opacity","ChevronLeftIcon","fontSize","Typography","variant","flexGrow","flexShrink","textAlign","minWidth","whiteSpace","ChevronRightIcon","gutterBottom","Paper","Stack","direction","flexWrap","spacing","Chip","toFixed","icon","WarningAmberOutlinedIcon","ExportadorSimple","onExportPdf","handleExportPdf","then","html2pdf","element","document","getElementById","margin","filename","Date","now","image","type","quality","html2canvas","scale","jsPDF","unit","orientation","default","save","onExportExcel","handleExportExcel","_ref10","utils","writeFile","ws","aoa_to_sheet","cellStyles","wb","book_new","book_append_sheet","mt","Tabs","onChange","indicatorColor","Tab","_Fragment","Grid","container","xs","sm","md","Avatar","height","mx","formatCurrency","ResponsiveContainer","PieChart","Pie","dataKey","nameKey","cx","cy","outerRadius","_ref11","percent","_","Cell","fill","RTooltip","formatter","Legend","index","estimadoN","realN","max","sinPronostico","Tooltip","disableHoverListener","cursor","flexDirection","flex","BarChart","layout","XAxis","domain","hide","YAxis","Bar","radius","position","_ref12","Autocomplete","fullWidth","newValue","s","options","freeSolo","disableClearable","forcePopupIcon","popupIcon","KeyboardArrowDownIcon","componentsProps","popupIndicator","disableRipple","disableFocusRipple","boxShadow","clearIndicator","right","renderInput","TextField","InputLabelProps","FormControl","buildTipoSelectSx","InputLabel","Select","target","MenuItem","formatCurrencyInput","parsed","parseCurrency","returnEmpty","inputProps","inputMode","Button","payload","post","startIcon","AddCircleOutlineIcon","Divider","my","overflowX","style","borderCollapse","borderBottom","padding","borderRight","estimadoOriginal","estimadoRaw","manualEnabled","esSoloReal","desvio","realMovementIds","baseIdx","updateField","categoriaActual","categoriasOcupadas","otra","_ref13","_edits$otra$id$catego","_edits$otra$id","opcionesDisponibles","InputProps","readOnly","ev","EditOffOutlinedIcon","EditOutlinedIcon","LockOutlinedIcon","handleGuardar","_e$response","_e$response$data","msg","crearLineaDesdeReal","_lastErr","_lastErr$response","_lastErr$response$dat","_lastErr2","_lastErr2$response","_lastErr2$response$da","_lastErr3","_lastErr4","urls","methods","payloads","lastErr","e1","_e1$response","status","e2","serverMsg","patchLinea","SaveOutlinedIcon","openDeletePrompt","DeleteOutlineIcon","idxEfectivo","abrirDlgVariosConFila","ContentCopyIcon","colSpan","Dialog","onClose","maxWidth","DialogTitle","DialogContent","dividers","DialogActions","targetId","lineaId","delete","deleteLinea","select","r","step","FormControlLabel","control","Switch","checked","alert","placeholder","meses","ymX","ls","u","_unused2","toDelete","ll","Snackbar","autoHideDuration","anchorOrigin","vertical","horizontal","Alert","numberFormatter","Intl","NumberFormat","minimumFractionDigits","maximumFractionDigits","allowEmpty","num","raw","str","cleaned","negative","startsWith","numeric","normalized","EXPORT_PDF_BG","EXPORT_PDF_BG_HOVER","EXPORT_EXCEL_BG","EXPORT_EXCEL_BG_HOVER","hoverStyles","borderColor","applyStyles","PictureAsPdfIcon","GridOnIcon","axios","create","PRONOSTICO_BASE_URL","URL_CONFIG","cognitoPoolConfig","UserPoolId","process","ClientId","refreshPromise","hasForcedLogout","isPronosticoRequest","safeSessionGet","sessionStorage","getItem","warn","safeSessionSet","setItem","clearSessionAndRedirect","clear","sessionService","limpiarSesion","location","href","refreshTokens","refreshTokenValue","cognitoUser","buildCognitoUser","username","pool","CognitoUserPool","CognitoUser","Username","Pool","reject","refreshToken","CognitoRefreshToken","RefreshToken","resolve","refreshSession","session","nextAccessToken","getAccessToken","getJwtToken","nextIdToken","getIdToken","nextRefreshToken","getRefreshToken","getToken","interceptors","request","use","config","accessToken","_config$headers","headers","Authorization","usuarioSub","__isRetryRequest","_config$headers2","newAccessToken","token","catch","refreshError","URL_REGISTRO","getUsuarioHeaders","sub","join","module","exports","n","o","f","h","$","M","weekdays","months","ordinal","z","utcOffset","floor","date","year","month","clone","ceil","w","D","ms","Q","g","S","O","args","locale","$L","utc","$u","$x","$offset","this","parse","prototype","$d","NaN","test","match","substring","UTC","init","$y","getFullYear","$M","getMonth","$D","getDate","$W","getDay","$H","getHours","$m","getMinutes","$s","getSeconds","$ms","getMilliseconds","$utils","isSame","startOf","endOf","isAfter","isBefore","$g","unix","valueOf","getTime","apply","$locale","weekStart","$set","min","daysInMonth","round","subtract","invalidDate","meridiem","monthsShort","weekdaysMin","weekdaysShort","getTimezoneOffset","diff","toJSON","toISOString","toUTCString","k","extend","$i","isDayjs","en","Ls","_palette$text$primary","_palette$text","base","bg","alpha","bgHover","bgFocus","textColor","textChannel","primaryChannel","rootSelector","inputSelectors","iconSelectors","borderRadius","divider","WebkitTextFillColor","CATEGORIAS_EGRESO","CATEGORIAS_INGRESO"],"sourceRoot":""}