{"version":3,"file":"static/js/2675.177eb581.chunk.js","mappings":"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","sources":["utils/formatters.js","shared-components/CustomSingleAutoComplete.js","shared-components/CustomSelect.js","registro/facturas/api/facturasService.js","registro/facturas/FacturaListPage.js","registro/carga-general/components/forms/FormFactura.js","shared-components/SuccessSnackbar.js","shared-components/categorias.js","shared-components/CustomDateTimePicker.js"],"sourcesContent":["const currencyFormatterAR = new Intl.NumberFormat('es-AR', {\r\n  style: 'currency',\r\n  currency: 'ARS',\r\n  minimumFractionDigits: 0,\r\n  maximumFractionDigits: 2,\r\n});\r\n\r\n/**\r\n * Devuelve una cadena formateada en pesos argentinos.\r\n * Se asegura de manejar valores nulos, indefinidos o no numéricos.\r\n */\r\nexport const formatCurrencyAR = (value, { fallback = '$ 0' } = {}) => {\r\n  if (value === null || value === undefined) {\r\n    return fallback;\r\n  }\r\n\r\n  const numericValue = Number(value);\r\n  if (Number.isNaN(numericValue)) {\r\n    return fallback;\r\n  }\r\n\r\n  return currencyFormatterAR.format(numericValue);\r\n};\r\n\r\nexport const formatPercentage = (value, { fractionDigits = 0, fallback = '0%' } = {}) => {\r\n  if (value === null || value === undefined) {\r\n    return fallback;\r\n  }\r\n\r\n  const numericValue = Number(value);\r\n  if (Number.isNaN(numericValue)) {\r\n    return fallback;\r\n  }\r\n\r\n  return `${numericValue.toFixed(fractionDigits)}%`;\r\n};\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { Autocomplete, TextField } from \"@mui/material\";\r\n\r\nexport default function CustomSingleAutoComplete({\r\n  options,\r\n  value,\r\n  onChange,\r\n  disabled = false,\r\n  placeholder = \"Seleccioná o escribí una opción\",\r\n}) {\r\n  const [internalValue, setInternalValue] = useState(value ?? null);\r\n\r\n  useEffect(() => {\r\n    setInternalValue(value ?? null);\r\n  }, [value]);\r\n\r\n  const handleChange = (_event, newValue) => {\r\n    setInternalValue(newValue);\r\n    if (onChange) onChange(newValue);\r\n  };\r\n\r\n  return (\r\n    <Autocomplete\r\n      freeSolo\r\n      options={options}\r\n      value={value !== undefined ? value : internalValue}\r\n      onChange={handleChange}\r\n      disabled={disabled}\r\n      renderInput={(params) => (\r\n        <TextField\r\n          {...params}\r\n          placeholder={placeholder}\r\n          variant=\"outlined\"\r\n          size=\"small\"\r\n          disabled={disabled}\r\n        />\r\n      )}\r\n    />\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport {\r\n  Box,\r\n  InputLabel,\r\n  MenuItem,\r\n  Select,\r\n  OutlinedInput,\r\n  FormHelperText,\r\n} from \"@mui/material\";\r\n\r\nexport default function CustomSelect({\r\n  label,\r\n  name,\r\n  value,\r\n  onChange,\r\n  options = [],\r\n  error = \"\",\r\n  width = \"100%\",\r\n  disabled = false,\r\n}) {\r\n  return (\r\n    <Box sx={{ width }}>\r\n      {label && (\r\n        <InputLabel sx={{ mb: -0.01 }} id={`${name}-label`}>\r\n          {label}\r\n        </InputLabel>\r\n      )}\r\n      <Select\r\n        labelId={`${name}-label`}\r\n        id={name}\r\n        name={name}\r\n        value={value}\r\n        onChange={(e) => onChange(e.target.value)}\r\n        displayEmpty\r\n        size=\"small\"\r\n        input={<OutlinedInput />}\r\n        sx={{ width: \"100%\" }}\r\n        disabled={disabled}\r\n      >\r\n        <MenuItem value=\"\" disabled>\r\n          Elegir...\r\n        </MenuItem>\r\n        {options.map((opt, i) => (\r\n          <MenuItem key={i} value={opt}>\r\n            {opt}\r\n          </MenuItem>\r\n        ))}\r\n      </Select>\r\n      {error && <FormHelperText error>{error}</FormHelperText>}\r\n    </Box>\r\n  );\r\n}\r\n","import axios from \"axios\";\r\nimport API_CONFIG from \"../../../config/api-config\";\r\n\r\nconst BASE_URL = API_CONFIG.REGISTRO;\r\n\r\nconst withUserHeaders = () => {\r\n  const usuarioSub = sessionStorage.getItem(\"sub\");\r\n  if (!usuarioSub) {\r\n    throw new Error(\"No se encontró información de usuario (sub) en la sesión.\");\r\n  }\r\n  return {\r\n    headers: {\r\n      \"X-Usuario-Sub\": usuarioSub,\r\n    },\r\n    withCredentials: true,\r\n  };\r\n};\r\n\r\nexport const fetchFacturas = async ({\r\n  page = 0,\r\n  size = 10,\r\n  sortBy = \"fechaEmision\",\r\n  sortDir = \"desc\",\r\n  fechaDesde,\r\n  fechaHasta,\r\n  tipoFactura,\r\n  estadoPago,\r\n} = {}) => {\r\n  const params = new URLSearchParams({\r\n    page,\r\n    size,\r\n    sortBy,\r\n    sortDir,\r\n  });\r\n\r\n  if (fechaDesde) params.append(\"fechaDesde\", fechaDesde);\r\n  if (fechaHasta) params.append(\"fechaHasta\", fechaHasta);\r\n  if (tipoFactura) params.append(\"tipoFactura\", tipoFactura);\r\n  if (estadoPago) params.append(\"estadoPago\", estadoPago);\r\n\r\n  const response = await axios.get(\r\n    `${BASE_URL}/facturas/buscar?${params.toString()}`,\r\n    withUserHeaders()\r\n  );\r\n\r\n  return response.data;\r\n};\r\n\r\nexport const deleteFactura = async (id) => {\r\n  await axios.delete(`${BASE_URL}/facturas/${id}`, withUserHeaders());\r\n};\r\n\r\nconst serializeFactura = (payload) => {\r\n  const data = { ...payload };\r\n  if (data.fechaEmision && typeof data.fechaEmision?.format === \"function\") {\r\n    // Incluir fecha y hora completas tal como se eligieron en el formulario\r\n    data.fechaEmision = data.fechaEmision.format(\"YYYY-MM-DDTHH:mm:ss\");\r\n  }\r\n  return data;\r\n};\r\n\r\nexport const updateFactura = async (id, payload) => {\r\n  const response = await axios.put(\r\n    `${BASE_URL}/facturas/${id}`,\r\n    serializeFactura(payload),\r\n    withUserHeaders()\r\n  );\r\n  return response.data;\r\n};\r\n\r\nexport const getFacturaById = async (id) => {\r\n  const response = await axios.get(\r\n    `${BASE_URL}/facturas/${id}`,\r\n    withUserHeaders()\r\n  );\r\n  return response.data;\r\n};\r\n\r\n\r\n","import React, { useEffect, useMemo, useState, useCallback } from \"react\";\r\nimport {\r\n  Box,\r\n  Typography,\r\n  Chip,\r\n  IconButton,\r\n  Dialog,\r\n  DialogTitle,\r\n  DialogContent,\r\n  DialogActions,\r\n  Button,\r\n  Alert,\r\n  Snackbar,\r\n  LinearProgress,\r\n} from \"@mui/material\";\r\nimport {\r\n  DataGrid,\r\n  GridToolbar,\r\n} from \"@mui/x-data-grid\";\r\nimport VisibilityIcon from \"@mui/icons-material/Visibility\";\r\nimport EditIcon from \"@mui/icons-material/Edit\";\r\nimport DeleteIcon from \"@mui/icons-material/Delete\";\r\nimport dayjs from \"dayjs\";\r\nimport FormFactura from \"../carga-general/components/forms/FormFactura\";\r\nimport {\r\n  fetchFacturas,\r\n  deleteFactura,\r\n  updateFactura,\r\n} from \"./api/facturasService\";\r\nimport { formatCurrencyAR } from \"../../utils/formatters\";\r\nimport SuccessSnackbar from \"../../shared-components/SuccessSnackbar\";\r\nimport API_CONFIG from \"../../config/api-config\";\r\n\r\nconst FACTURA_PAGE_SIZE = 10;\r\n\r\nconst FacturaListPage = () => {\r\n  const [facturas, setFacturas] = useState([]);\r\n  const [loading, setLoading] = useState(false);\r\n  const [filters, setFilters] = useState({});\r\n  \r\n  // Paginación del servidor\r\n  const [paginationModel, setPaginationModel] = useState({ page: 0, pageSize: 10 });\r\n  const [rowCount, setRowCount] = useState(0);\r\n  \r\n  const [dialogOpen, setDialogOpen] = useState(false);\r\n  const [dialogMode, setDialogMode] = useState(\"view\"); // view | edit\r\n  const [selectedFactura, setSelectedFactura] = useState(null);\r\n  const [formData, setFormData] = useState({});\r\n  const [errors, setErrors] = useState({});\r\n  const [deleteConfirmOpen, setDeleteConfirmOpen] = useState(false);\r\n  const [facturaToDelete, setFacturaToDelete] = useState(null);\r\n  const [snackbar, setSnackbar] = useState({ open: false, message: \"\", severity: \"info\" });\r\n  const [successSnackbar, setSuccessSnackbar] = useState({ open: false, message: \"\" });\r\n  const [usuarioRol, setUsuarioRol] = useState(null);\r\n\r\n  // Normaliza la fecha de emisión sin importar el formato que devuelva el backend\r\n  const parseFechaEmision = useCallback((fecha) => {\r\n    const monthTextToNumber = {\r\n      JANUARY: 1,\r\n      FEBRUARY: 2,\r\n      MARCH: 3,\r\n      APRIL: 4,\r\n      MAY: 5,\r\n      JUNE: 6,\r\n      JULY: 7,\r\n      AUGUST: 8,\r\n      SEPTEMBER: 9,\r\n      OCTOBER: 10,\r\n      NOVEMBER: 11,\r\n      DECEMBER: 12,\r\n    };\r\n    const normalizeMonth = (month) => {\r\n      if (month == null) return null;\r\n      if (typeof month === \"string\") {\r\n        const upper = month.toUpperCase();\r\n        if (monthTextToNumber[upper]) return monthTextToNumber[upper];\r\n        const parsed = parseInt(month, 10);\r\n        return Number.isNaN(parsed) ? null : parsed;\r\n      }\r\n      return month;\r\n    };\r\n\r\n    if (!fecha) return null;\r\n    if (dayjs.isDayjs(fecha)) return fecha;\r\n\r\n    if (Array.isArray(fecha)) {\r\n      const [year, month = 1, day = 1, hour = 0, minute = 0, second = 0] = fecha;\r\n      const normalizedMonth = normalizeMonth(month) ?? 1;\r\n      const parsedFromArray = dayjs({\r\n        year,\r\n        month: normalizedMonth - 1,\r\n        day,\r\n        hour,\r\n        minute,\r\n        second,\r\n      });\r\n      if (parsedFromArray.isValid()) return parsedFromArray;\r\n    }\r\n\r\n    if (typeof fecha === \"object\") {\r\n      const { date, time, year, month, monthValue, day, dayOfMonth, dayOfYear, hour, minute, second } = fecha;\r\n      const dateObj = date || {};\r\n      const timeObj = time || {};\r\n      const finalMonth = normalizeMonth(month ?? monthValue ?? dateObj.month ?? dateObj.monthValue) ?? 1;\r\n      const parsedFromObject = dayjs({\r\n        year: year ?? dateObj.year,\r\n        month: finalMonth - 1,\r\n        day: day ?? dayOfMonth ?? dayOfYear ?? dateObj.day ?? dateObj.dayOfMonth ?? dateObj.dayOfYear,\r\n        hour: hour ?? timeObj.hour ?? 0,\r\n        minute: minute ?? timeObj.minute ?? 0,\r\n        second: second ?? timeObj.second ?? 0,\r\n      });\r\n      if (parsedFromObject.isValid()) return parsedFromObject;\r\n    }\r\n\r\n    const parsed = dayjs(fecha);\r\n    return parsed.isValid() ? parsed : null;\r\n  }, []);\r\n\r\n  const formatFechaEmision = useCallback(\r\n    (fecha) => {\r\n      const parsed = parseFechaEmision(fecha);\r\n      return parsed ? parsed.format(\"DD/MM/YYYY\") : \"-\";\r\n    },\r\n    [parseFechaEmision]\r\n  );\r\n\r\n  const loadFacturas = useCallback(async () => {\r\n    setLoading(true);\r\n    try {\r\n      console.debug(\"[FacturaListPage] Fetching facturas with filters:\", filters, \"pagination:\", paginationModel);\r\n      const response = await fetchFacturas({\r\n        page: paginationModel.page,\r\n        size: paginationModel.pageSize,\r\n        ...filters,\r\n      });\r\n      console.debug(\"[FacturaListPage] Facturas response:\", response);\r\n      \r\n      // Si la respuesta es un objeto Page del backend\r\n      if (response && typeof response === 'object' && 'content' in response) {\r\n        setFacturas(Array.isArray(response.content) ? response.content : []);\r\n        setRowCount(response.totalElements || 0);\r\n      } else {\r\n        // Si es un array directo (compatibilidad)\r\n        const data = Array.isArray(response) ? response : [];\r\n        setFacturas(data);\r\n        setRowCount(data.length);\r\n      }\r\n    } catch (error) {\r\n      console.error(\"[FacturaListPage] Error fetching facturas:\", error);\r\n      setSnackbar({\r\n        open: true,\r\n        message: \"Error al cargar las facturas\",\r\n        severity: \"error\",\r\n      });\r\n      setFacturas([]);\r\n      setRowCount(0);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  }, [filters, paginationModel]);\r\n\r\n  const cargarRolUsuario = useCallback(() => {\r\n    const sub = sessionStorage.getItem(\"sub\");\r\n    if (!sub) return;\r\n    fetch(`${API_CONFIG.ADMINISTRACION}/api/usuarios/perfil`, {\r\n      headers: { \"X-Usuario-Sub\": sub },\r\n    })\r\n      .then((res) => res.json())\r\n      .then((data) => setUsuarioRol(data.rol))\r\n      .catch((err) => console.error(\"Error cargando rol:\", err));\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    loadFacturas();\r\n    cargarRolUsuario();\r\n  }, [loadFacturas, cargarRolUsuario]);\r\n\r\n  const requiredFields = useMemo(\r\n    () => [\r\n      \"numeroDocumento\",\r\n      \"versionDocumento\",\r\n      \"tipoFactura\",\r\n      \"fechaEmision\",\r\n      \"montoTotal\",\r\n      \"moneda\",\r\n      \"vendedorNombre\",\r\n      \"compradorNombre\",\r\n    ],\r\n    []\r\n  );\r\n\r\n  const initialState = useMemo(\r\n    () => ({\r\n      pagination: { paginationModel: { pageSize: FACTURA_PAGE_SIZE } },\r\n      sorting: { sortModel: [{ field: \"fechaEmision\", sort: \"desc\" }] },\r\n    }),\r\n    []\r\n  );\r\n\r\n  const validarFormulario = () => {\r\n    const newErrors = {};\r\n    requiredFields.forEach((field) => {\r\n      const value = formData[field];\r\n      if (\r\n        value === undefined ||\r\n        value === null ||\r\n        value === \"\" ||\r\n        (value?.isValid && typeof value.isValid === \"function\" && !value.isValid())\r\n      ) {\r\n        newErrors[field] = \"Campo obligatorio\";\r\n      }\r\n    });\r\n    setErrors(newErrors);\r\n    return Object.keys(newErrors).length === 0;\r\n  };\r\n\r\n  const handleVerFactura = (factura) => {\r\n    setSelectedFactura(factura);\r\n    setFormData({\r\n      ...factura,\r\n      fechaEmision: parseFechaEmision(factura.fechaEmision),\r\n    });\r\n    setDialogMode(\"view\");\r\n    setDialogOpen(true);\r\n  };\r\n\r\n  const handleEditarFactura = (factura) => {\r\n    setSelectedFactura(factura);\r\n    setFormData({\r\n      ...factura,\r\n      fechaEmision: parseFechaEmision(factura.fechaEmision),\r\n    });\r\n    setDialogMode(\"edit\");\r\n    setDialogOpen(true);\r\n  };\r\n\r\n  const handleGuardarCambios = async () => {\r\n    if (!selectedFactura) return;\r\n    if (!validarFormulario()) {\r\n      setSnackbar({\r\n        open: true,\r\n        severity: \"warning\",\r\n        message: \"Por favor completa todos los campos obligatorios.\",\r\n      });\r\n      return;\r\n    }\r\n\r\n    try {\r\n      const facturaId = selectedFactura.id ?? selectedFactura.idDocumento;\r\n      if (!facturaId) {\r\n        throw new Error(\"La factura seleccionada no tiene identificador.\");\r\n      }\r\n      await updateFactura(facturaId, formData);\r\n      setSuccessSnackbar({ open: true, message: \"Factura actualizada correctamente.\" });\r\n      setDialogOpen(false);\r\n      loadFacturas();\r\n    } catch (error) {\r\n      console.error(\"Error actualizando factura\", error);\r\n      setSnackbar({\r\n        open: true,\r\n        severity: \"error\",\r\n        message: error?.response?.data?.mensaje || error?.message || \"No pudimos actualizar la factura.\",\r\n      });\r\n    }\r\n  };\r\n\r\n  const handleEliminarFactura = async () => {\r\n    if (!facturaToDelete) return;\r\n    try {\r\n      const facturaId = facturaToDelete.id ?? facturaToDelete.idDocumento;\r\n      if (!facturaId) {\r\n        throw new Error(\"La factura seleccionada no tiene identificador.\");\r\n      }\r\n      await deleteFactura(facturaId);\r\n      setSuccessSnackbar({ open: true, message: \"Factura eliminada correctamente.\" });\r\n      setDeleteConfirmOpen(false);\r\n      setFacturaToDelete(null);\r\n      loadFacturas();\r\n    } catch (error) {\r\n      console.error(\"Error al eliminar factura\", error);\r\n      setSnackbar({\r\n        open: true,\r\n        severity: \"error\",\r\n        message: error?.response?.data?.mensaje || error?.message || \"No pudimos eliminar la factura.\",\r\n      });\r\n    }\r\n  };\r\n\r\n  const handleCloseDialog = () => {\r\n    setDialogOpen(false);\r\n    setSelectedFactura(null);\r\n    setErrors({});\r\n  };\r\n\r\n  const handleCloseSnackbar = (_event, reason) => {\r\n    if (reason === \"clickaway\") return;\r\n    setSnackbar({ open: false, message: \"\", severity: \"info\" });\r\n  };\r\n\r\n  const handleCloseSuccessSnackbar = () => {\r\n    setSuccessSnackbar({ open: false, message: \"\" });\r\n  };\r\n\r\n  const columns = useMemo(\r\n    () => [\r\n      {\r\n        field: \"numeroDocumento\",\r\n        headerName: \"Número\",\r\n        flex: 1,\r\n        minWidth: 140,\r\n      },\r\n      {\r\n        field: \"tipoFactura\",\r\n        headerName: \"Tipo\",\r\n        flex: 0.6,\r\n        minWidth: 100,\r\n        renderCell: (params) => (\r\n          <Chip\r\n            label={params.value ?? \"-\"}\r\n            size=\"small\"\r\n            color=\"primary\"\r\n            sx={{ fontWeight: 600 }}\r\n          />\r\n        ),\r\n      },\r\n      {\r\n        field: \"fechaEmision\",\r\n        headerName: \"Fecha emisión\",\r\n        flex: 0.7,\r\n        minWidth: 160,\r\n        renderCell: (params) => (\r\n          <Typography variant=\"body2\">\r\n            {formatFechaEmision(params?.row?.fechaEmision)}\r\n          </Typography>\r\n        ),\r\n        sortComparator: (a, b, cellParamsA, cellParamsB) => {\r\n          const aDate = parseFechaEmision(cellParamsA?.row?.fechaEmision);\r\n          const bDate = parseFechaEmision(cellParamsB?.row?.fechaEmision);\r\n          const aValue = aDate ? aDate.valueOf() : -Infinity;\r\n          const bValue = bDate ? bDate.valueOf() : -Infinity;\r\n          return aValue - bValue;\r\n        },\r\n      },\r\n      {\r\n        field: \"montoTotal\",\r\n        headerName: \"Monto\",\r\n        flex: 1,\r\n        minWidth: 140,\r\n        renderCell: (params) =>\r\n          params.row.montoTotal != null\r\n            ? formatCurrencyAR(params.row.montoTotal)\r\n            : \"-\",\r\n      },\r\n      {\r\n        field: \"moneda\",\r\n        headerName: \"Moneda\",\r\n        flex: 0.5,\r\n        minWidth: 90,\r\n      },\r\n      {\r\n        field: \"estadoPago\",\r\n        headerName: \"Estado de pago\",\r\n        flex: 0.8,\r\n        minWidth: 140,\r\n        hide: true,\r\n        renderCell: (params) => (\r\n          <Chip\r\n            label={params.value ?? \"NO_PAGADO\"}\r\n            size=\"small\"\r\n            color={\r\n              params.value === \"PAGADO\"\r\n                ? \"success\"\r\n                : params.value === \"PARCIALMENTE_PAGADO\"\r\n                ? \"warning\"\r\n                : \"default\"\r\n            }\r\n          />\r\n        ),\r\n      },\r\n      {\r\n        field: \"vendedorNombre\",\r\n        headerName: \"Vendedor\",\r\n        flex: 1.2,\r\n        minWidth: 160,\r\n        renderCell: (params) => (\r\n          <Box>\r\n            <Typography variant=\"body2\">{params.value ?? \"-\"}</Typography>\r\n          </Box>\r\n        ),\r\n      },\r\n      {\r\n        field: \"compradorNombre\",\r\n        headerName: \"Comprador\",\r\n        flex: 1.2,\r\n        minWidth: 160,\r\n        renderCell: (params) => (\r\n          <Box>\r\n            <Typography variant=\"body2\">{params.value ?? \"-\"}</Typography>\r\n          </Box>\r\n        ),\r\n      },\r\n      {\r\n        field: \"acciones\",\r\n        headerName: \"Acciones\",\r\n        flex: 0.7,\r\n        minWidth: 140,\r\n        sortable: false,\r\n        filterable: false,\r\n        renderCell: (params) => {\r\n          const isAdmin = (usuarioRol || \"\").toUpperCase().includes(\"ADMIN\");\r\n          return (\r\n            <Box sx={{ display: \"flex\", gap: 0.5 }}>\r\n              <IconButton\r\n                size=\"small\"\r\n                color=\"info\"\r\n                onClick={() => handleVerFactura(params.row)}\r\n                title=\"Ver detalles\"\r\n              >\r\n                <VisibilityIcon fontSize=\"small\" />\r\n              </IconButton>\r\n              {isAdmin && (\r\n                <>\r\n                  <IconButton\r\n                    size=\"small\"\r\n                    color=\"primary\"\r\n                    onClick={() => handleEditarFactura(params.row)}\r\n                    title=\"Editar\"\r\n                  >\r\n                    <EditIcon fontSize=\"small\" />\r\n                  </IconButton>\r\n                  <IconButton\r\n                    size=\"small\"\r\n                    color=\"error\"\r\n                    onClick={() => {\r\n                      setFacturaToDelete(params.row);\r\n                      setDeleteConfirmOpen(true);\r\n                    }}\r\n                    title=\"Eliminar\"\r\n                  >\r\n                    <DeleteIcon fontSize=\"small\" />\r\n                  </IconButton>\r\n                </>\r\n              )}\r\n            </Box>\r\n          );\r\n        },\r\n      },\r\n    ],\r\n    [usuarioRol, formatFechaEmision, parseFechaEmision]\r\n  );\r\n\r\n  return (\r\n    <Box sx={{ width: \"100%\", p: 3 }}>\r\n      <Typography\r\n        variant=\"h4\"\r\n        component=\"h1\"\r\n        gutterBottom\r\n        sx={{ mb: 2, fontWeight: 600, color: 'text.primary' }}\r\n      >\r\n        Facturas\r\n      </Typography>\r\n\r\n      <Box sx={{ height: 700, width: \"100%\", mt: 0 }}>\r\n        <DataGrid\r\n          rows={facturas}\r\n          columns={columns}\r\n          loading={loading}\r\n          getRowId={(row) =>\r\n            row.id ?? row.idDocumento ?? `${row.numeroDocumento}-${row.fechaEmision}`\r\n          }\r\n          \r\n          // Paginación del servidor\r\n          paginationMode=\"server\"\r\n          paginationModel={paginationModel}\r\n          onPaginationModelChange={setPaginationModel}\r\n          rowCount={rowCount}\r\n          pageSizeOptions={[10, 25, 50, 100]}\r\n          \r\n          initialState={{\r\n            sorting: { sortModel: [{ field: \"fechaEmision\", sort: \"desc\" }] },\r\n            columns: {\r\n              columnVisibilityModel: {\r\n                estadoPago: false,\r\n              },\r\n            },\r\n          }}\r\n          slots={{ \r\n            toolbar: GridToolbar,\r\n            loadingOverlay: () => (\r\n              <LinearProgress \r\n                sx={{ \r\n                  position: 'absolute',\r\n                  top: 0,\r\n                  left: 0,\r\n                  right: 0,\r\n                  zIndex: 1,\r\n                  height: 4,\r\n                  borderRadius: 0\r\n                }} \r\n              />\r\n            )\r\n          }}\r\n          slotProps={{\r\n            toolbar: {\r\n              showQuickFilter: true,\r\n              quickFilterProps: { debounceMs: 500 },\r\n            },\r\n          }}\r\n          disableRowSelectionOnClick\r\n          sx={{\r\n            backgroundColor: \"rgba(255, 255, 255, 0.7)\",\r\n            \"& .MuiDataGrid-cell\": {\r\n              borderBottom: \"1px solid #e0e0e0\",\r\n              borderRight: \"1px solid #e0e0e0\",\r\n              display: \"flex\",\r\n              alignItems: \"center\",\r\n            },\r\n            \"& .MuiDataGrid-cell:last-of-type\": {\r\n              borderRight: \"none\",\r\n            },\r\n            \"& .MuiDataGrid-columnHeaders\": {\r\n              backgroundColor: \"#f5f5f5\",\r\n              fontSize: \"0.95rem\",\r\n              borderTop: \"1px solid #e0e0e0\",\r\n              borderBottom: \"1px solid #e0e0e0\",\r\n            },\r\n            \"& .MuiDataGrid-columnHeader\": {\r\n              borderLeft: \"1px solid #e0e0e0\",\r\n              borderRight: \"1px solid #e0e0e0\",\r\n              display: \"flex\",\r\n              alignItems: \"center\",\r\n              justifyContent: \"space-between\",\r\n              boxSizing: \"border-box\",\r\n            },\r\n            \"& .MuiDataGrid-columnHeader:first-of-type\": {\r\n              borderLeft: \"none\",\r\n            },\r\n            \"& .MuiDataGrid-columnHeader:last-of-type\": {\r\n              borderRight: \"none\",\r\n            },\r\n            \"& .MuiDataGrid-columnHeaderTitle\": {\r\n              fontWeight: 700,\r\n            },\r\n            \"& .MuiDataGrid-columnSeparator\": {\r\n              opacity: 1,\r\n              visibility: \"visible\",\r\n              color: \"#d5d5d5\",\r\n            },\r\n            \"& .MuiDataGrid-row:hover\": {\r\n              backgroundColor: \"rgba(0, 0, 0, 0.02)\",\r\n            },\r\n            \"& .MuiDataGrid-sortIcon\": {\r\n              display: \"none\",\r\n            },\r\n            \"& .MuiDataGrid-columnHeaderTitleContainer\": {\r\n              paddingRight: \"8px\",\r\n              display: \"flex\",\r\n              alignItems: \"center\",\r\n            },\r\n            \"& .MuiDataGrid-columnHeader .MuiDataGrid-iconButtonContainer\": {\r\n              width: \"24px\",\r\n              height: \"24px\",\r\n              display: \"flex\",\r\n              alignItems: \"center\",\r\n              justifyContent: \"center\",\r\n            },\r\n            \"& .MuiDataGrid-columnHeader .MuiIconButton-root\": {\r\n              padding: \"4px\",\r\n              fontSize: \"16px\",\r\n              display: \"flex\",\r\n              alignItems: \"center\",\r\n              justifyContent: \"center\",\r\n            },\r\n            \"& .MuiDataGrid-menuIcon\": {\r\n              fontSize: \"16px\",\r\n              display: \"block !important\",\r\n            },\r\n            \"& .MuiDataGrid-columnHeader .MuiDataGrid-iconButtonContainer .MuiIconButton-root:not([aria-label*='menu'])\": {\r\n              display: \"none\",\r\n            },\r\n          }}\r\n        />\r\n      </Box>\r\n\r\n      <Dialog\r\n        open={dialogOpen}\r\n        onClose={handleCloseDialog}\r\n        maxWidth=\"md\"\r\n        fullWidth\r\n      >\r\n        <DialogTitle sx={{ fontWeight: 600 }}>\r\n          {dialogMode === \"edit\" ? \"Editar factura\" : \"Detalle de factura\"}\r\n        </DialogTitle>\r\n        <DialogContent dividers>\r\n          {selectedFactura ? (\r\n            <FormFactura\r\n              formData={formData}\r\n              setFormData={setFormData}\r\n              errors={errors}\r\n              modoEdicion={dialogMode === \"edit\"}\r\n            />\r\n          ) : null}\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button onClick={handleCloseDialog} variant=\"outlined\">\r\n            {dialogMode === \"edit\" ? \"Cancelar\" : \"Cerrar\"}\r\n          </Button>\r\n          {dialogMode === \"edit\" && (\r\n            <Button onClick={handleGuardarCambios} variant=\"contained\">\r\n              Guardar cambios\r\n            </Button>\r\n          )}\r\n        </DialogActions>\r\n      </Dialog>\r\n\r\n      <Dialog\r\n        open={deleteConfirmOpen}\r\n        onClose={() => setDeleteConfirmOpen(false)}\r\n      >\r\n        <DialogTitle>Eliminar factura</DialogTitle>\r\n        <DialogContent>\r\n          <Alert severity=\"warning\" sx={{ mb: 2 }}>\r\n            ¿Seguro que querés eliminar la factura{\" \"}\r\n            <strong>{facturaToDelete?.numeroDocumento}</strong>? Esta acción no\r\n            se puede deshacer.\r\n          </Alert>\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button onClick={() => setDeleteConfirmOpen(false)}>Cancelar</Button>\r\n          <Button color=\"error\" variant=\"contained\" onClick={handleEliminarFactura}>\r\n            Eliminar\r\n          </Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n\r\n      <SuccessSnackbar\r\n        open={successSnackbar.open}\r\n        message={successSnackbar.message}\r\n        onClose={handleCloseSuccessSnackbar}\r\n      />\r\n      <Snackbar\r\n        open={snackbar.open}\r\n        autoHideDuration={4000}\r\n        onClose={handleCloseSnackbar}\r\n        anchorOrigin={{ vertical: \"bottom\", horizontal: \"center\" }}\r\n      >\r\n        <Alert\r\n          onClose={handleCloseSnackbar}\r\n          severity={snackbar.severity}\r\n          variant=\"filled\"\r\n          sx={{ width: \"100%\" }}\r\n        >\r\n          {snackbar.message}\r\n        </Alert>\r\n      </Snackbar>\r\n    </Box>\r\n  );\r\n};\r\n\r\nexport default FacturaListPage;\r\n\r\n\r\n","import React, { useEffect, useState } from \"react\";\r\nimport {\r\n  Box,\r\n  FormLabel,\r\n  FormHelperText,\r\n  OutlinedInput,\r\n} from \"@mui/material\";\r\nimport dayjs from \"dayjs\";\r\nimport CustomSelect from \"../../../../shared-components/CustomSelect\";\r\nimport CustomDateTimePicker from \"../../../../shared-components/CustomDateTimePicker\";\r\nimport CustomSingleAutoComplete from \"../../../../shared-components/CustomSingleAutoComplete\";\r\nimport { TODAS_LAS_CATEGORIAS } from \"../../../../shared-components/categorias\";\r\nimport { sessionService } from \"../../../../shared-services/sessionService\";\r\n\r\nexport default function FormFactura({ formData, setFormData, errors = {}, modoEdicion = true }) {\r\n  const [datosEmpresa, setDatosEmpresa] = useState(null);\r\n\r\n  // Establecer fecha de hoy por defecto si no hay fecha de emisión\r\n  useEffect(() => {\r\n    if (!formData.fechaEmision && modoEdicion) {\r\n      const hoy = dayjs();\r\n      setFormData((p) => ({ ...p, fechaEmision: hoy }));\r\n    }\r\n  }, [formData.fechaEmision, setFormData, modoEdicion]);\r\n\r\n  // Cargar datos de la empresa del usuario desde la sesión (diferido)\r\n  useEffect(() => {\r\n    // Pequeño delay para evitar bloquear la navegación\r\n    const timer = setTimeout(() => {\r\n      console.log('Cargando datos de la empresa desde sesión...');\r\n      const empresa = sessionService.getEmpresa();\r\n      console.log('Datos de empresa obtenidos:', empresa);\r\n      if (empresa) {\r\n        setDatosEmpresa(empresa);\r\n      } else {\r\n        console.log('No hay datos de empresa en la sesión');\r\n      }\r\n    }, 100);\r\n\r\n    return () => clearTimeout(timer);\r\n  }, []);\r\n\r\n  // Función para autocompletar datos según la versión\r\n  const autocompletarDatos = (version) => {\r\n    console.log('Autocompletando datos para versión:', version);\r\n    console.log('Datos de empresa disponibles:', datosEmpresa);\r\n    \r\n    if (!datosEmpresa) {\r\n      console.log('No hay datos de empresa disponibles');\r\n      return;\r\n    }\r\n\r\n    if (version === \"Original\") {\r\n      // Para Original: empresa va en comprador, limpiar vendedor\r\n      console.log('Autocompletando datos del comprador y limpiando vendedor');\r\n      setFormData((p) => (modoEdicion ? {\r\n        ...p,\r\n        // Autocompletar comprador\r\n        compradorNombre: datosEmpresa.nombre || \"\",\r\n        compradorCuit: datosEmpresa.cuit || \"\",\r\n        compradorCondicionIVA: datosEmpresa.condicionIVA || \"\",\r\n        compradorDomicilio: datosEmpresa.domicilio || \"\",\r\n        // Limpiar vendedor\r\n        vendedorNombre: \"\",\r\n        vendedorCuit: \"\",\r\n        vendedorCondicionIVA: \"\",\r\n        vendedorDomicilio: \"\"\r\n      } : p));\r\n    } else if (version === \"Duplicado\") {\r\n      // Para Duplicado: empresa va en vendedor, limpiar comprador\r\n      console.log('Autocompletando datos del vendedor y limpiando comprador');\r\n      setFormData((p) => (modoEdicion ? {\r\n        ...p,\r\n        // Limpiar comprador\r\n        compradorNombre: \"\",\r\n        compradorCuit: \"\",\r\n        compradorCondicionIVA: \"\",\r\n        compradorDomicilio: \"\",\r\n        // Autocompletar vendedor\r\n        vendedorNombre: datosEmpresa.nombre || \"\",\r\n        vendedorCuit: datosEmpresa.cuit || \"\",\r\n        vendedorCondicionIVA: datosEmpresa.condicionIVA || \"\",\r\n        vendedorDomicilio: datosEmpresa.domicilio || \"\"\r\n      } : p));\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Box\r\n      sx={{ display: \"flex\", flexDirection: \"column\", gap: 2, width: \"100%\" }}\r\n    >\r\n      {/* 1️⃣ Número Documento */}\r\n      <Box>\r\n        <FormLabel>Número documento *</FormLabel>\r\n        <OutlinedInput\r\n          value={formData.numeroDocumento || \"\"}\r\n          onChange={(e) => {\r\n            if (!modoEdicion) return;\r\n            setFormData((p) => ({ ...p, numeroDocumento: e.target.value }));\r\n          }}\r\n          size=\"small\"\r\n          fullWidth\r\n          error={!!errors.numeroDocumento}\r\n          disabled={!modoEdicion}\r\n        />\r\n        {errors.numeroDocumento && (\r\n          <FormHelperText error>{errors.numeroDocumento}</FormHelperText>\r\n        )}\r\n      </Box>\r\n\r\n      {/* 2️⃣ Versión + Tipo factura + Fecha emisión */}\r\n      <Box sx={{ display: \"flex\", gap: 2, width: \"100%\" }}>\r\n        <Box sx={{ flex: 1 }}>\r\n          <FormLabel>Versión *</FormLabel>\r\n          <CustomSelect\r\n            value={formData.versionDocumento || \"\"}\r\n            onChange={(valor) => {\r\n              if (!modoEdicion) return;\r\n              setFormData((p) => ({ ...p, versionDocumento: valor }));\r\n              autocompletarDatos(valor);\r\n            }}\r\n            options={[\"Original\", \"Duplicado\"]}\r\n            width=\"100%\"\r\n            error={!!errors.versionDocumento}\r\n            disabled={!modoEdicion}\r\n          />\r\n          {errors.versionDocumento && (\r\n            <FormHelperText error>{errors.versionDocumento}</FormHelperText>\r\n          )}\r\n        </Box>\r\n        <Box sx={{ flex: 1 }}>\r\n          <FormLabel>Tipo factura *</FormLabel>\r\n          <CustomSelect\r\n            value={formData.tipoFactura || \"\"}\r\n            onChange={(valor) => {\r\n              if (!modoEdicion) return;\r\n              setFormData((p) => ({ ...p, tipoFactura: valor }))\r\n            }}\r\n            options={[\"A\", \"B\", \"C\"]}\r\n            width=\"100%\"\r\n            error={!!errors.tipoFactura}\r\n            disabled={!modoEdicion}\r\n          />\r\n          {errors.tipoFactura && (\r\n            <FormHelperText error>{errors.tipoFactura}</FormHelperText>\r\n          )}\r\n        </Box>\r\n        <Box sx={{ flex: 1 }}>\r\n          <FormLabel>Fecha emisión *</FormLabel>\r\n          <CustomDateTimePicker\r\n            value={formData.fechaEmision ? dayjs(formData.fechaEmision) : null}\r\n            onChange={(fecha) => {\r\n              if (!modoEdicion) return;\r\n              setFormData((p) => ({ ...p, fechaEmision: fecha }));\r\n            }}\r\n            error={!!errors.fechaEmision}\r\n            disabled={!modoEdicion}\r\n          />\r\n          {errors.fechaEmision && (\r\n            <FormHelperText error>{errors.fechaEmision}</FormHelperText>\r\n          )}\r\n        </Box>\r\n      </Box>\r\n\r\n      {/* 3️⃣ Monto Total + Moneda */}\r\n      <Box sx={{ display: \"flex\", gap: 2, width: \"100%\" }}>\r\n        <Box sx={{ flex: 1 }}>\r\n          <FormLabel>Monto total *</FormLabel>\r\n          <OutlinedInput\r\n            type=\"number\"\r\n            value={formData.montoTotal || \"\"}\r\n            onChange={(e) => {\r\n              if (!modoEdicion) return;\r\n              setFormData((p) => ({ ...p, montoTotal: e.target.value }));\r\n            }}\r\n            size=\"small\"\r\n            fullWidth\r\n            error={!!errors.montoTotal}\r\n            disabled={!modoEdicion}\r\n          />\r\n          {errors.montoTotal && (\r\n            <FormHelperText error>{errors.montoTotal}</FormHelperText>\r\n          )}\r\n        </Box>\r\n        <Box sx={{ flex: 1 }}>\r\n          <FormLabel>Moneda</FormLabel>\r\n          <OutlinedInput\r\n            value={formData.moneda || \"ARS\"}\r\n            size=\"small\"\r\n            fullWidth\r\n            disabled\r\n          />\r\n        </Box>\r\n      </Box>\r\n\r\n      {/* 3️⃣ Categoría */}\r\n      <Box sx={{ display: \"flex\", gap: 2, width: \"100%\" }}>\r\n        <Box sx={{ flex: 1 }}>\r\n          <FormLabel>Categoría</FormLabel>\r\n          <CustomSingleAutoComplete\r\n            options={TODAS_LAS_CATEGORIAS}\r\n            value={formData.categoria || \"\"}\r\n            onChange={(valor) => {\r\n              if (!modoEdicion) return;\r\n              setFormData((p) => ({ ...p, categoria: valor }));\r\n            }}\r\n            disabled={!modoEdicion}\r\n          />\r\n        </Box>\r\n      </Box>\r\n\r\n\r\n      {/* 5️⃣ Datos Vendedor */}\r\n      <Box sx={{ display: \"flex\", gap: 2, width: \"100%\" }}>\r\n        <Box sx={{ flex: 1 }}>\r\n          <FormLabel>Nombre vendedor *</FormLabel>\r\n          <OutlinedInput\r\n            value={formData.vendedorNombre || \"\"}\r\n            onChange={(e) => {\r\n              if (!modoEdicion) return;\r\n              setFormData((p) => ({ ...p, vendedorNombre: e.target.value }));\r\n            }}\r\n            size=\"small\"\r\n            fullWidth\r\n            error={!!errors.vendedorNombre}\r\n            disabled={!modoEdicion}\r\n          />\r\n          {errors.vendedorNombre && (\r\n            <FormHelperText error>{errors.vendedorNombre}</FormHelperText>\r\n          )}\r\n        </Box>\r\n        <Box sx={{ flex: 1 }}>\r\n          <FormLabel>CUIT vendedor</FormLabel>\r\n          <OutlinedInput\r\n            value={formData.vendedorCuit || \"\"}\r\n            onChange={(e) => {\r\n              if (!modoEdicion) return;\r\n              setFormData((p) => ({ ...p, vendedorCuit: e.target.value }));\r\n            }}\r\n            size=\"small\"\r\n            fullWidth\r\n            disabled={!modoEdicion}\r\n          />\r\n        </Box>\r\n        <Box sx={{ flex: 1 }}>\r\n          <FormLabel>Condición IVA vendedor</FormLabel>\r\n          <CustomSelect\r\n            value={formData.vendedorCondicionIVA || \"\"}\r\n            onChange={(valor) => {\r\n              if (!modoEdicion) return;\r\n              setFormData((p) => ({ ...p, vendedorCondicionIVA: valor }));\r\n            }}\r\n            options={[\"Responsable Inscripto\", \"Monotributo\", \"Exento\"]}\r\n            width=\"100%\"\r\n            disabled={!modoEdicion}\r\n          />\r\n        </Box>\r\n        <Box sx={{ flex: 1 }}>\r\n          <FormLabel>Domicilio vendedor</FormLabel>\r\n          <OutlinedInput\r\n            value={formData.vendedorDomicilio || \"\"}\r\n            onChange={(e) => {\r\n              if (!modoEdicion) return;\r\n              setFormData((p) => ({ ...p, vendedorDomicilio: e.target.value }));\r\n            }}\r\n            size=\"small\"\r\n            fullWidth\r\n            disabled={!modoEdicion}\r\n          />\r\n        </Box>\r\n      </Box>\r\n\r\n      {/* 6️⃣ Datos Comprador */}\r\n      <Box sx={{ display: \"flex\", gap: 2, width: \"100%\" }}>\r\n        <Box sx={{ flex: 1 }}>\r\n          <FormLabel>Nombre comprador *</FormLabel>\r\n          <OutlinedInput\r\n            value={formData.compradorNombre || \"\"}\r\n            onChange={(e) => {\r\n              if (!modoEdicion) return;\r\n              setFormData((p) => ({ ...p, compradorNombre: e.target.value }));\r\n            }}\r\n            size=\"small\"\r\n            fullWidth\r\n            error={!!errors.compradorNombre}\r\n            disabled={!modoEdicion}\r\n          />\r\n          {errors.compradorNombre && (\r\n            <FormHelperText error>{errors.compradorNombre}</FormHelperText>\r\n          )}\r\n        </Box>\r\n        <Box sx={{ flex: 1 }}>\r\n          <FormLabel>CUIT comprador</FormLabel>\r\n          <OutlinedInput\r\n            value={formData.compradorCuit || \"\"}\r\n            onChange={(e) => {\r\n              if (!modoEdicion) return;\r\n              setFormData((p) => ({ ...p, compradorCuit: e.target.value }));\r\n            }}\r\n            size=\"small\"\r\n            fullWidth\r\n            disabled={!modoEdicion}\r\n          />\r\n        </Box>\r\n        <Box sx={{ flex: 1 }}>\r\n          <FormLabel>Condición IVA comprador</FormLabel>\r\n          <CustomSelect\r\n            value={formData.compradorCondicionIVA || \"\"}\r\n            onChange={(valor) => {\r\n              if (!modoEdicion) return;\r\n              setFormData((p) => ({ ...p, compradorCondicionIVA: valor }));\r\n            }}\r\n            options={[\"Responsable Inscripto\", \"Monotributo\", \"Exento\"]}\r\n            width=\"100%\"\r\n            disabled={!modoEdicion}\r\n          />\r\n        </Box>\r\n        <Box sx={{ flex: 1 }}>\r\n          <FormLabel>Domicilio comprador</FormLabel>\r\n          <OutlinedInput\r\n            value={formData.compradorDomicilio || \"\"}\r\n            onChange={(e) => {\r\n              if (!modoEdicion) return;\r\n              setFormData((p) => ({ ...p, compradorDomicilio: e.target.value }));\r\n            }}\r\n            size=\"small\"\r\n            fullWidth\r\n            disabled={!modoEdicion}\r\n          />\r\n        </Box>\r\n      </Box>\r\n\r\n    </Box>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport { Alert, Snackbar } from \"@mui/material\";\r\n\r\nconst SuccessSnackbar = ({ open, message, onClose }) => (\r\n  <Snackbar\r\n    open={open}\r\n    autoHideDuration={3000}\r\n    onClose={onClose}\r\n    anchorOrigin={{ vertical: \"bottom\", horizontal: \"center\" }}\r\n  >\r\n    <Alert\r\n      onClose={onClose}\r\n      severity=\"success\"\r\n      variant=\"filled\"\r\n      sx={{ width: \"100%\" }}\r\n    >\r\n      {message}\r\n    </Alert>\r\n  </Snackbar>\r\n);\r\n\r\nexport default SuccessSnackbar;\r\n","/**\r\n * Categorías unificadas para toda la aplicación\r\n * Estas categorías están sincronizadas con el backend\r\n */\r\n\r\n// Categorías de EGRESOS\r\nexport const CATEGORIAS_EGRESO = [\r\n  \"Alimentos y Bebidas\",\r\n  \"Transporte\",\r\n  \"Vivienda\",\r\n  \"Servicios Básicos\",\r\n  \"Ocio y Entretenimiento\",\r\n  \"Compras Personales\",\r\n  \"Salud\",\r\n  \"Educación\",\r\n  \"Impuestos y Tasas\",\r\n  \"Servicios Financieros\",\r\n  \"Compras de Negocio\",\r\n  \"Otros Egresos\",\r\n];\r\n\r\n// Categorías de INGRESOS\r\nexport const CATEGORIAS_INGRESO = [\r\n  \"Ventas de Productos\",\r\n  \"Prestación de Servicios\",\r\n  \"Cobranzas\",\r\n  \"Transferencias Recibidas\",\r\n  \"Inversiones y Rendimientos\",\r\n  \"Otros Ingresos\",\r\n];\r\n\r\n// Todas las categorías (para uso genérico)\r\nexport const TODAS_LAS_CATEGORIAS = [\r\n  ...CATEGORIAS_EGRESO,\r\n  ...CATEGORIAS_INGRESO,\r\n];\r\n\r\n/**\r\n * Obtiene las categorías según el tipo de registro\r\n * @param {string} tipo - 'Ingreso', 'Egreso', o null para todas\r\n * @returns {string[]} Array de categorías\r\n */\r\nexport function obtenerCategorias(tipo) {\r\n  if (!tipo) return TODAS_LAS_CATEGORIAS;\r\n  if (tipo === \"Ingreso\") return CATEGORIAS_INGRESO;\r\n  if (tipo === \"Egreso\") return CATEGORIAS_EGRESO;\r\n  return TODAS_LAS_CATEGORIAS;\r\n}\r\n","import * as React from 'react';\r\nimport dayjs from 'dayjs';\r\nimport utc from 'dayjs/plugin/utc';\r\nimport { useForkRef } from '@mui/material/utils';\r\nimport Button from '@mui/material/Button';\r\nimport CalendarTodayRoundedIcon from '@mui/icons-material/CalendarTodayRounded';\r\nimport { AdapterDayjs } from '@mui/x-date-pickers/AdapterDayjs';\r\nimport { LocalizationProvider } from '@mui/x-date-pickers/LocalizationProvider';\r\nimport { DateTimePicker } from '@mui/x-date-pickers/DateTimePicker';\r\nimport {\r\n  useParsedFormat,\r\n  usePickerContext,\r\n  useSplitFieldProps,\r\n} from '@mui/x-date-pickers';\r\n\r\ndayjs.extend(utc);\r\n\r\nfunction ButtonField(props) {\r\n  const { forwardedProps } = useSplitFieldProps(props, 'date-time');\r\n  const pickerContext = usePickerContext();\r\n  const handleRef = useForkRef(pickerContext.triggerRef, pickerContext.rootRef);\r\n  const parsedFormat = useParsedFormat();\r\n\r\n  const valueStr =\r\n    pickerContext.value == null\r\n      ? parsedFormat\r\n      : pickerContext.value.format(pickerContext.fieldFormat);\r\n\r\n  return (\r\n    <Button\r\n      {...forwardedProps}\r\n      variant=\"outlined\"\r\n      ref={handleRef}\r\n      size=\"small\"\r\n      startIcon={<CalendarTodayRoundedIcon fontSize=\"small\" />}\r\n      sx={{ minWidth: 'fit-content', width: '100%' }}\r\n      disabled={pickerContext.disabled || forwardedProps?.disabled}\r\n      onClick={() => {\r\n        if (pickerContext.disabled || forwardedProps?.disabled) return;\r\n        pickerContext.setOpen((prev) => !prev);\r\n      }}\r\n    >\r\n      {pickerContext.label ?? valueStr}\r\n    </Button>\r\n  );\r\n}\r\n\r\nexport default function CustomDateTimePicker({ value, onChange, disabled = false }) {\r\n  const handleChange = (newValue) => {\r\n    if (!onChange) return;\r\n    if (dayjs.isDayjs(newValue)) {\r\n      // Normalizamos a UTC pero conservando fecha y hora\r\n      const normalized = dayjs\r\n        .utc(newValue.format('YYYY-MM-DDTHH:mm:ss'))\r\n        .second(0)\r\n        .millisecond(0);\r\n      onChange(normalized);\r\n    } else {\r\n      onChange(newValue);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <LocalizationProvider dateAdapter={AdapterDayjs}>\r\n      <DateTimePicker\r\n        value={value ? dayjs(value) : null}\r\n        label={\r\n          value == null\r\n            ? null\r\n            : dayjs(value).format('MMM DD, YYYY HH:mm')\r\n        }\r\n        onChange={handleChange}\r\n        disabled={disabled}\r\n        slots={{ field: ButtonField }}\r\n        slotProps={{\r\n          nextIconButton: { size: 'small', disabled },\r\n          previousIconButton: { size: 'small', disabled },\r\n          field: { disabled },\r\n        }}\r\n        sx={{ width: '100%' }}\r\n      />\r\n    </LocalizationProvider>\r\n  );\r\n}\r\n"],"names":["currencyFormatterAR","Intl","NumberFormat","style","currency","minimumFractionDigits","maximumFractionDigits","formatCurrencyAR","value","fallback","arguments","length","undefined","numericValue","Number","isNaN","format","formatPercentage","fractionDigits","concat","toFixed","CustomSingleAutoComplete","_ref","options","onChange","disabled","placeholder","internalValue","setInternalValue","useState","useEffect","_jsx","Autocomplete","freeSolo","handleChange","_event","newValue","renderInput","params","TextField","_objectSpread","variant","size","CustomSelect","label","name","error","width","_jsxs","Box","sx","children","InputLabel","mb","id","Select","labelId","e","target","displayEmpty","input","OutlinedInput","MenuItem","map","opt","i","FormHelperText","BASE_URL","API_CONFIG","REGISTRO","withUserHeaders","usuarioSub","sessionStorage","getItem","Error","headers","withCredentials","updateFactura","async","payload","response","axios","put","_data$fechaEmision","data","fechaEmision","serializeFactura","FacturaListPage","facturas","setFacturas","loading","setLoading","filters","setFilters","paginationModel","setPaginationModel","page","pageSize","rowCount","setRowCount","dialogOpen","setDialogOpen","dialogMode","setDialogMode","selectedFactura","setSelectedFactura","formData","setFormData","errors","setErrors","deleteConfirmOpen","setDeleteConfirmOpen","facturaToDelete","setFacturaToDelete","snackbar","setSnackbar","open","message","severity","successSnackbar","setSuccessSnackbar","usuarioRol","setUsuarioRol","parseFechaEmision","useCallback","fecha","monthTextToNumber","JANUARY","FEBRUARY","MARCH","APRIL","MAY","JUNE","JULY","AUGUST","SEPTEMBER","OCTOBER","NOVEMBER","DECEMBER","normalizeMonth","month","upper","toUpperCase","parsed","parseInt","dayjs","Array","isArray","_normalizeMonth","year","day","hour","minute","second","normalizedMonth","parsedFromArray","isValid","_normalizeMonth2","_ref2","_ref3","_ref4","_ref5","_ref6","_ref7","_ref8","_ref9","date","time","monthValue","dayOfMonth","dayOfYear","dateObj","timeObj","finalMonth","parsedFromObject","formatFechaEmision","loadFacturas","console","debug","sortBy","sortDir","fechaDesde","fechaHasta","tipoFactura","estadoPago","URLSearchParams","append","get","toString","fetchFacturas","content","totalElements","cargarRolUsuario","sub","fetch","ADMINISTRACION","then","res","json","rol","catch","err","requiredFields","useMemo","handleCloseDialog","pagination","sorting","sortModel","field","sort","handleCloseSnackbar","reason","columns","headerName","flex","minWidth","renderCell","_params$value","Chip","color","fontWeight","_params$row","Typography","row","sortComparator","a","b","cellParamsA","cellParamsB","_cellParamsA$row","_cellParamsB$row","aDate","bDate","valueOf","Infinity","montoTotal","hide","_params$value2","_params$value3","_params$value4","sortable","filterable","isAdmin","includes","display","gap","IconButton","onClick","handleVerFactura","factura","title","VisibilityIcon","fontSize","_Fragment","handleEditarFactura","EditIcon","DeleteIcon","p","component","gutterBottom","height","mt","DataGrid","rows","getRowId","_ref0","_row$id","idDocumento","numeroDocumento","paginationMode","onPaginationModelChange","pageSizeOptions","initialState","columnVisibilityModel","slots","toolbar","GridToolbar","loadingOverlay","LinearProgress","position","top","left","right","zIndex","borderRadius","slotProps","showQuickFilter","quickFilterProps","debounceMs","disableRowSelectionOnClick","backgroundColor","borderBottom","borderRight","alignItems","borderTop","borderLeft","justifyContent","boxSizing","opacity","visibility","paddingRight","padding","Dialog","onClose","maxWidth","fullWidth","DialogTitle","DialogContent","dividers","FormFactura","modoEdicion","DialogActions","Button","validarFormulario","newErrors","forEach","Object","keys","_selectedFactura$id","facturaId","_error$response","_error$response$data","mensaje","Alert","_facturaToDelete$id","delete","deleteFactura","_error$response2","_error$response2$data","SuccessSnackbar","handleCloseSuccessSnackbar","Snackbar","autoHideDuration","anchorOrigin","vertical","horizontal","datosEmpresa","setDatosEmpresa","hoy","timer","setTimeout","log","empresa","sessionService","getEmpresa","clearTimeout","flexDirection","FormLabel","versionDocumento","valor","version","compradorNombre","nombre","compradorCuit","cuit","compradorCondicionIVA","condicionIVA","compradorDomicilio","domicilio","vendedorNombre","vendedorCuit","vendedorCondicionIVA","vendedorDomicilio","CustomDateTimePicker","type","moneda","TODAS_LAS_CATEGORIAS","categoria","CATEGORIAS_EGRESO","CATEGORIAS_INGRESO","ButtonField","props","_pickerContext$label","forwardedProps","useSplitFieldProps","pickerContext","usePickerContext","handleRef","useForkRef","triggerRef","rootRef","parsedFormat","useParsedFormat","valueStr","fieldFormat","ref","startIcon","CalendarTodayRoundedIcon","setOpen","prev","LocalizationProvider","dateAdapter","AdapterDayjs","DateTimePicker","normalized","millisecond","nextIconButton","previousIconButton","utc"],"sourceRoot":""}