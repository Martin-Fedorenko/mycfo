{"version":3,"file":"static/js/8177.3d4cfd57.chunk.js","mappings":"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","sources":["../node_modules/@mui/icons-material/esm/KeyboardArrowDown.js","../node_modules/@mui/icons-material/esm/AddCircleOutline.js","../node_modules/@mui/icons-material/esm/SaveOutlined.js","../node_modules/@mui/icons-material/esm/LockOutlined.js","../node_modules/@mui/icons-material/esm/EditOutlined.js","../node_modules/@mui/icons-material/esm/EditOffOutlined.js","../node_modules/@mui/icons-material/esm/ChevronLeft.js","../node_modules/@mui/icons-material/esm/ChevronRight.js","pronostico/presupuesto/components/MesDetalle.js","../node_modules/@mui/icons-material/esm/ContentCopy.js","utils/currency.js","shared-components/ExportadorSimple.js","api/http.js","reportes/reportes.service.js","../node_modules/dayjs/dayjs.min.js","shared-components/tipoSelectStyles.js","../node_modules/@mui/icons-material/esm/DeleteOutline.js","shared-components/categorias.js"],"sourcesContent":["\"use client\";\n\nimport createSvgIcon from \"./utils/createSvgIcon.js\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon(/*#__PURE__*/_jsx(\"path\", {\n  d: \"M7.41 8.59 12 13.17l4.59-4.58L18 10l-6 6-6-6z\"\n}), 'KeyboardArrowDown');","\"use client\";\n\nimport createSvgIcon from \"./utils/createSvgIcon.js\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon(/*#__PURE__*/_jsx(\"path\", {\n  d: \"M13 7h-2v4H7v2h4v4h2v-4h4v-2h-4zm-1-5C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8\"\n}), 'AddCircleOutline');","\"use client\";\n\nimport createSvgIcon from \"./utils/createSvgIcon.js\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon(/*#__PURE__*/_jsx(\"path\", {\n  d: \"M17 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V7zm2 16H5V5h11.17L19 7.83zm-7-7c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3M6 6h9v4H6z\"\n}), 'SaveOutlined');","\"use client\";\n\nimport createSvgIcon from \"./utils/createSvgIcon.js\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon(/*#__PURE__*/_jsx(\"path\", {\n  d: \"M18 8h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2M9 6c0-1.66 1.34-3 3-3s3 1.34 3 3v2H9zm9 14H6V10h12zm-6-3c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2\"\n}), 'LockOutlined');","\"use client\";\n\nimport createSvgIcon from \"./utils/createSvgIcon.js\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon(/*#__PURE__*/_jsx(\"path\", {\n  d: \"m14.06 9.02.92.92L5.92 19H5v-.92zM17.66 3c-.25 0-.51.1-.7.29l-1.83 1.83 3.75 3.75 1.83-1.83c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.2-.2-.45-.29-.71-.29m-3.6 3.19L3 17.25V21h3.75L17.81 9.94z\"\n}), 'EditOutlined');","\"use client\";\n\nimport createSvgIcon from \"./utils/createSvgIcon.js\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon(/*#__PURE__*/_jsx(\"path\", {\n  d: \"m14.06 9.02.92.92-1.11 1.11 1.41 1.41 2.52-2.52-3.75-3.75-2.52 2.52 1.41 1.41zm6.65-1.98c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.2-.2-.45-.29-.71-.29s-.51.1-.7.29l-1.83 1.83 3.75 3.75zM2.81 2.81 1.39 4.22l7.32 7.32L3 17.25V21h3.75l5.71-5.71 7.32 7.32 1.41-1.41zM5.92 19H5v-.92l5.13-5.13.92.92z\"\n}), 'EditOffOutlined');","\"use client\";\n\nimport createSvgIcon from \"./utils/createSvgIcon.js\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon(/*#__PURE__*/_jsx(\"path\", {\n  d: \"M15.41 7.41 14 6l-6 6 6 6 1.41-1.41L10.83 12z\"\n}), 'ChevronLeft');","\"use client\";\n\nimport createSvgIcon from \"./utils/createSvgIcon.js\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon(/*#__PURE__*/_jsx(\"path\", {\n  d: \"M10 6 8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z\"\n}), 'ChevronRight');","import * as React from 'react';\r\nimport {\r\n  Box, Typography, Paper, Grid, Button, Tabs, Tab, Avatar, Chip, Stack, Tooltip,\r\n  IconButton, Divider, MenuItem, Dialog, DialogTitle, DialogContent, DialogActions,\r\n  TextField, Autocomplete, FormControlLabel, Switch, Select, InputLabel, FormControl, Snackbar, Alert\r\n} from '@mui/material';\r\nimport { useTheme } from '@mui/material/styles';\r\nimport { useParams, useNavigate } from 'react-router-dom';\r\nimport ExportadorSimple from '../../../shared-components/ExportadorSimple';\r\nimport { buildTipoSelectSx } from '../../../shared-components/tipoSelectStyles';\r\nimport http from '../../../api/http';\r\nimport { formatCurrency, formatCurrencyInput, parseCurrency } from '../../../utils/currency';\r\nimport dayjs from 'dayjs';\r\nimport { format, startOfMonth, endOfMonth } from 'date-fns';\r\nimport { getMovimientosPorRango } from '../../../reportes/reportes.service';\r\nimport {\r\n  ResponsiveContainer, PieChart, Pie, Cell, BarChart, Bar, XAxis, YAxis, Tooltip as RTooltip, Legend\r\n} from 'recharts';\r\nimport EditNoteOutlinedIcon from '@mui/icons-material/EditNoteOutlined';\r\nimport RestartAltOutlinedIcon from '@mui/icons-material/RestartAltOutlined';\r\nimport KeyboardArrowDownIcon from '@mui/icons-material/KeyboardArrowDown';\r\nimport WarningAmberOutlinedIcon from '@mui/icons-material/WarningAmberOutlined';\r\nimport ContentCopyIcon from '@mui/icons-material/ContentCopy';\r\nimport AddCircleOutlineIcon from '@mui/icons-material/AddCircleOutline';\r\nimport DeleteOutlineIcon from '@mui/icons-material/DeleteOutline';\r\nimport SaveOutlinedIcon from '@mui/icons-material/SaveOutlined';\r\nimport LockOutlinedIcon from '@mui/icons-material/LockOutlined';\r\nimport EditOutlinedIcon from '@mui/icons-material/EditOutlined';\r\nimport EditOffOutlinedIcon from '@mui/icons-material/EditOffOutlined';\r\nimport ChevronLeftIcon from '@mui/icons-material/ChevronLeft';\r\nimport ChevronRightIcon from '@mui/icons-material/ChevronRight';\r\nimport { TODAS_LAS_CATEGORIAS } from '../../../shared-components/categorias';\r\nimport API_CONFIG from '../../../config/api-config';\r\nimport LoadingSpinner from '../../../shared-components/LoadingSpinner';\r\n\r\n// ===== Helpers =====\r\nconst safeNumber = (v) =>\r\n  typeof v === 'number' ? v : v != null && !isNaN(Number(v)) ? Number(v) : 0;\r\n\r\nconst baseURL = API_CONFIG.PRONOSTICO;\r\n\r\nconst GUARD_MESSAGES = {\r\n  categoria: {\r\n    title: 'Habilitar edicion manual',\r\n    body: 'La categoria, tipo y monto estimado ayudan a ordenar tus analisis. Cambiarlos manualmente puede afectar reportes y automatizaciones. Queres habilitar la edicion manual?',\r\n    confirmLabel: 'Habilitar edicion'\r\n  },\r\n  real: {\r\n    title: 'Editar monto real',\r\n    body: 'El monto real refleja los registros consolidados. Para ajustarlo, edita los movimientos registrados del periodo. Te llevamos a Ver movimientos.',\r\n    confirmLabel: 'Habilitar edicion en movimientos'\r\n  }\r\n};\r\n\r\nconst GUARD_FIELD_LABELS = {\r\n  categoria: 'la categoria, tipo y estimado',\r\n  tipo: 'el tipo',\r\n  montoEstimado: 'el estimado',\r\n  real: 'el monto real'\r\n};\r\nconst INGRESO_COLOR = '#4caf50';\r\nconst EGRESO_COLOR = '#f44336';\r\nconst INGRESO_EST_COLOR = '#a5d6a7';\r\nconst EGRESO_EST_COLOR = '#ef9a9a';\r\nconst SIN_PRONOSTICO_CHIP_SX = {\r\n  fontWeight: 500,\r\n  bgcolor: '#FFDE70',\r\n  backgroundColor: '#FFDE70',\r\n  color: '#000',\r\n  border: '1px solid #F5C16C',\r\n  '& .MuiChip-label': { color: '#000' },\r\n  '& .MuiChip-icon': { color: '#000' },\r\n  '&.MuiChip-filled': { backgroundColor: '#FFDE70' },\r\n};\r\n\r\nconst CENTERED_INPUT_LABEL_SX = {\r\n  top: '50%',\r\n  transform: 'translate(14px, -50%) scale(1)',\r\n  '&.MuiInputLabel-shrink': {\r\n    top: 0,\r\n    transform: 'translate(14px, -9px) scale(0.75)',\r\n  },\r\n};\r\nconst mesANumero = {\r\n  enero: '01', febrero: '02', marzo: '03', abril: '04',\r\n  mayo: '05', junio: '06', julio: '07', agosto: '08',\r\n  septiembre: '09', octubre: '10', noviembre: '11', diciembre: '12'\r\n};\r\n\r\nconst formatearMes = (ym) => {\r\n  if (!ym) return 'Mes desconocido';\r\n  const [anio, mes] = ym.split('-');\r\n  const nombres = ['Enero','Febrero','Marzo','Abril','Mayo','Junio','Julio','Agosto','Septiembre','Octubre','Noviembre','Diciembre'];\r\n  const i = parseInt(mes, 10);\r\n  return isNaN(i) ? ym : `${nombres[i-1]} ${anio}`;\r\n};\r\n\r\n// YYYY-MM  YYYY-MM-01\r\nconst ymToYmd = (ym) => `${ym}-01`;\r\n\r\n// Devuelve array de YYYY-MM entre from y to (inclusive)\r\nconst mesesEntre = (fromYM, toYM) => {\r\n  const out = [];\r\n  if (!fromYM || !toYM) return out;\r\n  let [fy, fm] = fromYM.split('-').map(Number);\r\n  const [ty, tm] = toYM.split('-').map(Number);\r\n  let y = fy, m = fm, guard = 0;\r\n  while (guard++ < 600) {\r\n    out.push(`${y}-${String(m).padStart(2, '0')}`);\r\n    if (y === ty && m === tm) break;\r\n    m++; if (m > 12) { m = 1; y++; }\r\n  }\r\n  return out;\r\n};\r\n\r\n// Normaliza payload de distintas respuestas posibles\r\nconst normalizeLine = (x) => {\r\n  const rawMovementArray = x?.movimientoIds ?? x?.movimiento_ids ?? x?.movementIds;\r\n  const rawMovementSingle = x?.movimientoId ?? x?.movimiento_id ?? x?.movementId ?? null;\r\n  const movementIds = Array.isArray(rawMovementArray)\r\n    ? rawMovementArray.map((id) => String(id))\r\n    : rawMovementSingle != null\r\n      ? [String(rawMovementSingle)]\r\n      : [];\r\n  return {\r\n    id: x.id,\r\n    categoria: x.categoria,\r\n    tipo: normalizeTipo(x.tipo),\r\n    montoEstimado: x.montoEstimado ?? x.monto_estimado ?? 0,\r\n    real: 0,\r\n    movimientoIds: movementIds,\r\n  };\r\n};\r\n\r\nconst normCat = (value) =>\r\n  (value || '')\r\n    .normalize('NFD')\r\n    .replace(/[\\u0300-\\u036f]/g, '')\r\n    .trim()\r\n    .toLowerCase();\r\n\r\nconst normalizeTipo = (value) => {\r\n  const upper = (value || '').toString().toUpperCase();\r\n  if (upper === 'INGRESO') return 'Ingreso';\r\n  if (upper === 'EGRESO') return 'Egreso';\r\n  return value || '';\r\n};\r\n\r\nexport default function MesDetalle() {\r\n  const { nombre: nombreUrl, mesNombre: mesNombreUrl } = useParams();\r\n  const navigate = useNavigate();\r\n  const theme = useTheme();\r\n  const isLightMode = theme.palette.mode === 'light';\r\n  const paletteVars = theme.vars?.palette ?? theme.palette;\r\n  const kpiColors = React.useMemo(\r\n    () => ({\r\n      ingresos: isLightMode ? 'hsl(120, 44%, 53%)' : paletteVars.success.light,\r\n      egresos: isLightMode ? 'hsl(0, 90%, 40%)' : paletteVars.error.light,\r\n      resultadoPos: isLightMode ? 'hsl(210, 98%, 42%)' : paletteVars.info.light,\r\n      resultadoNeg: isLightMode ? 'hsl(45, 90%, 40%)' : paletteVars.warning.light,\r\n    }),\r\n    [isLightMode, paletteVars.error.light, paletteVars.info.light, paletteVars.success.light, paletteVars.warning.light]\r\n  );\r\n  const tabsLabelColor = isLightMode\r\n    ? paletteVars.text?.primary ?? '#000'\r\n    : paletteVars.common?.white ?? '#fff';\r\n\r\n  React.useEffect(() => {\r\n    if (typeof window !== 'undefined' && typeof window.scrollTo === 'function') {\r\n      window.scrollTo({ top: 0, left: 0, behavior: 'auto' });\r\n    }\r\n  }, []);\r\n\r\n  // ===== State principal =====\r\n  const [lineas, setLineas] = React.useState([]);\r\n  const [lineasSoloReal, setLineasSoloReal] = React.useState([]);\r\n  const [edits, setEdits] = React.useState({}); // { [id]: {categoria, tipo, montoEstimado, real} }\r\n  const [manualGuards, setManualGuards] = React.useState({}); // { [id]: { categoria: bool, tipo: bool, montoEstimado: bool, real: bool } }\r\n  const [guardPrompt, setGuardPrompt] = React.useState({ open: false, id: null, field: null, title: '', message: '', confirmLabel: '', movementIds: [] });\r\n  const [nombreMes, setNombreMes] = React.useState('Mes desconocido');\r\n  const [presupuestoNombre, setPresupuestoNombre] = React.useState('');\r\n  const [presupuestoId, setPresupuestoId] = React.useState(null);\r\n  const [ym, setYm] = React.useState(null); // YYYY-MM\r\n  const [mesesDisponibles, setMesesDisponibles] = React.useState([]);\r\n  const [tab, setTab] = React.useState(0);\r\n  const [totalRealMes, setTotalRealMes] = React.useState(0);\r\n  const goToDatosBrutos = React.useCallback(() => setTab(1), [setTab]);\r\n\r\n  // UI\r\n  const [simulacion, setSimulacion] = React.useState(false);\r\n  const [rowMenuIdx, setRowMenuIdx] = React.useState(null);\r\n  const [snack, setSnack] = React.useState({ open: false, message: '', severity: 'success' });\r\n\r\n  const [nueva, setNueva] = React.useState({ categoria: '', tipo: 'Egreso', montoEstimado: '' });\r\n  const [agregando, setAgregando] = React.useState(false);\r\n\r\n  const [dlgReglas, setDlgReglas] = React.useState(false);\r\n  const [regla, setRegla] = React.useState({ ambito: 'este_mes', modo: 'AJUSTE_PCT', valor: 10, solo: 'todos', rangoDesde: '', rangoHasta: '' });\r\n\r\n  const [dlgVarios, setDlgVarios] = React.useState(false);\r\n  const [bulkCfg, setBulkCfg] = React.useState({ accion: 'replicar', desde: '', hasta: '' });\r\n  const [deletePrompt, setDeletePrompt] = React.useState({ open: false, id: null, categoria: '', tipo: '' });\r\n  const [categoriasOptions, setCategoriasOptions] = React.useState(TODAS_LAS_CATEGORIAS);\r\n  const [loading, setLoading] = React.useState(true);\r\n  const [usuarioRol, setUsuarioRol] = React.useState(null);\r\n\r\n  const categoriasPronosticadas = React.useMemo(() => {\r\n    const ocupadas = new Set();\r\n    for (const linea of lineas) {\r\n      const normalizada = normCat(linea?.categoria);\r\n      if (normalizada) ocupadas.add(normalizada);\r\n    }\r\n    return ocupadas;\r\n  }, [lineas]);\r\n\r\n  const opcionesNuevaLinea = React.useMemo(() => {\r\n    let disponibles = categoriasOptions.filter((option) => {\r\n      if (typeof option !== 'string') return false;\r\n      const normalizada = normCat(option);\r\n      if (!normalizada) return false;\r\n      return !categoriasPronosticadas.has(normalizada);\r\n    });\r\n\r\n    if (nueva.categoria) {\r\n      const categoriaActualNorm = normCat(nueva.categoria);\r\n      const yaIncluida = disponibles.some((opt) => normCat(opt) === categoriaActualNorm);\r\n      if (!yaIncluida) {\r\n        disponibles = [nueva.categoria, ...disponibles];\r\n      }\r\n    }\r\n\r\n    return disponibles;\r\n  }, [categoriasOptions, categoriasPronosticadas, nueva.categoria]);\r\n\r\n  const { prevYm, nextYm } = React.useMemo(() => {\r\n    if (!ym || !mesesDisponibles.length) {\r\n      return { prevYm: null, nextYm: null };\r\n    }\r\n    const idx = mesesDisponibles.findIndex((value) => value === ym);\r\n    if (idx === -1) {\r\n      return { prevYm: null, nextYm: null };\r\n    }\r\n    return {\r\n      prevYm: idx > 0 ? mesesDisponibles[idx - 1] : null,\r\n      nextYm: idx < mesesDisponibles.length - 1 ? mesesDisponibles[idx + 1] : null,\r\n    };\r\n  }, [ym, mesesDisponibles]);\r\n\r\n  React.useEffect(() => {\r\n    let activo = true;\r\n    const cargarCategorias = async () => {\r\n      try {\r\n        const response = await http.get(`${API_CONFIG.REGISTRO}/api/categorias`);\r\n        if (!activo) return;\r\n        if (Array.isArray(response?.data) && response.data.length > 0) {\r\n          setCategoriasOptions(response.data);\r\n        }\r\n      } catch (error) {\r\n        console.error('No se pudieron obtener las categoras, se usan las predefinidas', error);\r\n      }\r\n    };\r\n    cargarCategorias();\r\n    return () => {\r\n      activo = false;\r\n    };\r\n  }, []);\r\n\r\n  React.useEffect(() => {\r\n    const cargarRolUsuario = async () => {\r\n      try {\r\n        const sub = sessionStorage.getItem('sub');\r\n        if (!sub) return;\r\n        const res = await fetch(`${API_CONFIG.ADMINISTRACION}/api/usuarios/perfil`, {\r\n          headers: { 'X-Usuario-Sub': sub },\r\n        });\r\n        if (!res.ok) return;\r\n        const data = await res.json();\r\n        if (data && data.rol) {\r\n          setUsuarioRol(data.rol);\r\n        }\r\n      } catch (err) {\r\n        console.error('Error cargando rol de usuario para presupuesto:', err);\r\n      }\r\n    };\r\n    cargarRolUsuario();\r\n  }, []);\r\n\r\n  const esAdmin = React.useMemo(\r\n    () => (usuarioRol || '').toUpperCase().includes('ADMIN'),\r\n    [usuarioRol]\r\n  );\r\n\r\n  // ===== Carga de datos =====\r\n  const fetchMes = React.useCallback(async (pid, ymStr, { skipStateUpdate = false } = {}) => {\r\n    if (!pid || !ymStr) return;\r\n\r\n    // 1) intento con YYYY-MM\r\n    const url1 = `${baseURL}/api/presupuestos/${pid}/mes/${ymStr}`;\r\n    // 2) fallback YYYY-MM-01 (si el backend guarda date)\r\n    const url2 = `${baseURL}/api/presupuestos/${pid}/mes/${ymToYmd(ymStr)}`;\r\n\r\n    const tryFetch = async (url) => {\r\n      try {\r\n        const res = await http.get(url);\r\n        const d = res?.data;\r\n        let arr =\r\n          Array.isArray(d) ? d :\r\n          Array.isArray(d?.lineas) ? d.lineas :\r\n          Array.isArray(d?.categorias) ? d.categorias : [];\r\n        const norm = arr.map(normalizeLine);\r\n        return norm;\r\n      } catch {\r\n        return null;\r\n      }\r\n    };\r\n\r\n    let l = await tryFetch(url1);\r\n    if (!l || l.length === 0) l = await tryFetch(url2);\r\n    const finalLineas = l || [];\r\n    if (!skipStateUpdate) setLineas(finalLineas);\r\n    return finalLineas;\r\n  }, []);\r\n\r\n  const cargarLineasConReales = React.useCallback(async (pid, ymStr) => {\r\n    const lineasBase = (await fetchMes(pid, ymStr, { skipStateUpdate: true })) || [];\r\n    const ymKey = typeof ymStr === 'string' ? ymStr.slice(0, 7) : '';\r\n    const referencia = dayjs(`${ymKey}-01`);\r\n    if (!referencia.isValid()) {\r\n      const sinReales = lineasBase.map((linea) => ({ ...linea, real: 0 }));\r\n      setLineas(sinReales);\r\n      setLineasSoloReal([]);\r\n      setTotalRealMes(0);\r\n      return sinReales;\r\n    }\r\n\r\n    try {\r\n      const refDate = referencia.toDate();\r\n      const fechaDesde = format(startOfMonth(refDate), 'yyyy-MM-dd');\r\n      const fechaHasta = format(endOfMonth(refDate), 'yyyy-MM-dd');\r\n\r\n      const [respEgreso, respIngreso] = await Promise.all([\r\n        getMovimientosPorRango({\r\n          fechaDesde,\r\n          fechaHasta,\r\n          tipos: 'Egreso',\r\n        }),\r\n        getMovimientosPorRango({\r\n          fechaDesde,\r\n          fechaHasta,\r\n          tipos: 'Ingreso',\r\n        }),\r\n      ]);\r\n      const movimientosEgreso = Array.isArray(respEgreso?.content) ? respEgreso.content : (Array.isArray(respEgreso) ? respEgreso : []);\r\n      const movimientosIngreso = Array.isArray(respIngreso?.content) ? respIngreso.content : (Array.isArray(respIngreso) ? respIngreso : []);\r\n\r\n      const agruparPorCategoria = (lista) => lista.reduce((acc, movimiento) => {\r\n        const nombreOriginal =\r\n          movimiento?.categoriaNombre || movimiento?.categoria || movimiento?.categoria_id_nombre || 'Sin categora';\r\n        const key = normCat(nombreOriginal);\r\n        if (!key) return acc;\r\n        const monto = Math.abs(\r\n          Number(movimiento?.monto ?? movimiento?.montoTotal ?? movimiento?.monto_total ?? 0)\r\n        ) || 0;\r\n        if (!Number.isFinite(monto)) return acc;\r\n        if (!acc[key]) {\r\n          acc[key] = { total: 0, label: nombreOriginal || 'Sin categora', movementIds: [] };\r\n        }\r\n        acc[key].total += monto;\r\n        const rawMovimientoId =\r\n          movimiento?.id ??\r\n          movimiento?.movimientoId ??\r\n          movimiento?.movimiento_id ??\r\n          movimiento?.movimientoID ??\r\n          movimiento?.idMovimiento ??\r\n          null;\r\n        const movimientoId = rawMovimientoId != null ? String(rawMovimientoId) : null;\r\n        if (movimientoId && !acc[key].movementIds.includes(movimientoId)) {\r\n          acc[key].movementIds.push(movimientoId);\r\n        }\r\n        return acc;\r\n      }, {});\r\n\r\n      const realesPorCategoriaEgreso = agruparPorCategoria(movimientosEgreso);\r\n      const realesPorCategoriaIngreso = agruparPorCategoria(movimientosIngreso);\r\n      const totalRealEgreso = Object.values(realesPorCategoriaEgreso).reduce((acc, data) => acc + data.total, 0);\r\n\r\n      const lineasConReales = lineasBase.map((linea) => {\r\n        const key = normCat(linea.categoriaNombre || linea.categoria);\r\n        const tipoKey = (linea.tipo || '').toUpperCase();\r\n        const baseMovementIds = Array.isArray(linea.movimientoIds)\r\n          ? linea.movimientoIds.map((id) => String(id))\r\n          : [];\r\n        let real = 0;\r\n        let movementIds = baseMovementIds;\r\n        if (tipoKey === 'INGRESO') {\r\n          const info = realesPorCategoriaIngreso[key];\r\n          real = info?.total || 0;\r\n          const extraIds = Array.isArray(info?.movementIds) ? info.movementIds.map((id) => String(id)) : [];\r\n          movementIds = Array.from(new Set([...baseMovementIds, ...extraIds]));\r\n        } else if (tipoKey === 'EGRESO') {\r\n          const info = realesPorCategoriaEgreso[key];\r\n          real = info?.total || 0;\r\n          const extraIds = Array.isArray(info?.movementIds) ? info.movementIds.map((id) => String(id)) : [];\r\n          movementIds = Array.from(new Set([...baseMovementIds, ...extraIds]));\r\n        }\r\n        return {\r\n          ...linea,\r\n          real,\r\n          movimientoIds: movementIds,\r\n        };\r\n      });\r\n\r\n      const categoriasPorTipo = lineasBase.reduce((acc, linea) => {\r\n        const tipoKey = (linea.tipo || '').toUpperCase();\r\n        const key = normCat(linea.categoriaNombre || linea.categoria);\r\n        if (!acc[tipoKey]) acc[tipoKey] = new Set();\r\n        acc[tipoKey].add(key);\r\n        return acc;\r\n      }, {});\r\n\r\n      const adicionales = [];\r\n      const registrarAdicionales = (tipoKey, mapa) => {\r\n        const set = categoriasPorTipo[tipoKey] || new Set();\r\n        Object.entries(mapa).forEach(([key, data]) => {\r\n          if (!set.has(key)) {\r\n            adicionales.push({\r\n              id: `real-only-${tipoKey}-${key}`,\r\n              categoria: data.label || 'Sin categora',\r\n              tipo: normalizeTipo(tipoKey),\r\n              montoEstimado: 0,\r\n              real: data.total,\r\n              _soloReal: true,\r\n              movimientoIds: Array.from(new Set((data.movementIds || []).map((id) => String(id)))),\r\n            });\r\n          }\r\n        });\r\n      };\r\n\r\n      registrarAdicionales('EGRESO', realesPorCategoriaEgreso);\r\n      registrarAdicionales('INGRESO', realesPorCategoriaIngreso);\r\n\r\n      setLineas(lineasConReales);\r\n      setLineasSoloReal(adicionales);\r\n      setTotalRealMes(totalRealEgreso);\r\n      return lineasConReales;\r\n    } catch (movErr) {\r\n      console.error('Error al obtener datos reales del mes:', movErr);\r\n      const fallback = lineasBase.map((linea) => ({\r\n        ...linea,\r\n        real: 0,\r\n      }));\r\n      setLineas(fallback);\r\n      setLineasSoloReal([]);\r\n      setTotalRealMes(0);\r\n      setSnack({ open: true, message: 'No se pudieron cargar los datos reales del mes.', severity: 'error' });\r\n      return fallback;\r\n    }\r\n  }, [fetchMes, setSnack]);\r\n\r\n  React.useEffect(() => {\r\n    const cargar = async () => {\r\n      try {\r\n        setLoading(true);\r\n        // 1) buscar presupuesto por nombre\r\n        const resPres = await http.get(`${baseURL}/api/presupuestos`);\r\n        const listaPayload = resPres?.data;\r\n        let lista = [];\r\n        if (Array.isArray(listaPayload)) {\r\n          lista = listaPayload;\r\n        } else if (Array.isArray(listaPayload?.content)) {\r\n          lista = listaPayload.content;\r\n        }\r\n\r\n        const decodedNombre = decodeURIComponent(nombreUrl || '').trim().toLowerCase().replace(/\\s+/g, '-');\r\n        const p = lista.find(pp => (pp?.nombre || '').trim().toLowerCase().replace(/\\s+/g, '-') === decodedNombre);\r\n        if (!p?.id) throw new Error('Presupuesto no encontrado');\r\n\r\n        setPresupuestoNombre(p.nombre);\r\n        setPresupuestoId(p.id);\r\n\r\n      // 2) resolver YYYY-MM desde mesNombreUrl usando /totales\r\n      const mesNumStr = mesANumero[(mesNombreUrl || '').toLowerCase().trim()];\r\n      if (!mesNumStr) throw new Error('Mes no vlido');\r\n\r\n      const resTot = await http.get(`${baseURL}/api/presupuestos/${p.id}/totales`);\r\n      const totales = Array.isArray(resTot.data) ? resTot.data : [];\r\n      const mesesLista = Array.from(\r\n        new Set(\r\n          totales\r\n            .map((t) => (t?.mes ? String(t.mes) : ''))\r\n            .filter(Boolean)\r\n        )\r\n      ).sort((a, b) => a.localeCompare(b));\r\n      setMesesDisponibles(mesesLista);\r\n      const item = totales.find(t => String(t?.mes || '').endsWith(`-${mesNumStr}`));\r\n      if (!item?.mes) throw new Error('Mes no encontrado en totales');\r\n\r\n      setYm(item.mes);\r\n      setNombreMes(formatearMes(item.mes));\r\n\r\n      // 3) cargar lineas reales\r\n      await cargarLineasConReales(p.id, item.mes);\r\n  \r\n      } catch (err) {\r\n        console.error(err);\r\n        setLineas([]);\r\n        setMesesDisponibles([]);\r\n        setYm(null);\r\n        setNombreMes('Mes desconocido');\r\n        setSnack({ open: true, message: err?.message || 'Error cargando mes', severity: 'error' });\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    };\r\n\r\n    if (nombreUrl && mesNombreUrl) cargar();\r\n  }, [nombreUrl, mesNombreUrl, cargarLineasConReales]);\r\n\r\n  const handleCambiarMes = React.useCallback(async (targetYm) => {\r\n    if (!targetYm || !presupuestoId) return;\r\n    try {\r\n      setLoading(true);\r\n      await cargarLineasConReales(presupuestoId, targetYm);\r\n      setYm(targetYm);\r\n      setNombreMes(formatearMes(targetYm));\r\n    } catch (err) {\r\n      console.error('Error cambiando de mes', err);\r\n      setSnack({ open: true, message: 'No se pudieron cargar los datos del mes seleccionado.', severity: 'error' });\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  }, [presupuestoId, cargarLineasConReales, setSnack]);\r\n\r\n  // Sincronizo `edits` cuando cambian las lineas\r\n  const lineasCompleto = React.useMemo(\r\n    () => [...lineas, ...lineasSoloReal],\r\n    [lineas, lineasSoloReal]\r\n  );\r\n\r\n  React.useEffect(() => {\r\n    const nextEdits = {};\r\n    for (const l of lineasCompleto) {\r\n      nextEdits[l.id] = {\r\n        categoria: l.categoria,\r\n        tipo: l.tipo,\r\n        montoEstimado: safeNumber(l.montoEstimado),\r\n        real: l.real === null || typeof l.real === 'undefined' ? '' : safeNumber(l.real)\r\n      };\r\n    }\r\n    setEdits(nextEdits);\r\n    setManualGuards((prev) => {\r\n      const nextGuards = {};\r\n      for (const l of lineasCompleto) {\r\n        nextGuards[l.id] = {\r\n          categoria: prev[l.id]?.categoria || false,\r\n          tipo: prev[l.id]?.tipo || false,\r\n          montoEstimado: prev[l.id]?.montoEstimado || false,\r\n          real: prev[l.id]?.real || false,\r\n        };\r\n      }\r\n      return nextGuards;\r\n    });\r\n  }, [lineasCompleto]);\r\n\r\n  const requestManualUnlock = React.useCallback((id, field) => {\r\n    const cfg = GUARD_MESSAGES[field] || {};\r\n    if (field === 'real') {\r\n      const targetLine = lineasCompleto.find((l) => l.id === id);\r\n      const movementIds = Array.isArray(targetLine?.movimientoIds)\r\n        ? targetLine.movimientoIds.map((value) => String(value))\r\n        : [];\r\n      if (!movementIds.length) {\r\n        setSnack({ open: true, message: 'No se encontro el movimiento para editar.', severity: 'error' });\r\n        return;\r\n      }\r\n      setGuardPrompt({\r\n        open: true,\r\n        id,\r\n        field,\r\n        title: cfg.title || 'Editar monto real',\r\n        message: cfg.body || 'Esta accion habilita la edicion manual.',\r\n        confirmLabel: cfg.confirmLabel || 'Habilitar edicion en movimientos',\r\n        movementIds,\r\n      });\r\n      return;\r\n    }\r\n    setGuardPrompt({\r\n      open: true,\r\n      id,\r\n      field,\r\n      title: cfg.title || 'Confirmar edicion manual',\r\n      message: cfg.body || 'Esta accion habilita la edicion manual.',\r\n      confirmLabel: cfg.confirmLabel || 'Habilitar',\r\n      movementIds: [],\r\n    });\r\n  }, [lineasCompleto, setSnack]);\r\n\r\n  const handleGuardCancel = React.useCallback(() => {\r\n    setGuardPrompt({ open: false, id: null, field: null, title: '', message: '', confirmLabel: '', movementIds: [] });\r\n  }, []);\r\n\r\n  const toggleManualGuard = React.useCallback((id, field, enabled) => {\r\n    const fieldsToToggle = field === 'categoria' ? ['categoria', 'tipo', 'montoEstimado'] : [field];\r\n    setManualGuards((prev) => {\r\n      const next = { ...prev };\r\n      const current = { ...(next[id] || {}) };\r\n      fieldsToToggle.forEach((key) => {\r\n        current[key] = enabled;\r\n      });\r\n      next[id] = current;\r\n      return next;\r\n    });\r\n    if (!enabled) {\r\n      const linea = lineasCompleto.find((l) => l.id === id);\r\n      if (linea) {\r\n        setEdits((prev) => {\r\n          const updated = { ...(prev[id] || {}) };\r\n          fieldsToToggle.forEach((key) => {\r\n            if (key === 'real') {\r\n              updated[key] = linea.real === null || typeof linea.real === 'undefined' ? '' : safeNumber(linea.real);\r\n            } else if (key === 'tipo') {\r\n              updated[key] = linea.tipo;\r\n            } else if (key === 'montoEstimado') {\r\n              updated[key] = safeNumber(linea.montoEstimado);\r\n            } else if (key === 'categoria') {\r\n              updated[key] = linea.categoria;\r\n            }\r\n          });\r\n          return { ...prev, [id]: updated };\r\n        });\r\n      }\r\n      const label = GUARD_FIELD_LABELS[field] || field;\r\n      setSnack({ open: true, message: `Edicin manual desactivada para ${label}.`, severity: 'info' });\r\n    }\r\n  }, [lineasCompleto, setSnack]);\r\n\r\n  const handleGuardConfirm = React.useCallback(() => {\r\n    if (!(guardPrompt.open && guardPrompt.id != null && guardPrompt.field)) {\r\n      setGuardPrompt({ open: false, id: null, field: null, title: '', message: '', confirmLabel: '', movementIds: [] });\r\n      return;\r\n    }\r\n\r\n    if (guardPrompt.field === 'real') {\r\n      const targetLine = lineasCompleto.find((l) => l.id === guardPrompt.id);\r\n      const combinedIds = guardPrompt.movementIds && guardPrompt.movementIds.length\r\n        ? guardPrompt.movementIds\r\n        : Array.isArray(targetLine?.movimientoIds)\r\n          ? targetLine.movimientoIds.map((value) => String(value))\r\n          : [];\r\n      const movementId = combinedIds[0];\r\n      setGuardPrompt({ open: false, id: null, field: null, title: '', message: '', confirmLabel: '', movementIds: [] });\r\n      if (!movementId) {\r\n        setSnack({ open: true, message: 'No se encontro el movimiento para editar.', severity: 'error' });\r\n        return;\r\n      }\r\n      const params = new URLSearchParams();\r\n      params.set('editMovementId', movementId);\r\n      navigate(`/ver-movimientos?${params.toString()}`, {\r\n        state: {\r\n          editMovementId: movementId,\r\n          editMovementMeta: {\r\n            from: 'presupuesto',\r\n            presupuestoId,\r\n            ym,\r\n            categoria: targetLine?.categoria || '',\r\n            movimientoIds: combinedIds,\r\n          },\r\n        },\r\n      });\r\n      return;\r\n    }\r\n\r\n    toggleManualGuard(guardPrompt.id, guardPrompt.field, true);\r\n    const label = GUARD_FIELD_LABELS[guardPrompt.field] || guardPrompt.field;\r\n    setSnack({ open: true, message: `Edicion manual habilitada para ${label}.`, severity: 'warning' });\r\n    setGuardPrompt({ open: false, id: null, field: null, title: '', message: '', confirmLabel: '', movementIds: [] });\r\n  }, [guardPrompt, lineasCompleto, navigate, toggleManualGuard, setSnack, presupuestoId, ym]);\r\n\r\n  const isFieldUnlocked = React.useCallback(\r\n    (id, field) => manualGuards[id]?.[field] === true,\r\n    [manualGuards]\r\n  );\r\n\r\n  const reloadMes = React.useCallback(async () => {\r\n    if (presupuestoId && ym) {\r\n      setLoading(true);\r\n      try {\r\n        await cargarLineasConReales(presupuestoId, ym);\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    }\r\n  }, [presupuestoId, ym, cargarLineasConReales]);\r\n\r\n  // ===== Derivados =====\r\n  const ingresos = React.useMemo(\r\n    () => lineasCompleto.filter((c) => (c.tipo || '').toUpperCase() === 'INGRESO'),\r\n    [lineasCompleto]\r\n  );\r\n  const egresos = React.useMemo(\r\n    () => lineasCompleto.filter((c) => (c.tipo || '').toUpperCase() === 'EGRESO'),\r\n    [lineasCompleto]\r\n  );\r\n\r\n  const totalIngresos = ingresos.reduce((acc, c) => acc + safeNumber(c.real), 0);\r\n  const totalEgresosCalculado = egresos.reduce((acc, c) => acc + safeNumber(c.real), 0);\r\n  const totalEgresos = Number.isFinite(totalRealMes) ? totalRealMes : totalEgresosCalculado;\r\n  const totalIngresoEst = ingresos.reduce((acc, c) => acc + safeNumber(c.montoEstimado), 0);\r\n  const totalEgresoEst = egresos.reduce((acc, c) => acc + safeNumber(c.montoEstimado), 0);\r\n  const resultado = totalIngresos - totalEgresos;\r\n\r\n  const estimadoTotal = lineasCompleto.reduce(\r\n    (acc, c) => acc + safeNumber(c.montoEstimado) * (c.tipo === 'Ingreso' ? 1 : -1),\r\n    0\r\n  );\r\n  const cumplimiento = Math.abs(estimadoTotal) > 0 ? (resultado / Math.abs(estimadoTotal)) : 0;\r\n\r\n  const vencidosEstimados = lineas.filter(\r\n    (c) => safeNumber(c.montoEstimado) !== 0 && safeNumber(c.real) === 0\r\n  ).length;\r\n\r\n  const pieDataIngresos = ingresos.map((i) => ({ name: i.categoria, value: safeNumber(i.real) }));\r\n  const barDataIngresos = ingresos.map((i) => ({\r\n    name: i.categoria,\r\n    estimado: safeNumber(i.montoEstimado),\r\n    real: safeNumber(i.real),\r\n  }));\r\n  const pieDataEgresos = egresos.map((e) => ({ name: e.categoria, value: safeNumber(e.real) }));\r\n  const barDataEgresos = egresos.map((e) => ({\r\n    name: e.categoria,\r\n    estimado: safeNumber(e.montoEstimado),\r\n    real: safeNumber(e.real),\r\n  }));\r\n\r\n  // ===== Export =====\r\n  const handleExportExcel = () => {\r\n    const data = [\r\n      ['Categora', 'Tipo', 'Monto Estimado', 'Monto Registrado', 'Desvo'],\r\n      ...lineasCompleto.map((item) => [\r\n        item.categoria,\r\n        item.tipo,\r\n        safeNumber(item.montoEstimado),\r\n        safeNumber(item.real),\r\n        (item.tipo === 'Egreso'\r\n            ? safeNumber(item.montoEstimado) - safeNumber(item.real)\r\n            : safeNumber(item.real) - safeNumber(item.montoEstimado)),\r\n      ]),\r\n    ];\r\n    data.push(['', '', '', '', '']);\r\n    data.push(['Resultado:', '', '', '', resultado]);\r\n\r\n    import('xlsx').then(({ utils, writeFile }) => {\r\n      const ws = utils.aoa_to_sheet(data, { cellStyles: true });\r\n      const wb = utils.book_new();\r\n      utils.book_append_sheet(wb, ws, 'Detalle Mes');\r\n      writeFile(wb, `Mes_${nombreMes}_${Date.now()}.xlsx`, { cellStyles: true });\r\n    });\r\n  };\r\n\r\n  const handleExportPdf = () => {\r\n    import('html2pdf.js').then((html2pdf) => {\r\n      const element = document.getElementById('mes-detalle-content');\r\n      const opt = {\r\n        margin: 1,\r\n        filename: `Mes_${nombreMes}_${Date.now()}.pdf`,\r\n        image: { type: 'jpeg', quality: 0.98 },\r\n        html2canvas: { scale: 2 },\r\n        jsPDF: { unit: 'in', format: 'letter', orientation: 'portrait' },\r\n      };\r\n      html2pdf.default().from(element).set(opt).save();\r\n    });\r\n  };\r\n\r\n  // ===== CRUD =====\r\n  const toCamelPayload = (l) => ({\r\n    categoria: l.categoria,\r\n    tipo: l.tipo,\r\n    montoEstimado: Number(l.montoEstimado ?? 0),\r\n    real: l.real === '' || l.real == null ? null : Number(l.real),\r\n  });\r\n\r\n  const toSnakePayload = (l) => ({\r\n    categoria: l.categoria,\r\n    tipo: l.tipo,\r\n    monto_estimado: Number(l.montoEstimado ?? 0),\r\n    real: l.real === '' || l.real == null ? null : Number(l.real),\r\n  });\r\n\r\n  const tryPatchOrPut = async (method, url, data) => {\r\n    if (method === 'patch') return http.patch(url, data);\r\n    return http.put(url, data);\r\n  };\r\n\r\n  const patchLinea = async (l) => {\r\n    try {\r\n      if (!esAdmin) {\r\n        setSnack({\r\n          open: true,\r\n          message: 'No tens permisos para editar este presupuesto. Solo los administradores pueden editar datos brutos.',\r\n          severity: 'warning',\r\n        });\r\n        return;\r\n      }\r\n      if (!presupuestoId || !ym || !l?.id) return;\r\n\r\n      const urls = [\r\n        `${baseURL}/api/presupuestos/${presupuestoId}/mes/${ym}/lineas/${l.id}`,\r\n        `${baseURL}/api/presupuestos/${presupuestoId}/mes/${ymToYmd(ym)}/lineas/${l.id}`,\r\n      ];\r\n      const methods = ['patch', 'put']; // por si el backend usa PUT\r\n      const payloads = [toCamelPayload(l), toSnakePayload(l)];\r\n\r\n      let lastErr = null;\r\n\r\n      for (const url of urls) {\r\n        for (const method of methods) {\r\n          // 1) camelCase\r\n          try {\r\n            await tryPatchOrPut(method, url, payloads[0]);\r\n            setManualGuards((prev) => {\r\n              if (!prev || !prev[l.id]) return prev;\r\n              return { ...prev, [l.id]: { categoria: false, real: false } };\r\n            });\r\n            await reloadMes();\r\n            setSnack({ open: true, message: 'Lnea actualizada', severity: 'success' });\r\n            return;\r\n          } catch (e1) {\r\n            lastErr = e1;\r\n            // 2) snake_case si hubo 400 (bad request por nombres de campos)\r\n            const status = e1?.response?.status;\r\n            if (status === 400) {\r\n              try {\r\n                await tryPatchOrPut(method, url, payloads[1]);\r\n                setManualGuards((prev) => {\r\n                  if (!prev || !prev[l.id]) return prev;\r\n                  return { ...prev, [l.id]: { categoria: false, real: false } };\r\n                });\r\n                await reloadMes();\r\n                setSnack({ open: true, message: 'Lnea actualizada', severity: 'success' });\r\n                return;\r\n              } catch (e2) {\r\n                lastErr = e2;\r\n              }\r\n            }\r\n            // si 404/405 seguimos probando con otra URL o mtodo\r\n          }\r\n        }\r\n      }\r\n\r\n      const serverMsg =\r\n        lastErr?.response?.data?.message ||\r\n        lastErr?.response?.data?.error ||\r\n        lastErr?.message ||\r\n        'Error al actualizar';\r\n\r\n      setSnack({ open: true, message: serverMsg, severity: 'error' });\r\n      console.error('patchLinea error:', lastErr?.response || lastErr);\r\n    } catch (e) {\r\n      console.error(e);\r\n      setSnack({ open: true, message: 'Error al actualizar', severity: 'error' });\r\n    }\r\n  };\r\n\r\n  const openDeletePrompt = (item) => {\r\n    setDeletePrompt({ open: true, id: item.id, categoria: item.categoria, tipo: item.tipo });\r\n  };\r\n\r\n  const closeDeletePrompt = () => {\r\n    setDeletePrompt((prev) => ({ ...prev, open: false }));\r\n  };\r\n\r\n  const deleteLinea = async (lineaId) => {\r\n    try {\r\n      if (!esAdmin) {\r\n        setSnack({\r\n          open: true,\r\n          message: 'No tens permisos para editar este presupuesto. Solo los administradores pueden editar datos brutos.',\r\n          severity: 'warning',\r\n        });\r\n        return;\r\n      }\r\n      if (!presupuestoId || !ym || !lineaId) return;\r\n      await http.delete(`${baseURL}/api/presupuestos/${presupuestoId}/mes/${ym}/lineas/${lineaId}`);\r\n      await reloadMes();\r\n      setSnack({ open: true, message: 'Lnea eliminada', severity: 'success' });\r\n    } catch (e) {\r\n      console.error(e);\r\n      setSnack({ open: true, message: 'Error al eliminar', severity: 'error' });\r\n    }\r\n  };\r\n\r\n  const confirmDeletePrompt = async () => {\r\n    const targetId = deletePrompt.id;\r\n    setDeletePrompt({ open: false, id: null, categoria: '', tipo: '' });\r\n    if (targetId != null) {\r\n      await deleteLinea(targetId);\r\n    }\r\n  };\r\n\r\n  const addLinea = async () => {\r\n    try {\r\n      if (!esAdmin) {\r\n        setSnack({\r\n          open: true,\r\n          message: 'No tens permisos para editar este presupuesto. Solo los administradores pueden editar datos brutos.',\r\n          severity: 'warning',\r\n        });\r\n        return;\r\n      }\r\n      if (!presupuestoId || !ym) return;\r\n      if (!nueva.categoria || !nueva.tipo) {\r\n        setSnack({ open: true, message: 'Complet Categora y tipo', severity: 'warning' });\r\n        return;\r\n      }\r\n      const payload = {\r\n        categoria: nueva.categoria,\r\n        tipo: nueva.tipo,\r\n        montoEstimado: Number(nueva.montoEstimado || 0),\r\n      };\r\n      await http.post(`${baseURL}/api/presupuestos/${presupuestoId}/mes/${ym}/lineas`, payload);\r\n      setNueva({ categoria: '', tipo: 'Egreso', montoEstimado: '' });\r\n      setAgregando(false);\r\n      await reloadMes();\r\n      setSnack({ open: true, message: 'Lnea agregada', severity: 'success' });\r\n    } catch (e) {\r\n      console.error(e);\r\n      setSnack({ open: true, message: 'Error al agregar', severity: 'error' });\r\n    }\r\n  };\r\n\r\n  const crearLineaDesdeReal = async (l) => {\r\n    try {\r\n      if (!esAdmin) {\r\n        setSnack({\r\n          open: true,\r\n          message: 'No tens permisos para editar este presupuesto. Solo los administradores pueden editar datos brutos.',\r\n          severity: 'warning',\r\n        });\r\n        return;\r\n      }\r\n      if (!presupuestoId || !ym) return;\r\n      const payload = {\r\n        categoria: l.categoria,\r\n        tipo: l.tipo,\r\n        montoEstimado: safeNumber(l.montoEstimado),\r\n        real: l.real === '' || l.real == null ? null : safeNumber(l.real),\r\n      };\r\n      await http.post(`${baseURL}/api/presupuestos/${presupuestoId}/mes/${ym}/lineas`, payload);\r\n      setSnack({ open: true, message: 'Lnea agregada desde movimiento real.', severity: 'success' });\r\n      await reloadMes();\r\n    } catch (e) {\r\n      console.error(e);\r\n      const msg = e?.response?.data?.message || 'Error al crear lnea';\r\n      setSnack({ open: true, message: msg, severity: 'error' });\r\n    }\r\n  };\r\n\r\n  // ===== Bulk en varios meses =====\r\n  const abrirDlgVariosConFila = (idx) => {\r\n    const idxEfectivo = (typeof idx === 'number') ? idx : rowMenuIdx;\r\n    if (idxEfectivo == null) return;\r\n    setRowMenuIdx(idxEfectivo); // asegura que quede seteado\r\n    setBulkCfg((c) => ({ ...c, accion: 'replicar', desde: ym || '', hasta: ym || '' }));\r\n    setDlgVarios(true);\r\n  };\r\n\r\n  const ejecutarBulk = async () => {\r\n    try {\r\n      if (!esAdmin) {\r\n        setSnack({\r\n          open: true,\r\n          message: 'No tens permisos para editar este presupuesto. Solo los administradores pueden editar datos brutos.',\r\n          severity: 'warning',\r\n        });\r\n        return;\r\n      }\r\n      if (rowMenuIdx == null) return;\r\n      const l = lineas[rowMenuIdx];\r\n      if (!l || !presupuestoId) return;\r\n\r\n      const { accion, desde, hasta } = bulkCfg;\r\n      if (!desde || !hasta) {\r\n        setSnack({ open: true, message: 'Complet rango de meses', severity: 'warning' });\r\n        return;\r\n      }\r\n      const meses = mesesEntre(desde, hasta);\r\n      if (meses.length === 0) {\r\n        setSnack({ open: true, message: 'Rango invlido', severity: 'warning' });\r\n        return;\r\n      }\r\n\r\n      if (accion === 'replicar') {\r\n        const payload = {\r\n          categoria: l.categoria,\r\n          tipo: l.tipo,\r\n          montoEstimado: Number(l.montoEstimado || 0),\r\n          real: l.real === '' || l.real == null ? null : Number(l.real),\r\n        };\r\n        for (const ymX of meses) {\r\n          await http.post(`${baseURL}/api/presupuestos/${presupuestoId}/mes/${ymX}/lineas`, payload);\r\n        }\r\n        setSnack({ open: true, message: `Replicado en ${meses.length} mes(es)`, severity: 'success' });\r\n      } else if (accion === 'eliminar') {\r\n        for (const ymX of meses) {\r\n          // tolerante con los dos formatos\r\n          const urls = [\r\n            `${baseURL}/api/presupuestos/${presupuestoId}/mes/${ymX}`,\r\n            `${baseURL}/api/presupuestos/${presupuestoId}/mes/${ymToYmd(ymX)}`\r\n          ];\r\n          let ls = [];\r\n          for (const u of urls) {\r\n            try {\r\n              const res = await http.get(u);\r\n              const d = res?.data;\r\n              const arr = Array.isArray(d) ? d : Array.isArray(d?.lineas) ? d.lineas : Array.isArray(d?.categorias) ? d.categorias : [];\r\n              ls = arr.map(normalizeLine);\r\n              if (ls.length) break;\r\n            } catch { /* ignore */ }\r\n          }\r\n          const toDelete = ls.filter(ll =>\r\n            (ll.categoria || '').toLowerCase().trim() === (l.categoria || '').toLowerCase().trim() &&\r\n            ll.tipo === l.tipo\r\n          );\r\n          for (const d of toDelete) {\r\n            await http.delete(`${baseURL}/api/presupuestos/${presupuestoId}/mes/${ymX}/lineas/${d.id}`);\r\n          }\r\n        }\r\n        setSnack({ open: true, message: `Eliminado en ${meses.length} mes(es)`, severity: 'success' });\r\n      }\r\n      setDlgVarios(false);\r\n      await reloadMes();\r\n    } catch (e) {\r\n      console.error(e);\r\n      setSnack({ open: true, message: 'Error en operacin por mltiples meses', severity: 'error' });\r\n    }\r\n  };\r\n  // ===== Render =====\r\n  if (loading) {\r\n    return (\r\n      <Box sx={{ width: '100%', p: 3 }}>\r\n        <LoadingSpinner message=\"Cargando detalle del mes...\" />\r\n      </Box>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <Box id=\"mes-detalle-content\" sx={{ width: '100%', p: 3 }}>\r\n      <Box\r\n        sx={{\r\n          display: 'flex',\r\n          alignItems: 'center',\r\n          gap: 1.5,\r\n          mb: 1.5,\r\n          justifyContent: 'flex-start',\r\n        }}\r\n      >\r\n        <Box sx={{ width: 40, display: 'flex', justifyContent: 'flex-start' }}>\r\n          <IconButton\r\n            size=\"small\"\r\n            onClick={() => prevYm && handleCambiarMes(prevYm)}\r\n            aria-label=\"Mes anterior\"\r\n            disabled={!prevYm}\r\n            sx={{\r\n              color: '#04564c',\r\n              '&.Mui-disabled': { color: '#04564c', opacity: 0.5 },\r\n            }}\r\n          >\r\n            <ChevronLeftIcon fontSize=\"small\" />\r\n          </IconButton>\r\n        </Box>\r\n        <Typography\r\n          variant=\"h4\"\r\n          fontWeight=\"600\"\r\n          sx={{\r\n            flexGrow: 0,\r\n            flexShrink: 0,\r\n            textAlign: 'center',\r\n            minWidth: '14ch',\r\n            whiteSpace: 'nowrap',\r\n          }}\r\n        >\r\n          {nombreMes}\r\n        </Typography>\r\n        <Box sx={{ width: 40, display: 'flex', justifyContent: 'flex-start' }}>\r\n          <IconButton\r\n            size=\"small\"\r\n            onClick={() => nextYm && handleCambiarMes(nextYm)}\r\n            aria-label=\"Mes siguiente\"\r\n            disabled={!nextYm}\r\n            sx={{\r\n              color: '#04564c',\r\n              '&.Mui-disabled': { color: '#04564c', opacity: 0.5 },\r\n            }}\r\n          >\r\n            <ChevronRightIcon fontSize=\"small\" />\r\n          </IconButton>\r\n        </Box>\r\n      </Box>\r\n      <Typography variant=\"subtitle1\" sx={{ color: 'text.primary' }} gutterBottom>Detalle de {presupuestoNombre}</Typography>\r\n\r\n      <Paper sx={{ p: 2, mb: 2 }}>\r\n        <Stack direction=\"row\" alignItems=\"center\" justifyContent=\"space-between\" flexWrap=\"wrap\" gap={2}>\r\n          <Stack direction=\"row\" spacing={2} alignItems=\"center\">\r\n            <Chip label={`Cumplimiento: ${(cumplimiento * 100).toFixed(0)}%`} color={cumplimiento >= 0.95 ? 'success' : cumplimiento >= 0.8 ? 'warning' : 'error'} />\r\n            <Chip\r\n              icon={vencidosEstimados > 0 ? <WarningAmberOutlinedIcon /> : undefined}\r\n              label={`${vencidosEstimados} movimientos estimados sin registrar`}\r\n              variant=\"filled\"\r\n              color={vencidosEstimados === 0 ? 'success' : undefined}\r\n              sx={vencidosEstimados === 0 ? undefined : SIN_PRONOSTICO_CHIP_SX}\r\n            />\r\n          </Stack>\r\n          <Stack direction=\"row\" spacing={1} alignItems=\"center\">\r\n            <ExportadorSimple onExportPdf={handleExportPdf} onExportExcel={handleExportExcel} />\r\n          </Stack>\r\n        </Stack>\r\n      </Paper>\r\n\r\n      <Box sx={{ display: 'flex', justifyContent: 'flex-start', alignItems: 'center', mb: 2, mt: 1, gap: 1, flexWrap: 'wrap' }}>\r\n        <Tabs value={tab} onChange={(e, v) => setTab(v)} indicatorColor=\"primary\">\r\n          <Tab\r\n            label=\"Resumen\"\r\n            sx={{\r\n              color: tabsLabelColor,\r\n              '&.Mui-selected': { color: tabsLabelColor },\r\n              '& .MuiTab-wrapper': { color: tabsLabelColor },\r\n            }}\r\n          />\r\n          <Tab\r\n            label=\"Datos brutos (editar)\"\r\n            sx={{\r\n              color: tabsLabelColor,\r\n              '&.Mui-selected': { color: tabsLabelColor },\r\n              '& .MuiTab-wrapper': { color: tabsLabelColor },\r\n            }}\r\n          />\r\n        </Tabs>\r\n      </Box>\r\n\r\n      {/* === Pestaa 0 === */}\r\n      {tab === 0 && (\r\n        <>\r\n          <Grid container spacing={3} mb={2}>\r\n            <Grid item xs={12} sm={6} md={4}>\r\n              <Paper sx={{ p: 3, textAlign: 'center', bgcolor: kpiColors.ingresos, color: 'white', height: '100%' }}>\r\n                <Avatar sx={{ width: 56, height: 56, bgcolor: 'white', color: 'success.main', mx: 'auto', mb: 1 }}>+</Avatar>\r\n                <Typography variant=\"h6\">Ingresos</Typography>\r\n                <Typography variant=\"body2\" sx={{ display: 'block', color: 'rgba(255,255,255,0.9)' }}>Real del mes</Typography>\r\n                <Typography variant=\"h4\" fontWeight=\"bold\">{formatCurrency(totalIngresos)}</Typography>\r\n                <Typography variant=\"body2\" sx={{ color: 'rgba(255,255,255,0.9)' }}>\r\n                  Estimado: {formatCurrency(totalIngresoEst)}\r\n                </Typography>\r\n              </Paper>\r\n            </Grid>\r\n            <Grid item xs={12} sm={6} md={4}>\r\n              <Paper sx={{ p: 3, textAlign: 'center', bgcolor: kpiColors.egresos, color: 'white', height: '100%' }}>\r\n                <Avatar sx={{ width: 56, height: 56, bgcolor: 'white', color: 'error.main', mx: 'auto', mb: 1 }}>-</Avatar>\r\n                <Typography variant=\"h6\">Egresos</Typography>\r\n                <Typography variant=\"body2\" sx={{ display: 'block', color: 'rgba(255,255,255,0.9)' }}>Real del mes</Typography>\r\n                <Typography variant=\"h4\" fontWeight=\"bold\">{formatCurrency(totalEgresos)}</Typography>\r\n                <Typography variant=\"body2\" sx={{ color: 'rgba(255,255,255,0.9)' }}>\r\n                  Estimado: {formatCurrency(totalEgresoEst)}\r\n                </Typography>\r\n              </Paper>\r\n            </Grid>\r\n            <Grid item xs={12} sm={6} md={4}>\r\n              <Paper sx={{ p: 3, textAlign: 'center', bgcolor: resultado >= 0 ? kpiColors.resultadoPos : kpiColors.resultadoNeg, color: 'white', height: '100%' }}>\r\n                <Avatar sx={{ width: 56, height: 56, bgcolor: 'white', color: resultado >= 0 ? 'info.main' : 'warning.main', mx: 'auto', mb: 1 }}>\r\n                  {resultado >= 0 ? '' : ''}\r\n                </Avatar>\r\n                <Typography variant=\"h6\">Resultado</Typography>\r\n                <Typography variant=\"h4\" fontWeight=\"bold\">{formatCurrency(resultado)}</Typography>\r\n                <Typography variant=\"body2\" sx={{ color: 'rgba(255,255,255,0.9)' }}>\r\n                  {resultado >= 0 ? 'Supervit' : 'Dficit'}\r\n                </Typography>\r\n              </Paper>\r\n            </Grid>\r\n          </Grid>\r\n\r\n          {/* Grficos */}\r\n          {pieDataIngresos.length > 0 ? (\r\n            <Paper sx={{ p: 3, mb: 2 }}>\r\n              <Typography variant=\"h6\" gutterBottom fontWeight=\"600\">Distribucin de Ingresos por Categora</Typography>\r\n              <ResponsiveContainer width=\"100%\" height={300}>\r\n                <PieChart>\r\n                  <Pie data={pieDataIngresos} dataKey=\"value\" nameKey=\"name\" cx=\"50%\" cy=\"50%\" outerRadius={100}\r\n                       label={({ name, percent }) => `${name} ${(percent * 100).toFixed(0)}%`}>\r\n                    {pieDataIngresos.map((_, i) => <Cell key={`ing-${i}`} fill={INGRESO_COLOR} opacity={0.7 + i * 0.1} />)}\r\n                  </Pie>\r\n                  <RTooltip formatter={(value) => formatCurrency(value)} />\r\n                  <Legend />\r\n                </PieChart>\r\n              </ResponsiveContainer>\r\n            </Paper>\r\n          ) : (\r\n            <Paper sx={{ p: 3, mb: 2, textAlign: 'center' }}>\r\n              <Typography color=\"text.secondary\">No hay ingresos registrados este mes.</Typography>\r\n            </Paper>\r\n          )}\r\n\r\n          {barDataIngresos.length > 0 && (\r\n            <Paper sx={{ p: 3, mb: 2 }}>\r\n              <Typography variant=\"h6\" gutterBottom fontWeight=\"600\">Ingresos: Estimado vs Real por Categora</Typography>\r\n              <Box sx={{ mt: 2 }}>\r\n                {barDataIngresos.map((item, index) => {\r\n                  const estimadoN = safeNumber(item.estimado);\r\n                  const realN = safeNumber(item.real);\r\n                  const max = Math.max(estimadoN, realN) * 1.2 || 1;\r\n                  const sinPronostico = estimadoN === 0 && realN > 0;\r\n                  return (\r\n                    <Box key={`${item.name}-${index}`} sx={{ mb: 3 }}>\r\n                      <Stack direction=\"row\" spacing={1} alignItems=\"center\" mb={1}>\r\n                        <Typography variant=\"subtitle1\" fontWeight=\"600\">{item.name}</Typography>\r\n                        {sinPronostico && (\r\n                          <Tooltip\r\n                            title=\"Este movimiento no tiene un monto estimado. Hac clic para pronosticar.\"\r\n                            disableHoverListener={!sinPronostico}\r\n                          >\r\n                            <Chip\r\n                              icon={<WarningAmberOutlinedIcon />}\r\n                              size=\"small\"\r\n                              label=\"Movimiento sin pronosticar\"\r\n                              sx={{ ...SIN_PRONOSTICO_CHIP_SX, cursor: 'pointer' }}\r\n                              onClick={goToDatosBrutos}\r\n                            />\r\n                          </Tooltip>\r\n                        )}\r\n                      </Stack>\r\n                      <Box sx={{ display: 'flex', flexDirection: 'column', gap: 1 }}>\r\n                        <Box sx={{ display: 'flex', alignItems: 'center', gap: 2 }}>\r\n                          <Typography variant=\"body2\" sx={{ minWidth: 80 }}>Estimado:</Typography>\r\n                          <Box sx={{ flex: 1, height: 30 }}>\r\n                            <ResponsiveContainer width=\"100%\" height={30}>\r\n                              <BarChart data={[{ name: item.name, valor: item.estimado }]} layout=\"vertical\">\r\n                                <XAxis type=\"number\" domain={[0, max]} hide />\r\n                                <YAxis type=\"category\" dataKey=\"name\" hide />\r\n                                <RTooltip formatter={(value) => [formatCurrency(value), '']} />\r\n                                <Bar dataKey=\"valor\" fill={INGRESO_EST_COLOR} radius={[4,4,4,4]}\r\n                                     label={{ position: 'right', formatter: (v) => formatCurrency(v) }} />\r\n                              </BarChart>\r\n                            </ResponsiveContainer>\r\n                          </Box>\r\n                        </Box>\r\n                        <Box sx={{ display: 'flex', alignItems: 'center', gap: 2 }}>\r\n                          <Typography variant=\"body2\" sx={{ minWidth: 80 }}>Real:</Typography>\r\n                          <Box sx={{ flex: 1, height: 30 }}>\r\n                            <ResponsiveContainer width=\"100%\" height={30}>\r\n                              <BarChart data={[{ name: item.name, valor: item.real }]} layout=\"vertical\">\r\n                                <XAxis type=\"number\" domain={[0, max]} hide />\r\n                                <YAxis type=\"category\" dataKey=\"name\" hide />\r\n                                <RTooltip formatter={(value) => [formatCurrency(value), '']} />\r\n                                <Bar dataKey=\"valor\" fill={INGRESO_COLOR} radius={[4,4,4,4]}\r\n                                     label={{ position: 'right', formatter: (v) => formatCurrency(v) }} />\r\n                              </BarChart>\r\n                            </ResponsiveContainer>\r\n                          </Box>\r\n                        </Box>\r\n                      </Box>\r\n                    </Box>\r\n                  );\r\n                })}\r\n              </Box>\r\n            </Paper>\r\n          )}\r\n\r\n          {pieDataEgresos.length > 0 ? (\r\n            <Paper sx={{ p: 3, mb: 2 }}>\r\n              <Typography variant=\"h6\" gutterBottom fontWeight=\"600\">Distribucin de Egresos por Categora</Typography>\r\n              <ResponsiveContainer width=\"100%\" height={300}>\r\n                <PieChart>\r\n                  <Pie data={pieDataEgresos} dataKey=\"value\" nameKey=\"name\" cx=\"50%\" cy=\"50%\" outerRadius={100}\r\n                       label={({ name, percent }) => `${name} ${(percent * 100).toFixed(0)}%`}>\r\n                    {pieDataEgresos.map((_, i) => <Cell key={`egr-${i}`} fill={EGRESO_COLOR} opacity={0.7 + i * 0.1} />)}\r\n                  </Pie>\r\n                  <RTooltip formatter={(value) => formatCurrency(value)} />\r\n                  <Legend />\r\n                </PieChart>\r\n              </ResponsiveContainer>\r\n            </Paper>\r\n          ) : (\r\n            <Paper sx={{ p: 3, mb: 2, textAlign: 'center' }}>\r\n              <Typography color=\"text.secondary\">No hay egresos registrados este mes.</Typography>\r\n            </Paper>\r\n          )}\r\n\r\n          {barDataEgresos.length > 0 && (\r\n            <Paper sx={{ p: 3 }}>\r\n              <Typography variant=\"h6\" gutterBottom fontWeight=\"600\">Egresos: Estimado vs Real por Categora</Typography>\r\n              <Box sx={{ mt: 2 }}>\r\n                {barDataEgresos.map((item, index) => {\r\n                  const estimadoN = safeNumber(item.estimado);\r\n                  const realN = safeNumber(item.real);\r\n                  const max = Math.max(estimadoN, realN) * 1.2 || 1;\r\n                  const sinPronostico = estimadoN === 0 && realN > 0;\r\n                  return (\r\n                    <Box key={`${item.name}-${index}`} sx={{ mb: 3 }}>\r\n                      <Stack direction=\"row\" spacing={1} alignItems=\"center\" mb={1}>\r\n                        <Typography variant=\"subtitle1\" fontWeight=\"600\">{item.name}</Typography>\r\n                        {sinPronostico && (\r\n                          <Tooltip\r\n                            title=\"Este movimiento no tiene un monto estimado. Hac clic para pronosticar.\"\r\n                            disableHoverListener={!sinPronostico}\r\n                          >\r\n                            <Chip\r\n                              icon={<WarningAmberOutlinedIcon />}\r\n                              size=\"small\"\r\n                              label=\"Movimiento sin pronosticar\"\r\n                              sx={{ ...SIN_PRONOSTICO_CHIP_SX, cursor: 'pointer' }}\r\n                              onClick={goToDatosBrutos}\r\n                            />\r\n                          </Tooltip>\r\n                        )}\r\n                      </Stack>\r\n                      <Box sx={{ display: 'flex', flexDirection: 'column', gap: 1 }}>\r\n                        <Box sx={{ display: 'flex', alignItems: 'center', gap: 2 }}>\r\n                          <Typography variant=\"body2\" sx={{ minWidth: 80 }}>Estimado:</Typography>\r\n                          <Box sx={{ flex: 1, height: 30 }}>\r\n                            <ResponsiveContainer width=\"100%\" height={30}>\r\n                              <BarChart data={[{ name: item.name, valor: item.estimado }]} layout=\"vertical\">\r\n                                <XAxis type=\"number\" domain={[0, max]} hide />\r\n                                <YAxis type=\"category\" dataKey=\"name\" hide />\r\n                                <RTooltip formatter={(value) => [formatCurrency(value), '']} />\r\n                                <Bar dataKey=\"valor\" fill={EGRESO_EST_COLOR} radius={[4,4,4,4]}\r\n                                     label={{ position: 'right', formatter: (v) => formatCurrency(v) }} />\r\n                              </BarChart>\r\n                            </ResponsiveContainer>\r\n                          </Box>\r\n                        </Box>\r\n                        <Box sx={{ display: 'flex', alignItems: 'center', gap: 2 }}>\r\n                          <Typography variant=\"body2\" sx={{ minWidth: 80 }}>Real:</Typography>\r\n                          <Box sx={{ flex: 1, height: 30 }}>\r\n                            <ResponsiveContainer width=\"100%\" height={30}>\r\n                              <BarChart data={[{ name: item.name, valor: item.real }]} layout=\"vertical\">\r\n                                <XAxis type=\"number\" domain={[0, max]} hide />\r\n                                <YAxis type=\"category\" dataKey=\"name\" hide />\r\n                                <RTooltip formatter={(value) => [formatCurrency(value), '']} />\r\n                                <Bar dataKey=\"valor\" fill={EGRESO_COLOR} radius={[4,4,4,4]}\r\n                                     label={{ position: 'right', formatter: (v) => formatCurrency(v) }} />\r\n                              </BarChart>\r\n                            </ResponsiveContainer>\r\n                          </Box>\r\n                        </Box>\r\n                      </Box>\r\n                    </Box>\r\n                  );\r\n                })}\r\n              </Box>\r\n            </Paper>\r\n          )}\r\n        </>\r\n      )}\r\n\r\n      {/* === Pestaa 1: Tabla editable === */}\r\n      {tab === 1 && (\r\n        <Paper sx={{ p: 2 }}>\r\n          {/* Agregar nueva lnea */}\r\n          {esAdmin && (\r\n          <Box sx={{ mb: 2 }}>\r\n            {!agregando ? (\r\n              <Button startIcon={<AddCircleOutlineIcon />} variant=\"contained\" onClick={() => setAgregando(true)}>\r\n                Agregar categora\r\n              </Button>\r\n            ) : (\r\n              <Grid container spacing={1} alignItems=\"center\">\r\n                <Grid item xs={12} md={4} sx={{ minWidth: 240 }}>\r\n                  <Autocomplete\r\n                    size=\"small\"\r\n                    fullWidth\r\n                    value={nueva.categoria || null}\r\n                    onChange={(_, newValue) => {\r\n                      setNueva((s) => ({ ...s, categoria: newValue || '' }));\r\n                    }}\r\n                    options={opcionesNuevaLinea}\r\n                    freeSolo={false}\r\n                    disableClearable\r\n                    forcePopupIcon\r\n                    popupIcon={<KeyboardArrowDownIcon />}\r\n                    componentsProps={{\r\n                      popupIndicator: {\r\n                        disableRipple: true,\r\n                        disableFocusRipple: true,\r\n                        sx: {\r\n                          p: 0,\r\n                          m: 0,\r\n                          bgcolor: 'transparent',\r\n                          border: 'none',\r\n                          boxShadow: 'none',\r\n                          '&:hover': { bgcolor: 'transparent' },\r\n                          '& .MuiTouchRipple-root': { display: 'none' },\r\n                          '& .MuiSvgIcon-root': { fontSize: 24 },\r\n                        },\r\n                      },\r\n                      clearIndicator: { sx: { display: 'none' } },\r\n                    }}\r\n                    sx={{\r\n                      '& .MuiAutocomplete-endAdornment': {\r\n                        right: 0,\r\n                        top: '50%',\r\n                        transform: 'translateY(-50%)',\r\n                      },\r\n                      '& .MuiAutocomplete-popupIndicator': { p: 0 },\r\n                      '& .MuiAutocomplete-popupIndicatorOpen .MuiSvgIcon-root': {\r\n                        transform: 'none',\r\n                      },\r\n                    }}\r\n                    renderInput={(params) => (\r\n                      <TextField\r\n                        {...params}\r\n                        label=\"Categora\"\r\n                        size=\"small\"\r\n                        fullWidth\r\n                        InputLabelProps={params.InputLabelProps}\r\n                      />\r\n                    )}\r\n                  />\r\n                </Grid>\r\n                <Grid item xs={12} md={2}>\r\n                  <FormControl fullWidth size=\"small\" sx={buildTipoSelectSx(nueva.tipo)}>\r\n                    <InputLabel>Tipo</InputLabel>\r\n                    <Select\r\n                      label=\"Tipo\"\r\n                      value={nueva.tipo}\r\n                      onChange={(e) => setNueva((s) => ({ ...s, tipo: e.target.value }))}\r\n                      size=\"small\"\r\n                    >\r\n                      <MenuItem value=\"Ingreso\">INGRESO</MenuItem>\r\n                      <MenuItem value=\"Egreso\">EGRESO</MenuItem>\r\n                    </Select>\r\n                  </FormControl>\r\n                </Grid>\r\n                <Grid item xs={12} md={3}>\r\n                  <TextField\r\n                    label=\"Estimado\"\r\n                    type=\"text\"\r\n                    fullWidth\r\n                    size=\"small\"\r\n                    InputLabelProps={{ sx: CENTERED_INPUT_LABEL_SX }}\r\n                    value={formatCurrencyInput(nueva.montoEstimado)}\r\n                    onChange={(e) => {\r\n                      const parsed = parseCurrency(e.target.value, { returnEmpty: true });\r\n                      setNueva((s) => ({ ...s, montoEstimado: parsed === '' ? '' : parsed }));\r\n                    }}\r\n                    inputProps={{ inputMode: 'numeric' }}\r\n                  />\r\n                </Grid>\r\n                <Grid item xs={12} md={3} display=\"flex\" gap={1} justifyContent=\"flex-end\">\r\n                  <Button variant=\"outlined\" onClick={() => { setAgregando(false); setNueva({ categoria: '', tipo: 'Egreso', montoEstimado: '' }); }}>\r\n                    Cancelar\r\n                  </Button>\r\n                  <Button variant=\"contained\" onClick={addLinea}>Guardar</Button>\r\n                </Grid>\r\n              </Grid>\r\n            )}\r\n          </Box>\r\n          )}\r\n\r\n          <Divider sx={{ my: 2 }} />\r\n\r\n          <Box sx={{ overflowX: 'auto' }}>\r\n            <table style={{ width: '100%', borderCollapse: 'collapse' }}>\r\n              <thead>\r\n                <tr style={{ fontWeight: 'bold', borderBottom: '1px solid var(--mui-palette-divider)' }}>\r\n                  <th style={{ padding: 12, borderRight: '1px solid var(--mui-palette-divider)' }}>Categora</th>\r\n                  <th style={{ padding: 12, borderRight: '1px solid var(--mui-palette-divider)' }}>Tipo</th>\r\n                  <th style={{ padding: 12, borderRight: '1px solid var(--mui-palette-divider)' }}>Estimado</th>\r\n                  <th style={{ padding: 12, borderRight: '1px solid var(--mui-palette-divider)' }}>Real</th>\r\n                  <th style={{ padding: 12, borderRight: '1px solid var(--mui-palette-divider)' }}>Desvo</th>\r\n                  {esAdmin && <th style={{ padding: 12 }}>Acciones</th>}\r\n                </tr>\r\n              </thead>\r\n              <tbody>\r\n                {lineasCompleto.length > 0 ? (\r\n                  lineasCompleto.map((item, idx) => {\r\n                    const e = edits[item.id] || { categoria: '', tipo: 'Egreso', montoEstimado: 0, real: '' };\r\n                    const estimadoOriginal = safeNumber(item.montoEstimado);\r\n                    const estimadoRaw = e.montoEstimado;\r\n                    const estimadoN = estimadoRaw === '' ? 0 : safeNumber(estimadoRaw);\r\n                    const realN = e.real === '' ? 0 : safeNumber(e.real);\r\n                    const manualEnabled = isFieldUnlocked(item.id, 'categoria');\r\n                    const esSoloReal = Boolean(item._soloReal);\r\n                    const cambioPendienteEstimado = manualEnabled && (estimadoRaw === '' || estimadoN !== estimadoOriginal);\r\n                    const sinPronostico = esSoloReal && realN > 0 && !cambioPendienteEstimado;\r\n                    const desvio = e.tipo === 'Egreso' ? (estimadoN - realN) : (realN - estimadoN);\r\n                    const realMovementIds = Array.isArray(item.movimientoIds) ? item.movimientoIds : [];\r\n                    const baseIdx = lineas.findIndex((l) => l.id === item.id);\r\n\r\n                    const updateField = (field, value) =>\r\n                      setEdits((prev) => ({ ...prev, [item.id]: { ...prev[item.id], [field]: value } }));\r\n\r\n                    const handleGuardar = () => {\r\n                      const payload = {\r\n                        id: item.id,\r\n                        categoria: e.categoria,\r\n                        tipo: e.tipo,\r\n                        montoEstimado: safeNumber(e.montoEstimado),\r\n                        real: e.real === '' ? null : safeNumber(e.real),\r\n                      };\r\n                      if (esSoloReal) {\r\n                        crearLineaDesdeReal(payload);\r\n                      } else {\r\n                        patchLinea(payload);\r\n                      }\r\n                    };\r\n\r\n                    return (\r\n                      <tr key={item.id} style={{ borderBottom: '1px solid var(--mui-palette-divider)' }}>\r\n                        <td style={{ padding: 12, borderRight: '1px solid var(--mui-palette-divider)', minWidth: 215 }}>\r\n                          <Box display=\"flex\" alignItems=\"center\" gap={1}>\r\n                            {esAdmin && manualEnabled ? (\r\n                              (() => {\r\n                                // Oculta las categoras ya asignadas a otras lneas del mismo mes.\r\n                                const categoriaActual = e.categoria || '';\r\n                                const categoriaActualNorm = normCat(categoriaActual);\r\n                                const categoriasOcupadas = new Set(\r\n                                  lineasCompleto\r\n                                    .filter((otra) => otra.id !== item.id)\r\n                                    .map((otra) => (edits[otra.id]?.categoria ?? otra.categoria ?? ''))\r\n                                    .map((valor) => normCat(valor))\r\n                                    .filter(Boolean)\r\n                                );\r\n\r\n                                let opcionesDisponibles = categoriasOptions.filter((option) => {\r\n                                  if (typeof option !== 'string') return false;\r\n                                  const normalizada = normCat(option);\r\n                                  if (!normalizada) return false;\r\n                                  if (normalizada === categoriaActualNorm) return true;\r\n                                  return !categoriasOcupadas.has(normalizada);\r\n                                });\r\n\r\n                                if (categoriaActual && !opcionesDisponibles.some((opt) => normCat(opt) === categoriaActualNorm)) {\r\n                                  opcionesDisponibles = [categoriaActual, ...opcionesDisponibles];\r\n                                }\r\n\r\n                                return (\r\n                                  <Autocomplete\r\n                                    size=\"small\"\r\n                                    fullWidth\r\n                                    value={e.categoria || null}\r\n                                    onChange={(_, newValue) => {\r\n                                      updateField('categoria', newValue || '');\r\n                                    }}\r\n                                    options={opcionesDisponibles}\r\n                                    freeSolo={false}\r\n                                    disableClearable\r\n                                    forcePopupIcon\r\n                                    popupIcon={<KeyboardArrowDownIcon />}\r\n                                    componentsProps={{\r\n                                      popupIndicator: {\r\n                                        disableRipple: true,\r\n                                        disableFocusRipple: true,\r\n                                        sx: {\r\n                                          p: 0,\r\n                                          m: 0,\r\n                                          bgcolor: 'transparent',\r\n                                          border: 'none',\r\n                                          boxShadow: 'none',\r\n                                          '&:hover': { bgcolor: 'transparent' },\r\n                                          '& .MuiTouchRipple-root': { display: 'none' },\r\n                                          '& .MuiSvgIcon-root': { fontSize: 24 },\r\n                                        },\r\n                                      },\r\n                                      clearIndicator: { sx: { display: 'none' } },\r\n                                    }}\r\n                                    sx={{\r\n                                      '& .MuiAutocomplete-endAdornment': {\r\n                                        right: 0,\r\n                                        top: '50%',\r\n                                        transform: 'translateY(-50%)',\r\n                                      },\r\n                                      '& .MuiAutocomplete-popupIndicator': { p: 0 },\r\n                                      '& .MuiAutocomplete-popupIndicatorOpen .MuiSvgIcon-root': {\r\n                                        transform: 'none',\r\n                                      },\r\n                                    }}\r\n                                    renderInput={(params) => (\r\n                                      <TextField\r\n                                        {...params}\r\n                                        size=\"small\"\r\n                                        fullWidth\r\n                                      />\r\n                                    )}\r\n                                  />\r\n                                );\r\n                              })()\r\n                            ) : (\r\n                              <TextField\r\n                                size=\"small\"\r\n                                fullWidth\r\n                                value={e.categoria}\r\n                                InputProps={{ readOnly: true }}\r\n                              />\r\n                            )}\r\n                          </Box>\r\n                        </td>\r\n                        <td style={{ padding: 12, borderRight: '1px solid var(--mui-palette-divider)', minWidth: 100 }}>\r\n                          <FormControl size=\"small\" fullWidth disabled={!manualEnabled || !esAdmin} sx={buildTipoSelectSx(e.tipo)}>\r\n                            <Select\r\n                              value={e.tipo}\r\n                              onChange={(ev) => {\r\n                                if (!manualEnabled || !esAdmin) return;\r\n                                updateField('tipo', ev.target.value);\r\n                              }}\r\n                              size=\"small\"\r\n                              disabled={!manualEnabled || !esAdmin}\r\n                            >\r\n                              <MenuItem value=\"Ingreso\">INGRESO</MenuItem>\r\n                              <MenuItem value=\"Egreso\">EGRESO</MenuItem>\r\n                            </Select>\r\n                          </FormControl>\r\n                        </td>\r\n                        <td style={{ padding: 12, borderRight: '1px solid var(--mui-palette-divider)', minWidth: 180 }}>\r\n                          <Box display=\"flex\" alignItems=\"center\" gap={1}>\r\n                            <TextField\r\n                              size=\"small\"\r\n                              type=\"text\"\r\n                              fullWidth\r\n                              value={formatCurrencyInput(e.montoEstimado)}\r\n                              onChange={(ev) => {\r\n                                if (!manualEnabled) return;\r\n                                updateField('montoEstimado', parseCurrency(ev.target.value));\r\n                              }}\r\n                              InputProps={{ readOnly: !manualEnabled || !esAdmin }}\r\n                              inputProps={{ inputMode: 'numeric' }}\r\n                            />\r\n                            {esAdmin && (\r\n                              manualEnabled ? (\r\n                                <Tooltip title=\"Deshabilitar edicin manual\">\r\n                                  <IconButton size=\"small\" onClick={() => toggleManualGuard(item.id, 'categoria', false)}>\r\n                                    <EditOffOutlinedIcon fontSize=\"small\" color=\"warning\" />\r\n                                  </IconButton>\r\n                                </Tooltip>\r\n                              ) : (\r\n                                <Tooltip title=\"Editar (categora, tipo y estimado)\">\r\n                                  <IconButton size=\"small\" onClick={() => requestManualUnlock(item.id, 'categoria')}>\r\n                                    <EditOutlinedIcon fontSize=\"small\" />\r\n                                  </IconButton>\r\n                                </Tooltip>\r\n                              )\r\n                            )}\r\n                          </Box>\r\n                        </td>\r\n                        <td style={{ padding: 12, borderRight: '1px solid var(--mui-palette-divider)', minWidth: 180 }}>\r\n                          <Box display=\"flex\" alignItems=\"center\" gap={1}>\r\n                            <TextField\r\n                              size=\"small\"\r\n                              type=\"text\"\r\n                              fullWidth\r\n                              value={formatCurrencyInput(e.real)}\r\n                              InputProps={{ readOnly: true }}\r\n                              inputProps={{ inputMode: 'numeric' }}\r\n                            />\r\n                            <Tooltip title={realMovementIds.length ? 'Editar monto real' : 'No hay movimientos para editar'}>\r\n                              <IconButton size=\"small\" onClick={() => requestManualUnlock(item.id, 'real')}>\r\n                                <LockOutlinedIcon fontSize=\"small\" />\r\n                              </IconButton>\r\n                            </Tooltip>\r\n                          </Box>\r\n                        </td>\r\n                        <td style={{ padding: 12, borderRight: '1px solid var(--mui-palette-divider)', color: desvio >= 0 ? '#66bb6a' : '#ef5350' , minWidth: 100 }}>\r\n                          {desvio >= 0 ? '+' : '-'}{formatCurrency(Math.abs(desvio))}\r\n                        </td>\r\n                        {esAdmin && (\r\n                        <td style={{ padding: 12, whiteSpace: 'nowrap', textAlign: 'center' }}>\r\n                          <Box sx={{ display: 'flex', justifyContent: 'center', alignItems: 'center', gap: 1.5 }}>\r\n                            <Tooltip title={esSoloReal ? 'Crear linea de presupuesto con este movimiento' : 'Guardar cambios'}>\r\n                              <span>\r\n                                <IconButton size=\"small\" onClick={handleGuardar}>\r\n                                  <SaveOutlinedIcon />\r\n                                </IconButton>\r\n                              </span>\r\n                            </Tooltip>\r\n                            {sinPronostico && (\r\n                              <Tooltip title=\"Movimiento sin pronosticar: no tiene monto estimado.\">\r\n                                <Chip\r\n                                  size=\"small\"\r\n                                  icon={<WarningAmberOutlinedIcon fontSize=\"small\" />}\r\n                                  label=\"Sin pronosticar\"\r\n                                  variant=\"filled\"\r\n                                  sx={SIN_PRONOSTICO_CHIP_SX}\r\n                                />\r\n                              </Tooltip>\r\n                            )}\r\n                            {!esSoloReal && (\r\n                              <>\r\n                                <Tooltip title=\"Eliminar esta linea\">\r\n                                  <span>\r\n                                    <IconButton size=\"small\" onClick={() => openDeletePrompt(item)}>\r\n                                      <DeleteOutlineIcon />\r\n                                    </IconButton>\r\n                                  </span>\r\n                                </Tooltip>\r\n                                <Tooltip title=\"Aplicar esta linea a varios meses\">\r\n                                  <span>\r\n                                    <IconButton\r\n                                      size=\"small\"\r\n                                      onClick={() => {\r\n                                        if (baseIdx >= 0) abrirDlgVariosConFila(baseIdx);\r\n                                      }}\r\n                                    >\r\n                                      <ContentCopyIcon />\r\n                                    </IconButton>\r\n                                  </span>\r\n                                </Tooltip>\r\n                              </>\r\n                            )}\r\n                          </Box>\r\n                        </td>\r\n                        )}\r\n                      </tr>\r\n                    );\r\n                  })\r\n                ) : (\r\n                  <tr>\r\n                    <td colSpan={esAdmin ? 6 : 5} style={{ textAlign: 'center', padding: 20, color: 'var(--mui-palette-text-secondary)' }}>\r\n                      No hay datos disponibles.\r\n                    </td>\r\n                  </tr>\r\n                )}\r\n              </tbody>\r\n            </table>\r\n          </Box>\r\n        </Paper>\r\n      )}\r\n\r\n      {/* Volver */}\r\n      <Box mt={4} display=\"flex\" justifyContent=\"space-between\" alignItems=\"center\" flexWrap=\"wrap\" gap={1}>\r\n        <Button variant=\"outlined\" onClick={() => navigate(-1)}>Volver</Button>\r\n      </Box>\r\n\r\n      {/* Confirmar edicin manual */}\r\n      <Dialog open={guardPrompt.open} onClose={handleGuardCancel} maxWidth=\"sm\" fullWidth>\r\n        <DialogTitle>{guardPrompt.title || 'Confirmar edicin manual'}</DialogTitle>\r\n        <DialogContent dividers>\r\n          <Typography variant=\"body2\" color=\"text.secondary\">\r\n            {guardPrompt.message || 'Esta accin habilita la edicin manual.'}\r\n          </Typography>\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button onClick={handleGuardCancel}>Cancelar</Button>\r\n          <Button variant=\"contained\" color=\"warning\" onClick={handleGuardConfirm}>\r\n            {guardPrompt.confirmLabel || 'Confirmar'}\r\n          </Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n\r\n      <Dialog open={deletePrompt.open} onClose={closeDeletePrompt} maxWidth=\"xs\" fullWidth>\r\n        <DialogTitle>Eliminar movimiento</DialogTitle>\r\n        <DialogContent dividers>\r\n          <Typography variant=\"body2\" color=\"text.secondary\">\r\n            Se eliminar la categora <strong>{deletePrompt.categoria || 'sin nombre'}</strong> ({deletePrompt.tipo ? deletePrompt.tipo.toLowerCase() : 'movimiento'}) de este mes.\r\n          </Typography>\r\n          <Typography variant=\"body2\" color=\"text.secondary\" sx={{ mt: 1 }}>\r\n            Esta accin no se puede deshacer.\r\n          </Typography>\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button onClick={closeDeletePrompt}>Cancelar</Button>\r\n          <Button variant=\"contained\" color=\"error\" onClick={confirmDeletePrompt}>Eliminar</Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n\r\n      {/* Dilogo Reglas rpidas (visual) */}\r\n      <Dialog open={dlgReglas} onClose={() => setDlgReglas(false)} fullWidth maxWidth=\"sm\">\r\n        <DialogTitle>Reglas rpidas (simulacin)</DialogTitle>\r\n        <DialogContent dividers>\r\n          <Stack spacing={2} sx={{ mt: 1 }}>\r\n            <TextField select label=\"mbito\" value={regla.ambito} onChange={(e) => setRegla((r) => ({ ...r, ambito: e.target.value }))}>\r\n              <MenuItem value=\"este_mes\">Este mes</MenuItem>\r\n              <MenuItem value=\"hasta_fin\">Desde este mes hasta fin de ao</MenuItem>\r\n              <MenuItem value=\"rango\">Rango personalizado</MenuItem>\r\n            </TextField>\r\n            {regla.ambito === 'rango' && (\r\n              <Stack direction=\"row\" spacing={2}>\r\n                <TextField label=\"Desde (YYYY-MM)\" value={regla.rangoDesde} onChange={(e) => setRegla((r) => ({ ...r, rangoDesde: e.target.value }))} />\r\n                <TextField label=\"Hasta (YYYY-MM)\" value={regla.rangoHasta} onChange={(e) => setRegla((r) => ({ ...r, rangoHasta: e.target.value }))} />\r\n              </Stack>\r\n            )}\r\n            <TextField select label=\"Modo\" value={regla.modo} onChange={(e) => setRegla((r) => ({ ...r, modo: e.target.value }))}>\r\n              <MenuItem value=\"FIJO\">Monto fijo</MenuItem>\r\n              <MenuItem value=\"AJUSTE_PCT\">% Ajuste mensual</MenuItem>\r\n              <MenuItem value=\"UNICO\">nico (1 mes)</MenuItem>\r\n              <MenuItem value=\"CUOTAS\">En cuotas</MenuItem>\r\n            </TextField>\r\n            <TextField\r\n              label={regla.modo === 'AJUSTE_PCT' ? '% valor' : 'Monto'}\r\n              type={regla.modo === 'AJUSTE_PCT' ? 'number' : 'text'}\r\n              value={regla.modo === 'AJUSTE_PCT' ? regla.valor : formatCurrencyInput(regla.valor)}\r\n              onChange={(e) => {\r\n                if (regla.modo === 'AJUSTE_PCT') {\r\n                  setRegla((r) => ({ ...r, valor: Number(e.target.value) }));\r\n                } else {\r\n                  const parsed = parseCurrency(e.target.value, { returnEmpty: true });\r\n                  setRegla((r) => ({ ...r, valor: parsed === '' ? '' : parsed }));\r\n                }\r\n              }}\r\n              inputProps={regla.modo === 'AJUSTE_PCT' ? { step: 0.1, inputMode: 'decimal' } : { inputMode: 'numeric' }}\r\n            />\r\n            <TextField select label=\"Aplicar a\" value={regla.solo} onChange={(e) => setRegla((r) => ({ ...r, solo: e.target.value }))}>\r\n              <MenuItem value=\"todos\">Ingresos y egresos</MenuItem>\r\n              <MenuItem value=\"Ingresos\">Solo ingresos</MenuItem>\r\n              <MenuItem value=\"Egresos\">Solo egresos</MenuItem>\r\n            </TextField>\r\n            <Paper variant=\"outlined\" sx={{ p: 2 }}>\r\n              <Typography variant=\"subtitle2\" gutterBottom>Previsualizacin (conceptual)</Typography>\r\n              <Typography variant=\"body2\" color=\"text.secondary\">\r\n                Aqu mostraras una mini-grilla con las celdas impactadas antes de confirmar.\r\n              </Typography>\r\n            </Paper>\r\n            <FormControlLabel control={<Switch checked={simulacion} onChange={(_, v) => setSimulacion(v)} />} label=\"Simular cambios (no impacta datos reales)\" />\r\n          </Stack>\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button onClick={() => setDlgReglas(false)}>Cerrar</Button>\r\n          <Button variant=\"contained\" disabled={!simulacion} onClick={() => { setDlgReglas(false); window.alert('Simulacin: regla aplicada (visual).'); }}>\r\n            Aplicar (visual)\r\n          </Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n\r\n      {/* Dilogo varios meses */}\r\n      <Dialog open={dlgVarios} onClose={() => setDlgVarios(false)} fullWidth maxWidth=\"sm\">\r\n        <DialogTitle>Aplicar a varios meses</DialogTitle>\r\n        <DialogContent dividers>\r\n          <Stack spacing={2}>\r\n            <TextField select label=\"Accin\" value={bulkCfg.accion} onChange={(e) => setBulkCfg((s) => ({ ...s, accion: e.target.value }))}>\r\n              <MenuItem value=\"replicar\">Replicar esta lnea en un rango</MenuItem>\r\n              <MenuItem value=\"eliminar\">Eliminar esta categora (mismo tipo) en un rango</MenuItem>\r\n            </TextField>\r\n            <Stack direction=\"row\" spacing={2}>\r\n              <TextField label=\"Desde (YYYY-MM)\" value={bulkCfg.desde} onChange={(e) => setBulkCfg((s) => ({ ...s, desde: e.target.value }))} placeholder=\"2025-07\" />\r\n              <TextField label=\"Hasta (YYYY-MM)\" value={bulkCfg.hasta} onChange={(e) => setBulkCfg((s) => ({ ...s, hasta: e.target.value }))} placeholder=\"2025-12\" />\r\n            </Stack>\r\n            <Typography variant=\"body2\" color=\"text.secondary\">\r\n               Replicar: crea una lnea por cada mes con los mismos valores (no deduplica).<br />\r\n               Eliminar: busca por <b>categora + tipo</b> en cada mes y borra coincidencias.\r\n            </Typography>\r\n          </Stack>\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button onClick={() => setDlgVarios(false)}>Cancelar</Button>\r\n          <Button variant=\"contained\" onClick={ejecutarBulk}>Confirmar</Button>\r\n        </DialogActions>\r\n      </Dialog>      {/* Snackbar */}\r\n      <Snackbar\r\n        open={snack.open}\r\n        autoHideDuration={3000}\r\n        onClose={() => setSnack((s) => ({ ...s, open: false }))}\r\n        anchorOrigin={{ vertical: 'bottom', horizontal: 'center' }}\r\n      >\r\n        <Alert onClose={() => setSnack((s) => ({ ...s, open: false }))} severity={snack.severity} sx={{ width: '100%' }}>\r\n          {snack.message}\r\n        </Alert>\r\n      </Snackbar>\r\n    </Box>\r\n  );\r\n}\r\n","\"use client\";\n\nimport createSvgIcon from \"./utils/createSvgIcon.js\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon(/*#__PURE__*/_jsx(\"path\", {\n  d: \"M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2m0 16H8V7h11z\"\n}), 'ContentCopy');","export const numberFormatter = new Intl.NumberFormat('es-AR', {\r\n  minimumFractionDigits: 0,\r\n  maximumFractionDigits: 2,\r\n});\r\n\r\nexport const formatCurrency = (value, { allowEmpty = false } = {}) => {\r\n  if (value === '' || value === null || typeof value === 'undefined') {\r\n    return allowEmpty ? '' : '$ 0';\r\n  }\r\n  const num = Number(value);\r\n  if (Number.isNaN(num)) {\r\n    return allowEmpty ? '' : '$ 0';\r\n  }\r\n  const sign = num < 0 ? '-' : '';\r\n  return `${sign}$ ${numberFormatter.format(Math.abs(num))}`;\r\n};\r\n\r\nexport const formatCurrencyInput = (value) => formatCurrency(value, { allowEmpty: true });\r\n\r\nexport const parseCurrency = (raw, { returnEmpty = false } = {}) => {\r\n  if (raw == null) return returnEmpty ? '' : 0;\r\n  const str = raw.toString().trim();\r\n  if (!str) return returnEmpty ? '' : 0;\r\n  const cleaned = str.replace(/\\s+/g, '').replace(/\\$/g, '');\r\n  const negative = cleaned.startsWith('-');\r\n  const numeric = cleaned.replace(/[^0-9,.-]/g, '');\r\n  if (!numeric || numeric === '-') return returnEmpty ? '' : 0;\r\n  const normalized = numeric\r\n    .replace(/-/g, '')\r\n    .replace(/\\./g, '')\r\n    .replace(',', '.');\r\n  const num = Number(normalized);\r\n  if (Number.isNaN(num)) return returnEmpty ? '' : 0;\r\n  return negative ? -num : num;\r\n};\r\n","import * as React from 'react';\r\nimport { Box, IconButton, Tooltip } from '@mui/material';\r\nimport PictureAsPdfIcon from '@mui/icons-material/PictureAsPdf';\r\nimport GridOnIcon from '@mui/icons-material/GridOn'; // <-- Nuevo icono para Excel\r\n\r\nconst EXPORT_PDF_BG = '#FDE4E3';\r\nconst EXPORT_PDF_BG_HOVER = '#FACDCA';\r\nconst EXPORT_EXCEL_BG = '#E5F4E5';\r\nconst EXPORT_EXCEL_BG_HOVER = '#CAE7CB';\r\n\r\nexport default function ExportadorSimple({\r\n                                             onExportPdf,\r\n                                             onExportExcel,\r\n                                             sx = {},\r\n                                         }) {\r\n    return (\r\n        <Box\r\n            sx={{\r\n                display: 'flex',\r\n                gap: 1,\r\n                // NO posicin fija por defecto para mayor flexibilidad\r\n                ...sx,\r\n            }}\r\n        >\r\n            <Tooltip title=\"Exportar PDF\">\r\n                <IconButton\r\n                    onClick={onExportPdf}\r\n                    size=\"small\"\r\n                    color=\"error\"\r\n                    sx={(theme) => {\r\n                        const hoverStyles = {\r\n                            bgcolor: `${EXPORT_PDF_BG_HOVER} !important`,\r\n                            backgroundColor: `${EXPORT_PDF_BG_HOVER} !important`,\r\n                            borderColor: '#d32f2f',\r\n                            '& .MuiSvgIcon-root': {\r\n                                color: '#000 !important',\r\n                            },\r\n                        };\r\n                        return {\r\n                            border: '1px solid',\r\n                            borderColor: '#d32f2f',\r\n                            bgcolor: `${EXPORT_PDF_BG} !important`,\r\n                            backgroundColor: `${EXPORT_PDF_BG} !important`,\r\n                            '& .MuiSvgIcon-root': {\r\n                                color: '#000 !important',\r\n                            },\r\n                            '&:hover': hoverStyles,\r\n                            width: 36,\r\n                            height: 36,\r\n                            ...theme.applyStyles('dark', {\r\n                                borderColor: '#d32f2f',\r\n                                '&:hover': hoverStyles,\r\n                            }),\r\n                        };\r\n                    }}\r\n                    aria-label=\"Exportar PDF\"\r\n                >\r\n                    <PictureAsPdfIcon fontSize=\"small\" />\r\n                </IconButton>\r\n            </Tooltip>\r\n\r\n            <Tooltip title=\"Exportar Excel\">\r\n                <IconButton\r\n                    onClick={onExportExcel}\r\n                    size=\"small\"\r\n                    color=\"success\"\r\n                    sx={(theme) => {\r\n                        const hoverStyles = {\r\n                            bgcolor: `${EXPORT_EXCEL_BG_HOVER} !important`,\r\n                            backgroundColor: `${EXPORT_EXCEL_BG_HOVER} !important`,\r\n                            borderColor: '#2e7d32',\r\n                            '& .MuiSvgIcon-root': {\r\n                                color: '#000 !important',\r\n                            },\r\n                        };\r\n                        return {\r\n                            border: '1px solid',\r\n                            borderColor: '#2e7d32',\r\n                            bgcolor: `${EXPORT_EXCEL_BG} !important`,\r\n                            backgroundColor: `${EXPORT_EXCEL_BG} !important`,\r\n                            '& .MuiSvgIcon-root': {\r\n                                color: '#000 !important',\r\n                            },\r\n                            '&:hover': hoverStyles,\r\n                            width: 36,\r\n                            height: 36,\r\n                            ...theme.applyStyles('dark', {\r\n                                borderColor: '#2e7d32',\r\n                                '&:hover': hoverStyles,\r\n                            }),\r\n                        };\r\n                    }}\r\n                    aria-label=\"Exportar Excel\"\r\n                >\r\n                    <GridOnIcon fontSize=\"small\" /> {/* Icono de tabla tipo Excel */}\r\n                </IconButton>\r\n            </Tooltip>\r\n        </Box>\r\n    );\r\n}\r\n","import axios from \"axios\";\r\nimport {\r\n  CognitoUserPool,\r\n  CognitoUser,\r\n  CognitoRefreshToken,\r\n} from \"amazon-cognito-identity-js\";\r\nimport { sessionService } from \"../shared-services/sessionService\";\r\nimport URL_CONFIG from \"../config/api-config\";\r\n\r\nconst http = axios.create();\r\nconst PRONOSTICO_BASE_URL = URL_CONFIG.PRONOSTICO;\r\nconst cognitoPoolConfig = {\r\n  UserPoolId: process.env.REACT_APP_COGNITO_USER_POOL_ID,\r\n  ClientId: process.env.REACT_APP_COGNITO_CLIENT_ID,\r\n};\r\n\r\nlet refreshPromise = null;\r\nlet hasForcedLogout = false;\r\n\r\nconst isPronosticoRequest = (url) =>\r\n  Boolean(\r\n    url &&\r\n      PRONOSTICO_BASE_URL &&\r\n      String(url).startsWith(String(PRONOSTICO_BASE_URL)),\r\n  );\r\n\r\nconst safeSessionGet = (key) => {\r\n  try {\r\n    return sessionStorage.getItem(key);\r\n  } catch (err) {\r\n    console.warn(\"No se pudo leer sessionStorage:\", err);\r\n    return null;\r\n  }\r\n};\r\n\r\nconst safeSessionSet = (key, value) => {\r\n  try {\r\n    if (value !== undefined && value !== null) {\r\n      sessionStorage.setItem(key, value);\r\n    }\r\n  } catch (err) {\r\n    console.warn(\"No se pudo escribir en sessionStorage:\", err);\r\n  }\r\n};\r\n\r\nconst clearSessionAndRedirect = () => {\r\n  if (hasForcedLogout) {\r\n    return;\r\n  }\r\n  hasForcedLogout = true;\r\n  try {\r\n    sessionStorage.clear();\r\n  } catch {\r\n    /* noop */\r\n  }\r\n  if (sessionService?.limpiarSesion) {\r\n    sessionService.limpiarSesion();\r\n  }\r\n  if (typeof window !== \"undefined\") {\r\n    window.location.href = \"/#/signin\";\r\n  }\r\n};\r\n\r\nconst buildCognitoUser = () => {\r\n  const username = safeSessionGet(\"email\") || safeSessionGet(\"username\");\r\n  if (\r\n    !username ||\r\n    !cognitoPoolConfig.UserPoolId ||\r\n    !cognitoPoolConfig.ClientId\r\n  ) {\r\n    return null;\r\n  }\r\n  const pool = new CognitoUserPool(cognitoPoolConfig);\r\n  return new CognitoUser({\r\n    Username: username,\r\n    Pool: pool,\r\n  });\r\n};\r\n\r\nconst refreshTokens = () => {\r\n  const refreshTokenValue = safeSessionGet(\"refreshToken\");\r\n  const cognitoUser = buildCognitoUser();\r\n  if (!refreshTokenValue || !cognitoUser) {\r\n    return Promise.reject(new Error(\"No hay datos para renovar la sesin.\"));\r\n  }\r\n  const refreshToken = new CognitoRefreshToken({\r\n    RefreshToken: refreshTokenValue,\r\n  });\r\n  return new Promise((resolve, reject) => {\r\n    cognitoUser.refreshSession(refreshToken, (err, session) => {\r\n      if (err) {\r\n        reject(err);\r\n        return;\r\n      }\r\n      const nextAccessToken = session.getAccessToken().getJwtToken();\r\n      const nextIdToken = session.getIdToken().getJwtToken();\r\n      const nextRefreshToken = session.getRefreshToken().getToken();\r\n      safeSessionSet(\"accessToken\", nextAccessToken);\r\n      safeSessionSet(\"idToken\", nextIdToken);\r\n      if (nextRefreshToken) {\r\n        safeSessionSet(\"refreshToken\", nextRefreshToken);\r\n      }\r\n      resolve(nextAccessToken);\r\n    });\r\n  });\r\n};\r\n\r\nconst getRefreshPromise = () => {\r\n  if (!refreshPromise) {\r\n    refreshPromise = refreshTokens()\r\n      .then((token) => {\r\n        refreshPromise = null;\r\n        return token;\r\n      })\r\n      .catch((error) => {\r\n        refreshPromise = null;\r\n        throw error;\r\n      });\r\n  }\r\n  return refreshPromise;\r\n};\r\n\r\nhttp.interceptors.request.use((config) => {\r\n  const accessToken = sessionStorage.getItem(\"accessToken\");\r\n  if (isPronosticoRequest(config.url)) {\r\n    config.headers = config.headers ?? {};\r\n    if (accessToken) {\r\n      config.headers.Authorization = `Bearer ${accessToken}`;\r\n    }\r\n    const usuarioSub = sessionStorage.getItem(\"sub\");\r\n    if (usuarioSub) {\r\n      config.headers[\"X-Usuario-Sub\"] = usuarioSub;\r\n    }\r\n  }\r\n  return config;\r\n});\r\n\r\nhttp.interceptors.response.use(\r\n  (response) => response,\r\n  async (error) => {\r\n    const { config, response } = error;\r\n    if (\r\n      !config ||\r\n      !response ||\r\n      response.status !== 401 ||\r\n      !isPronosticoRequest(config.url)\r\n    ) {\r\n      return Promise.reject(error);\r\n    }\r\n\r\n    if (config.__isRetryRequest) {\r\n      clearSessionAndRedirect();\r\n      return Promise.reject(error);\r\n    }\r\n\r\n    try {\r\n      const newAccessToken = await getRefreshPromise();\r\n      if (!newAccessToken) {\r\n        throw new Error(\"No se obtuvo un token renovado.\");\r\n      }\r\n      config.__isRetryRequest = true;\r\n      config.headers = config.headers ?? {};\r\n      config.headers.Authorization = `Bearer ${newAccessToken}`;\r\n      return http(config);\r\n    } catch (refreshError) {\r\n      clearSessionAndRedirect();\r\n      return Promise.reject(refreshError);\r\n    }\r\n  },\r\n);\r\n\r\nexport default http;\r\n","import axios from 'axios';\r\nimport API_CONFIG from '../config/api-config';\r\n\r\nconst URL_REGISTRO = API_CONFIG.REGISTRO; \r\n\r\nfunction getUsuarioHeaders() {\r\n  const headers = {};\r\n  const sub = sessionStorage.getItem('sub');\r\n  const token = sessionStorage.getItem('accessToken');\r\n  if (sub) headers['X-Usuario-Sub'] = sub; // tenant\r\n  if (token) headers['Authorization'] = `Bearer ${token}`;\r\n  return headers;\r\n}\r\n\r\n/**\r\n * Llama a /movimientos en REGISTRO usando fecha_emision (fechaDesde/fechaHasta).\r\n * - tipos: string ('EGRESO' | 'INGRESO') o array => CSV.\r\n * - No enviar sortBy/sortDir (evita 400 por validacin).\r\n * - Devuelve `data` (puede venir paginado en `data.content` o como array).\r\n */\r\nexport async function getMovimientosPorRango({ fechaDesde, fechaHasta, tipos }) {\r\n  const params = new URLSearchParams();\r\n  params.set('page', 0);\r\n  params.set('size', 500);\r\n  if (fechaDesde) params.set('fechaDesde', fechaDesde); // YYYY-MM-DD\r\n  if (fechaHasta) params.set('fechaHasta', fechaHasta);\r\n\r\n  // CSV: evita &tipos=INGRESO&tipos=EGRESO  400\r\n  if (Array.isArray(tipos) && tipos.length > 0) {\r\n    params.set('tipos', tipos.join(','));\r\n  } else if (typeof tipos === 'string' && tipos) {\r\n    params.set('tipos', tipos);\r\n  }\r\n\r\n  const url = `${URL_REGISTRO}/movimientos?${params.toString()}`;\r\n  const { data } = await axios.get(url, { headers: getUsuarioHeaders() });\r\n  return data;\r\n}\r\n\r\n/**\r\n * Obtiene movimientos agrupados mensualmente para presupuestos (OPTIMIZADO).\r\n * Reemplaza las mltiples llamadas individuales por mes con una sola llamada.\r\n * - fechaDesde/fechaHasta: YYYY-MM-DD\r\n * - Devuelve datos agrupados por mes con totales y categoras\r\n * - Incluye cach en el servidor para mejor performance\r\n */\r\nexport async function getMovimientosParaPresupuesto({ fechaDesde, fechaHasta }) {\r\n  const params = new URLSearchParams();\r\n  if (fechaDesde) params.set('fechaDesde', fechaDesde);\r\n  if (fechaHasta) params.set('fechaHasta', fechaHasta);\r\n\r\n  const url = `${URL_REGISTRO}/movimientos/presupuesto/datos-completos?${params.toString()}`;\r\n  const { data } = await axios.get(url, { headers: getUsuarioHeaders() });\r\n  return data;\r\n}\r\n\r\n","!function(t,e){\"object\"==typeof exports&&\"undefined\"!=typeof module?module.exports=e():\"function\"==typeof define&&define.amd?define(e):(t=\"undefined\"!=typeof globalThis?globalThis:t||self).dayjs=e()}(this,(function(){\"use strict\";var t=1e3,e=6e4,n=36e5,r=\"millisecond\",i=\"second\",s=\"minute\",u=\"hour\",a=\"day\",o=\"week\",c=\"month\",f=\"quarter\",h=\"year\",d=\"date\",l=\"Invalid Date\",$=/^(\\d{4})[-/]?(\\d{1,2})?[-/]?(\\d{0,2})[Tt\\s]*(\\d{1,2})?:?(\\d{1,2})?:?(\\d{1,2})?[.:]?(\\d+)?$/,y=/\\[([^\\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,M={name:\"en\",weekdays:\"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday\".split(\"_\"),months:\"January_February_March_April_May_June_July_August_September_October_November_December\".split(\"_\"),ordinal:function(t){var e=[\"th\",\"st\",\"nd\",\"rd\"],n=t%100;return\"[\"+t+(e[(n-20)%10]||e[n]||e[0])+\"]\"}},m=function(t,e,n){var r=String(t);return!r||r.length>=e?t:\"\"+Array(e+1-r.length).join(n)+t},v={s:m,z:function(t){var e=-t.utcOffset(),n=Math.abs(e),r=Math.floor(n/60),i=n%60;return(e<=0?\"+\":\"-\")+m(r,2,\"0\")+\":\"+m(i,2,\"0\")},m:function t(e,n){if(e.date()<n.date())return-t(n,e);var r=12*(n.year()-e.year())+(n.month()-e.month()),i=e.clone().add(r,c),s=n-i<0,u=e.clone().add(r+(s?-1:1),c);return+(-(r+(n-i)/(s?i-u:u-i))||0)},a:function(t){return t<0?Math.ceil(t)||0:Math.floor(t)},p:function(t){return{M:c,y:h,w:o,d:a,D:d,h:u,m:s,s:i,ms:r,Q:f}[t]||String(t||\"\").toLowerCase().replace(/s$/,\"\")},u:function(t){return void 0===t}},g=\"en\",D={};D[g]=M;var p=\"$isDayjsObject\",S=function(t){return t instanceof _||!(!t||!t[p])},w=function t(e,n,r){var i;if(!e)return g;if(\"string\"==typeof e){var s=e.toLowerCase();D[s]&&(i=s),n&&(D[s]=n,i=s);var u=e.split(\"-\");if(!i&&u.length>1)return t(u[0])}else{var a=e.name;D[a]=e,i=a}return!r&&i&&(g=i),i||!r&&g},O=function(t,e){if(S(t))return t.clone();var n=\"object\"==typeof e?e:{};return n.date=t,n.args=arguments,new _(n)},b=v;b.l=w,b.i=S,b.w=function(t,e){return O(t,{locale:e.$L,utc:e.$u,x:e.$x,$offset:e.$offset})};var _=function(){function M(t){this.$L=w(t.locale,null,!0),this.parse(t),this.$x=this.$x||t.x||{},this[p]=!0}var m=M.prototype;return m.parse=function(t){this.$d=function(t){var e=t.date,n=t.utc;if(null===e)return new Date(NaN);if(b.u(e))return new Date;if(e instanceof Date)return new Date(e);if(\"string\"==typeof e&&!/Z$/i.test(e)){var r=e.match($);if(r){var i=r[2]-1||0,s=(r[7]||\"0\").substring(0,3);return n?new Date(Date.UTC(r[1],i,r[3]||1,r[4]||0,r[5]||0,r[6]||0,s)):new Date(r[1],i,r[3]||1,r[4]||0,r[5]||0,r[6]||0,s)}}return new Date(e)}(t),this.init()},m.init=function(){var t=this.$d;this.$y=t.getFullYear(),this.$M=t.getMonth(),this.$D=t.getDate(),this.$W=t.getDay(),this.$H=t.getHours(),this.$m=t.getMinutes(),this.$s=t.getSeconds(),this.$ms=t.getMilliseconds()},m.$utils=function(){return b},m.isValid=function(){return!(this.$d.toString()===l)},m.isSame=function(t,e){var n=O(t);return this.startOf(e)<=n&&n<=this.endOf(e)},m.isAfter=function(t,e){return O(t)<this.startOf(e)},m.isBefore=function(t,e){return this.endOf(e)<O(t)},m.$g=function(t,e,n){return b.u(t)?this[e]:this.set(n,t)},m.unix=function(){return Math.floor(this.valueOf()/1e3)},m.valueOf=function(){return this.$d.getTime()},m.startOf=function(t,e){var n=this,r=!!b.u(e)||e,f=b.p(t),l=function(t,e){var i=b.w(n.$u?Date.UTC(n.$y,e,t):new Date(n.$y,e,t),n);return r?i:i.endOf(a)},$=function(t,e){return b.w(n.toDate()[t].apply(n.toDate(\"s\"),(r?[0,0,0,0]:[23,59,59,999]).slice(e)),n)},y=this.$W,M=this.$M,m=this.$D,v=\"set\"+(this.$u?\"UTC\":\"\");switch(f){case h:return r?l(1,0):l(31,11);case c:return r?l(1,M):l(0,M+1);case o:var g=this.$locale().weekStart||0,D=(y<g?y+7:y)-g;return l(r?m-D:m+(6-D),M);case a:case d:return $(v+\"Hours\",0);case u:return $(v+\"Minutes\",1);case s:return $(v+\"Seconds\",2);case i:return $(v+\"Milliseconds\",3);default:return this.clone()}},m.endOf=function(t){return this.startOf(t,!1)},m.$set=function(t,e){var n,o=b.p(t),f=\"set\"+(this.$u?\"UTC\":\"\"),l=(n={},n[a]=f+\"Date\",n[d]=f+\"Date\",n[c]=f+\"Month\",n[h]=f+\"FullYear\",n[u]=f+\"Hours\",n[s]=f+\"Minutes\",n[i]=f+\"Seconds\",n[r]=f+\"Milliseconds\",n)[o],$=o===a?this.$D+(e-this.$W):e;if(o===c||o===h){var y=this.clone().set(d,1);y.$d[l]($),y.init(),this.$d=y.set(d,Math.min(this.$D,y.daysInMonth())).$d}else l&&this.$d[l]($);return this.init(),this},m.set=function(t,e){return this.clone().$set(t,e)},m.get=function(t){return this[b.p(t)]()},m.add=function(r,f){var d,l=this;r=Number(r);var $=b.p(f),y=function(t){var e=O(l);return b.w(e.date(e.date()+Math.round(t*r)),l)};if($===c)return this.set(c,this.$M+r);if($===h)return this.set(h,this.$y+r);if($===a)return y(1);if($===o)return y(7);var M=(d={},d[s]=e,d[u]=n,d[i]=t,d)[$]||1,m=this.$d.getTime()+r*M;return b.w(m,this)},m.subtract=function(t,e){return this.add(-1*t,e)},m.format=function(t){var e=this,n=this.$locale();if(!this.isValid())return n.invalidDate||l;var r=t||\"YYYY-MM-DDTHH:mm:ssZ\",i=b.z(this),s=this.$H,u=this.$m,a=this.$M,o=n.weekdays,c=n.months,f=n.meridiem,h=function(t,n,i,s){return t&&(t[n]||t(e,r))||i[n].slice(0,s)},d=function(t){return b.s(s%12||12,t,\"0\")},$=f||function(t,e,n){var r=t<12?\"AM\":\"PM\";return n?r.toLowerCase():r};return r.replace(y,(function(t,r){return r||function(t){switch(t){case\"YY\":return String(e.$y).slice(-2);case\"YYYY\":return b.s(e.$y,4,\"0\");case\"M\":return a+1;case\"MM\":return b.s(a+1,2,\"0\");case\"MMM\":return h(n.monthsShort,a,c,3);case\"MMMM\":return h(c,a);case\"D\":return e.$D;case\"DD\":return b.s(e.$D,2,\"0\");case\"d\":return String(e.$W);case\"dd\":return h(n.weekdaysMin,e.$W,o,2);case\"ddd\":return h(n.weekdaysShort,e.$W,o,3);case\"dddd\":return o[e.$W];case\"H\":return String(s);case\"HH\":return b.s(s,2,\"0\");case\"h\":return d(1);case\"hh\":return d(2);case\"a\":return $(s,u,!0);case\"A\":return $(s,u,!1);case\"m\":return String(u);case\"mm\":return b.s(u,2,\"0\");case\"s\":return String(e.$s);case\"ss\":return b.s(e.$s,2,\"0\");case\"SSS\":return b.s(e.$ms,3,\"0\");case\"Z\":return i}return null}(t)||i.replace(\":\",\"\")}))},m.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},m.diff=function(r,d,l){var $,y=this,M=b.p(d),m=O(r),v=(m.utcOffset()-this.utcOffset())*e,g=this-m,D=function(){return b.m(y,m)};switch(M){case h:$=D()/12;break;case c:$=D();break;case f:$=D()/3;break;case o:$=(g-v)/6048e5;break;case a:$=(g-v)/864e5;break;case u:$=g/n;break;case s:$=g/e;break;case i:$=g/t;break;default:$=g}return l?$:b.a($)},m.daysInMonth=function(){return this.endOf(c).$D},m.$locale=function(){return D[this.$L]},m.locale=function(t,e){if(!t)return this.$L;var n=this.clone(),r=w(t,e,!0);return r&&(n.$L=r),n},m.clone=function(){return b.w(this.$d,this)},m.toDate=function(){return new Date(this.valueOf())},m.toJSON=function(){return this.isValid()?this.toISOString():null},m.toISOString=function(){return this.$d.toISOString()},m.toString=function(){return this.$d.toUTCString()},M}(),k=_.prototype;return O.prototype=k,[[\"$ms\",r],[\"$s\",i],[\"$m\",s],[\"$H\",u],[\"$W\",a],[\"$M\",c],[\"$y\",h],[\"$D\",d]].forEach((function(t){k[t[1]]=function(e){return this.$g(e,t[0],t[1])}})),O.extend=function(t,e){return t.$i||(t(e,_,O),t.$i=!0),O},O.locale=w,O.isDayjs=S,O.unix=function(t){return O(1e3*t)},O.en=D[g],O.Ls=D,O.p={},O}));","import { alpha } from '@mui/material/styles';\r\n\r\nconst GREEN = '#2e7d32';\r\nconst RED = '#d32f2f';\r\n\r\nexport const buildTipoSelectSx = (tipo) => (theme) => {\r\n  const isIngreso = String(tipo).toLowerCase() === 'ingreso';\r\n  const base = isIngreso ? GREEN : RED;\r\n\r\n  const bg = alpha(base, 0.12);\r\n  const bgHover = alpha(base, 0.16);\r\n  const bgFocus = alpha(base, 0.20);\r\n\r\n  const palette = (theme.vars || theme).palette;\r\n  const textColor = palette.text.primary;\r\n  const textChannel =\r\n  palette.text?.primaryChannel ?? (theme.palette.mode === 'dark' ? '255 255 255' : '0 0 0');\r\n  \r\n  const rootSelector = '&& .MuiOutlinedInput-root';\r\n  //const textChannel = theme.palette.mode === 'dark' ? '255 255 255' : '0 0 0';\r\n  const inputSelectors = [\r\n    `${rootSelector} .MuiSelect-select`,\r\n    `${rootSelector} .MuiSelect-select.MuiSelect-outlined`,\r\n    `${rootSelector} .MuiSelect-select.MuiSelect-outlined.MuiInputBase-input`,\r\n    `${rootSelector} .MuiInputBase-input`,\r\n    `${rootSelector} .MuiOutlinedInput-input`,\r\n  ].join(', ');\r\n  const iconSelectors = [\r\n    `${rootSelector} .MuiSelect-icon`,\r\n    `${rootSelector} .MuiSelect-iconOutlined`,\r\n    `${rootSelector} .MuiSvgIcon-root`,\r\n  ].join(', ');\r\n\r\n  return {\r\n    [rootSelector]: {\r\n      borderRadius: 1,\r\n      color: textColor,\r\n      backgroundColor: bg,\r\n      '--mui-palette-text-primary': textColor,\r\n      '--mui-palette-text-secondary': textColor,\r\n      '--mui-palette-action-active': textColor,\r\n      '--mui-palette-text-primaryChannel': textChannel,\r\n      '--mui-palette-text-secondaryChannel': textChannel,\r\n      '--mui-palette-action-activeChannel': textChannel,\r\n      '&:hover': { backgroundColor: bgHover },\r\n      '&.Mui-focused': { backgroundColor: bgFocus },\r\n      '& fieldset': { borderColor: palette.divider },\r\n      '&:hover fieldset': { borderColor: palette.divider },\r\n      '&.Mui-focused fieldset': { borderColor: palette.divider },\r\n    },\r\n    [inputSelectors]: {\r\n      color: textColor,\r\n      WebkitTextFillColor: textColor,\r\n      fontWeight: 200,\r\n    },\r\n    [iconSelectors]: {\r\n      color: textColor,\r\n    },\r\n    '&& .MuiInputLabel-root, && .MuiInputLabel-root.Mui-focused': {\r\n      color: textColor,\r\n      WebkitTextFillColor: textColor,\r\n    },\r\n  };\r\n};\r\n","\"use client\";\n\nimport createSvgIcon from \"./utils/createSvgIcon.js\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon(/*#__PURE__*/_jsx(\"path\", {\n  d: \"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zM8 9h8v10H8zm7.5-5-1-1h-5l-1 1H5v2h14V4z\"\n}), 'DeleteOutline');","/**\r\n * Categoras unificadas para toda la aplicacin\r\n * Estas categoras estn sincronizadas con el backend\r\n */\r\n\r\n// Categoras de EGRESOS\r\nexport const CATEGORIAS_EGRESO = [\r\n  \"Alimentos y Bebidas\",\r\n  \"Transporte\",\r\n  \"Vivienda\",\r\n  \"Servicios Bsicos\",\r\n  \"Ocio y Entretenimiento\",\r\n  \"Compras Personales\",\r\n  \"Salud\",\r\n  \"Educacin\",\r\n  \"Impuestos y Tasas\",\r\n  \"Servicios Financieros\",\r\n  \"Compras de Negocio\",\r\n  \"Otros Egresos\",\r\n];\r\n\r\n// Categoras de INGRESOS\r\nexport const CATEGORIAS_INGRESO = [\r\n  \"Ventas de Productos\",\r\n  \"Prestacin de Servicios\",\r\n  \"Cobranzas\",\r\n  \"Transferencias Recibidas\",\r\n  \"Inversiones y Rendimientos\",\r\n  \"Otros Ingresos\",\r\n];\r\n\r\n// Todas las categoras (para uso genrico)\r\nexport const TODAS_LAS_CATEGORIAS = [\r\n  ...CATEGORIAS_EGRESO,\r\n  ...CATEGORIAS_INGRESO,\r\n];\r\n\r\n/**\r\n * Obtiene las categoras segn el tipo de registro\r\n * @param {string} tipo - 'Ingreso', 'Egreso', o null para todas\r\n * @returns {string[]} Array de categoras\r\n */\r\nexport function obtenerCategorias(tipo) {\r\n  if (!tipo) return TODAS_LAS_CATEGORIAS;\r\n  if (tipo === \"Ingreso\") return CATEGORIAS_INGRESO;\r\n  if (tipo === \"Egreso\") return CATEGORIAS_EGRESO;\r\n  return TODAS_LAS_CATEGORIAS;\r\n}\r\n"],"names":["createSvgIcon","_jsx","d","safeNumber","v","isNaN","Number","baseURL","API_CONFIG","PRONOSTICO","GUARD_MESSAGES","categoria","title","body","confirmLabel","real","GUARD_FIELD_LABELS","tipo","montoEstimado","INGRESO_COLOR","EGRESO_COLOR","INGRESO_EST_COLOR","EGRESO_EST_COLOR","SIN_PRONOSTICO_CHIP_SX","fontWeight","bgcolor","backgroundColor","color","border","CENTERED_INPUT_LABEL_SX","top","transform","mesANumero","enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre","formatearMes","ym","anio","mes","split","i","parseInt","concat","ymToYmd","mesesEntre","fromYM","toYM","out","fy","fm","map","ty","tm","y","m","guard","push","String","padStart","normalizeLine","x","_ref","_x$movimientoIds","_ref2","_ref3","_x$movimientoId","_ref4","_x$montoEstimado","rawMovementArray","movimientoIds","movimiento_ids","movementIds","rawMovementSingle","movimientoId","movimiento_id","movementId","Array","isArray","id","normalizeTipo","monto_estimado","normCat","value","normalize","replace","trim","toLowerCase","upper","toString","toUpperCase","MesDetalle","_theme$vars$palette","_theme$vars","_paletteVars$text$pri","_paletteVars$text","_paletteVars$common$w","_paletteVars$common","nombre","nombreUrl","mesNombre","mesNombreUrl","useParams","navigate","useNavigate","theme","useTheme","isLightMode","palette","mode","paletteVars","vars","kpiColors","React","ingresos","success","light","egresos","error","resultadoPos","info","resultadoNeg","warning","tabsLabelColor","text","primary","common","white","window","scrollTo","left","behavior","lineas","setLineas","lineasSoloReal","setLineasSoloReal","edits","setEdits","manualGuards","setManualGuards","guardPrompt","setGuardPrompt","open","field","message","nombreMes","setNombreMes","presupuestoNombre","setPresupuestoNombre","presupuestoId","setPresupuestoId","setYm","mesesDisponibles","setMesesDisponibles","tab","setTab","totalRealMes","setTotalRealMes","goToDatosBrutos","simulacion","setSimulacion","rowMenuIdx","setRowMenuIdx","snack","setSnack","severity","nueva","setNueva","agregando","setAgregando","dlgReglas","setDlgReglas","regla","setRegla","ambito","modo","valor","solo","rangoDesde","rangoHasta","dlgVarios","setDlgVarios","bulkCfg","setBulkCfg","accion","desde","hasta","deletePrompt","setDeletePrompt","categoriasOptions","setCategoriasOptions","TODAS_LAS_CATEGORIAS","loading","setLoading","usuarioRol","setUsuarioRol","categoriasPronosticadas","ocupadas","Set","linea","normalizada","add","opcionesNuevaLinea","disponibles","filter","option","has","categoriaActualNorm","some","opt","prevYm","nextYm","length","idx","findIndex","activo","async","response","http","get","REGISTRO","data","console","cargarCategorias","sub","sessionStorage","getItem","res","fetch","ADMINISTRACION","headers","ok","json","rol","err","cargarRolUsuario","esAdmin","includes","fetchMes","pid","ymStr","skipStateUpdate","arguments","undefined","url1","url2","tryFetch","url","arr","categorias","_unused","l","finalLineas","cargarLineasConReales","lineasBase","ymKey","slice","referencia","dayjs","isValid","sinReales","_objectSpread","refDate","toDate","fechaDesde","format","startOfMonth","fechaHasta","endOfMonth","respEgreso","respIngreso","Promise","all","getMovimientosPorRango","tipos","movimientosEgreso","content","movimientosIngreso","agruparPorCategoria","lista","reduce","acc","movimiento","_ref5","_ref6","_movimiento$monto","_ref7","_ref8","_ref9","_ref0","_movimiento$id","nombreOriginal","categoriaNombre","categoria_id_nombre","key","monto","Math","abs","montoTotal","monto_total","isFinite","total","label","rawMovimientoId","movimientoID","idMovimiento","realesPorCategoriaEgreso","realesPorCategoriaIngreso","totalRealEgreso","Object","values","lineasConReales","tipoKey","baseMovementIds","extraIds","from","categoriasPorTipo","adicionales","registrarAdicionales","mapa","set","entries","forEach","_ref1","_soloReal","movErr","fallback","resPres","listaPayload","decodedNombre","decodeURIComponent","p","find","pp","Error","mesNumStr","resTot","totales","mesesLista","t","Boolean","sort","a","b","localeCompare","item","endsWith","cargar","handleCambiarMes","targetYm","lineasCompleto","nextEdits","prev","nextGuards","_prev$l$id","_prev$l$id2","_prev$l$id3","_prev$l$id4","requestManualUnlock","cfg","targetLine","handleGuardCancel","toggleManualGuard","enabled","fieldsToToggle","next","current","updated","handleGuardConfirm","combinedIds","params","URLSearchParams","state","editMovementId","editMovementMeta","isFieldUnlocked","_manualGuards$id","reloadMes","c","totalIngresos","totalEgresosCalculado","totalEgresos","totalIngresoEst","totalEgresoEst","resultado","estimadoTotal","cumplimiento","vencidosEstimados","pieDataIngresos","name","barDataIngresos","estimado","pieDataEgresos","e","barDataEgresos","toCamelPayload","_l$montoEstimado","toSnakePayload","_l$montoEstimado2","tryPatchOrPut","method","patch","put","closeDeletePrompt","Box","sx","width","children","LoadingSpinner","_jsxs","display","alignItems","gap","mb","justifyContent","IconButton","size","onClick","disabled","opacity","ChevronLeftIcon","fontSize","Typography","variant","flexGrow","flexShrink","textAlign","minWidth","whiteSpace","ChevronRightIcon","gutterBottom","Paper","Stack","direction","flexWrap","spacing","Chip","toFixed","icon","WarningAmberOutlinedIcon","ExportadorSimple","onExportPdf","handleExportPdf","then","html2pdf","element","document","getElementById","margin","filename","Date","now","image","type","quality","html2canvas","scale","jsPDF","unit","orientation","default","save","onExportExcel","handleExportExcel","_ref10","utils","writeFile","ws","aoa_to_sheet","cellStyles","wb","book_new","book_append_sheet","mt","Tabs","onChange","indicatorColor","Tab","_Fragment","Grid","container","xs","sm","md","height","Avatar","mx","formatCurrency","ResponsiveContainer","PieChart","Pie","dataKey","nameKey","cx","cy","outerRadius","_ref11","percent","_","Cell","fill","RTooltip","formatter","Legend","index","estimadoN","realN","max","sinPronostico","Tooltip","disableHoverListener","cursor","flexDirection","flex","BarChart","layout","XAxis","domain","hide","YAxis","Bar","radius","position","_ref12","Autocomplete","fullWidth","newValue","s","options","freeSolo","disableClearable","forcePopupIcon","popupIcon","KeyboardArrowDownIcon","componentsProps","popupIndicator","disableRipple","disableFocusRipple","boxShadow","clearIndicator","right","renderInput","TextField","InputLabelProps","FormControl","buildTipoSelectSx","InputLabel","Select","target","MenuItem","formatCurrencyInput","parsed","parseCurrency","returnEmpty","inputProps","inputMode","Button","payload","post","startIcon","AddCircleOutlineIcon","Divider","my","overflowX","style","borderCollapse","borderBottom","padding","borderRight","estimadoOriginal","estimadoRaw","manualEnabled","esSoloReal","desvio","realMovementIds","baseIdx","updateField","categoriaActual","categoriasOcupadas","otra","_ref13","_edits$otra$id$catego","_edits$otra$id","opcionesDisponibles","InputProps","readOnly","ev","EditOffOutlinedIcon","EditOutlinedIcon","LockOutlinedIcon","handleGuardar","_e$response","_e$response$data","msg","crearLineaDesdeReal","_lastErr","_lastErr$response","_lastErr$response$dat","_lastErr2","_lastErr2$response","_lastErr2$response$da","_lastErr3","_lastErr4","urls","methods","payloads","lastErr","e1","_e1$response","status","e2","serverMsg","patchLinea","SaveOutlinedIcon","openDeletePrompt","DeleteOutlineIcon","idxEfectivo","abrirDlgVariosConFila","ContentCopyIcon","colSpan","Dialog","onClose","maxWidth","DialogTitle","DialogContent","dividers","DialogActions","targetId","lineaId","delete","deleteLinea","select","r","step","FormControlLabel","control","Switch","checked","alert","placeholder","meses","ymX","ls","u","_unused2","toDelete","ll","Snackbar","autoHideDuration","anchorOrigin","vertical","horizontal","Alert","numberFormatter","Intl","NumberFormat","minimumFractionDigits","maximumFractionDigits","allowEmpty","num","raw","str","cleaned","negative","startsWith","numeric","normalized","EXPORT_PDF_BG","EXPORT_PDF_BG_HOVER","EXPORT_EXCEL_BG","EXPORT_EXCEL_BG_HOVER","hoverStyles","borderColor","applyStyles","PictureAsPdfIcon","GridOnIcon","axios","create","PRONOSTICO_BASE_URL","URL_CONFIG","cognitoPoolConfig","UserPoolId","process","ClientId","refreshPromise","hasForcedLogout","isPronosticoRequest","safeSessionGet","warn","safeSessionSet","setItem","clearSessionAndRedirect","clear","sessionService","limpiarSesion","location","href","refreshTokens","refreshTokenValue","cognitoUser","buildCognitoUser","username","pool","CognitoUserPool","CognitoUser","Username","Pool","reject","refreshToken","CognitoRefreshToken","RefreshToken","resolve","refreshSession","session","nextAccessToken","getAccessToken","getJwtToken","nextIdToken","getIdToken","nextRefreshToken","getRefreshToken","getToken","interceptors","request","use","config","accessToken","_config$headers","Authorization","usuarioSub","__isRetryRequest","_config$headers2","newAccessToken","token","catch","refreshError","URL_REGISTRO","getUsuarioHeaders","join","getMovimientosParaPresupuesto","module","exports","n","o","f","h","$","M","weekdays","months","ordinal","z","utcOffset","floor","date","year","month","clone","ceil","w","D","ms","Q","g","S","O","args","locale","$L","utc","$u","$x","$offset","this","parse","prototype","$d","NaN","test","match","substring","UTC","init","$y","getFullYear","$M","getMonth","$D","getDate","$W","getDay","$H","getHours","$m","getMinutes","$s","getSeconds","$ms","getMilliseconds","$utils","isSame","startOf","endOf","isAfter","isBefore","$g","unix","valueOf","getTime","apply","$locale","weekStart","$set","min","daysInMonth","round","subtract","invalidDate","meridiem","monthsShort","weekdaysMin","weekdaysShort","getTimezoneOffset","diff","toJSON","toISOString","toUTCString","k","extend","$i","isDayjs","en","Ls","_palette$text$primary","_palette$text","base","bg","alpha","bgHover","bgFocus","textColor","textChannel","primaryChannel","rootSelector","inputSelectors","iconSelectors","borderRadius","divider","WebkitTextFillColor","CATEGORIAS_EGRESO","CATEGORIAS_INGRESO"],"sourceRoot":""}