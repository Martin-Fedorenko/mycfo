{"version":3,"file":"static/js/2675.10a6dfda.chunk.js","mappings":"mIAAA,MAAMA,EAAsB,IAAIC,KAAKC,aAAa,QAAS,CACzDC,MAAO,WACPC,SAAU,MACVC,sBAAuB,EACvBC,sBAAuB,IAOZC,EAAmB,SAACC,GAAsC,IAA/B,SAAEC,EAAW,UAAOC,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAG,CAAC,EAC9D,GAAc,OAAVF,QAA4BI,IAAVJ,EACpB,OAAOC,EAGT,MAAMI,EAAeC,OAAON,GAC5B,OAAIM,OAAOC,MAAMF,GACRJ,EAGFT,EAAoBgB,OAAOH,EACpC,EAEaI,EAAmB,SAACT,GAAyD,IAAlD,eAAEU,EAAiB,EAAC,SAAET,EAAW,MAAMC,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAG,CAAC,EACjF,GAAc,OAAVF,QAA4BI,IAAVJ,EACpB,OAAOC,EAGT,MAAMI,EAAeC,OAAON,GAC5B,OAAIM,OAAOC,MAAMF,GACRJ,EAGH,GAANU,OAAUN,EAAaO,QAAQF,GAAe,IAChD,C,8FChCe,SAASG,EAAwBC,GAM5C,IAN6C,QAC/CC,EAAO,MACPf,EAAK,SACLgB,EAAQ,SACRC,GAAW,EAAK,YAChBC,EAAc,4CACfJ,EACC,MAAOK,EAAeC,IAAoBC,EAAAA,EAAAA,UAAc,OAALrB,QAAK,IAALA,EAAAA,EAAS,OAE5DsB,EAAAA,EAAAA,WAAU,KACRF,EAAsB,OAALpB,QAAK,IAALA,EAAAA,EAAS,OACzB,CAACA,IAOJ,OACEuB,EAAAA,EAAAA,KAACC,EAAAA,EAAY,CACXC,UAAQ,EACRV,QAASA,EACTf,WAAiBI,IAAVJ,EAAsBA,EAAQmB,EACrCH,SAViBU,CAACC,EAAQC,KAC5BR,EAAiBQ,GACbZ,GAAUA,EAASY,IASrBX,SAAUA,EACVY,YAAcC,IACZP,EAAAA,EAAAA,KAACQ,EAAAA,GAASC,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAA,GACJF,GAAM,IACVZ,YAAaA,EACbe,QAAQ,WACRC,KAAK,QACLjB,SAAUA,MAKpB,C,2HC7Be,SAASkB,EAAYrB,GAShC,IATiC,MACnCsB,EAAK,KACLC,EAAI,MACJrC,EAAK,SACLgB,EAAQ,QACRD,EAAU,GAAE,MACZuB,EAAQ,GAAE,MACVC,EAAQ,OAAM,SACdtB,GAAW,GACZH,EACC,OACE0B,EAAAA,EAAAA,MAACC,EAAAA,EAAG,CAACC,GAAI,CAAEH,SAAQI,SAAA,CAChBP,IACCb,EAAAA,EAAAA,KAACqB,EAAAA,EAAU,CAACF,GAAI,CAAEG,IAAK,KAAQC,GAAE,GAAAnC,OAAK0B,EAAI,UAASM,SAChDP,KAGLI,EAAAA,EAAAA,MAACO,EAAAA,EAAM,CACLC,QAAO,GAAArC,OAAK0B,EAAI,UAChBS,GAAIT,EACJA,KAAMA,EACNrC,MAAOA,EACPgB,SAAWiC,GAAMjC,EAASiC,EAAEC,OAAOlD,OACnCmD,cAAY,EACZjB,KAAK,QACLkB,OAAO7B,EAAAA,EAAAA,KAAC8B,EAAAA,EAAa,IACrBX,GAAI,CAAEH,MAAO,QACbtB,SAAUA,EAAS0B,SAAA,EAEnBpB,EAAAA,EAAAA,KAAC+B,EAAAA,EAAQ,CAACtD,MAAM,GAAGiB,UAAQ,EAAA0B,SAAC,cAG3B5B,EAAQwC,IAAI,CAACC,EAAKC,KACjBlC,EAAAA,EAAAA,KAAC+B,EAAAA,EAAQ,CAAStD,MAAOwD,EAAIb,SAC1Ba,GADYC,OAKlBnB,IAASf,EAAAA,EAAAA,KAACmC,EAAAA,EAAc,CAACpB,OAAK,EAAAK,SAAEL,MAGvC,C,6SChDA,MAAMqB,EAAWC,EAAAA,EAAWC,SAEtBC,EAAkBA,KACtB,MAAMC,EAAaC,eAAeC,QAAQ,OAC1C,IAAKF,EACH,MAAM,IAAIG,MAAM,sEAElB,MAAO,CACLC,QAAS,CACP,gBAAiBJ,GAEnBK,iBAAiB,IA+CRC,EAAgBC,MAAOxB,EAAIyB,KACtC,MAAMC,QAAiBC,EAAAA,EAAMC,IAAI,GAAD/D,OAC3BgD,EAAQ,cAAAhD,OAAamC,GAXFyB,KAAa,IAADI,EACpC,MAAMC,GAAI5C,EAAAA,EAAAA,GAAA,GAAQuC,GAKlB,OAJIK,EAAKC,cAAqD,oBAAb,QAAxBF,EAAOC,EAAKC,oBAAY,IAAAF,OAAA,EAAjBA,EAAmBnE,UAEjDoE,EAAKC,aAAeD,EAAKC,aAAarE,OAAO,wBAExCoE,GAMLE,CAAiBP,GACjBT,KAEF,OAAOU,EAASI,M,qCCnClB,MAklBA,EAhlBwBG,KACtB,MAAOC,EAAUC,IAAe5D,EAAAA,EAAAA,UAAS,KAClC6D,EAASC,IAAc9D,EAAAA,EAAAA,WAAS,IAChC+D,EAASC,IAAchE,EAAAA,EAAAA,UAAS,CAAC,IACjCiE,EAAYC,IAAiBlE,EAAAA,EAAAA,WAAS,IACtCmE,EAAYC,IAAiBpE,EAAAA,EAAAA,UAAS,SACtCqE,EAAiBC,IAAsBtE,EAAAA,EAAAA,UAAS,OAChDuE,EAAUC,IAAexE,EAAAA,EAAAA,UAAS,CAAC,IACnCyE,EAAQC,IAAa1E,EAAAA,EAAAA,UAAS,CAAC,IAC/B2E,EAAmBC,IAAwB5E,EAAAA,EAAAA,WAAS,IACpD6E,EAAiBC,IAAsB9E,EAAAA,EAAAA,UAAS,OAChD+E,EAAUC,IAAehF,EAAAA,EAAAA,UAAS,CAAEiF,MAAM,EAAOC,QAAS,GAAIC,SAAU,UACxEC,EAAiBC,IAAsBrF,EAAAA,EAAAA,UAAS,CAAEiF,MAAM,EAAOC,QAAS,MACxEI,EAAYC,IAAiBvF,EAAAA,EAAAA,UAAS,MAGvCwF,IAAoBC,EAAAA,EAAAA,aAAaC,IACrC,MAAMC,EAAoB,CACxBC,QAAS,EACTC,SAAU,EACVC,MAAO,EACPC,MAAO,EACPC,IAAK,EACLC,KAAM,EACNC,KAAM,EACNC,OAAQ,EACRC,UAAW,EACXC,QAAS,GACTC,SAAU,GACVC,SAAU,IAENC,EAAkBC,IACtB,GAAa,MAATA,EAAe,OAAO,KAC1B,GAAqB,kBAAVA,EAAoB,CAC7B,MAAMC,EAAQD,EAAME,cACpB,GAAIhB,EAAkBe,GAAQ,OAAOf,EAAkBe,GACvD,MAAME,EAASC,SAASJ,EAAO,IAC/B,OAAOxH,OAAOC,MAAM0H,GAAU,KAAOA,CACvC,CACA,OAAOH,GAGT,IAAKf,EAAO,OAAO,KACnB,GAAIoB,IAAAA,QAAcpB,GAAQ,OAAOA,EAEjC,GAAIqB,MAAMC,QAAQtB,GAAQ,CAAC,IAADuB,EACxB,MAAOC,EAAMT,EAAQ,EAAGU,EAAM,EAAGC,EAAO,EAAGC,EAAS,EAAGC,EAAS,GAAK5B,EAC/D6B,EAAuC,QAAxBN,EAAGT,EAAeC,UAAM,IAAAQ,EAAAA,EAAI,EAC3CO,EAAkBV,IAAM,CAC5BI,OACAT,MAAOc,EAAkB,EACzBJ,MACAC,OACAC,SACAC,WAEF,GAAIE,EAAgBC,UAAW,OAAOD,CACxC,CAEA,GAAqB,kBAAV9B,EAAoB,CAAC,IAADgC,EAAAjI,EAAAkI,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAC7B,MAAM,KAAEC,EAAI,KAAEC,EAAI,KAAElB,EAAI,MAAET,EAAK,WAAE4B,EAAU,IAAElB,EAAG,WAAEmB,EAAU,UAAEC,EAAS,KAAEnB,EAAI,OAAEC,EAAM,OAAEC,GAAW5B,EAC5F8C,EAAUL,GAAQ,CAAC,EACnBM,EAAUL,GAAQ,CAAC,EACnBM,EAAuF,QAA7EhB,EAAGlB,EAAmD,QAArC/G,EAAoB,QAApBkI,EAAM,OAALlB,QAAK,IAALA,EAAAA,EAAS4B,SAAU,IAAAV,EAAAA,EAAIa,EAAQ/B,aAAK,IAAAhH,EAAAA,EAAI+I,EAAQH,mBAAW,IAAAX,EAAAA,EAAI,EAC3FiB,EAAmB7B,IAAM,CAC7BI,KAAU,OAAJA,QAAI,IAAJA,EAAAA,EAAQsB,EAAQtB,KACtBT,MAAOiC,EAAa,EACpBvB,IAAwE,QAArES,EAA+C,QAA/CC,EAAgC,QAAhCC,EAAmB,QAAnBC,EAAK,OAAHZ,QAAG,IAAHA,EAAAA,EAAOmB,SAAU,IAAAP,EAAAA,EAAIQ,SAAS,IAAAT,EAAAA,EAAIU,EAAQrB,WAAG,IAAAU,EAAAA,EAAIW,EAAQF,kBAAU,IAAAV,EAAAA,EAAIY,EAAQD,UACpFnB,KAA0B,QAAtBY,EAAM,OAAJZ,QAAI,IAAJA,EAAAA,EAAQqB,EAAQrB,YAAI,IAAAY,EAAAA,EAAI,EAC9BX,OAAgC,QAA1BY,EAAQ,OAANZ,QAAM,IAANA,EAAAA,EAAUoB,EAAQpB,cAAM,IAAAY,EAAAA,EAAI,EACpCX,OAAgC,QAA1BY,EAAQ,OAANZ,QAAM,IAANA,EAAAA,EAAUmB,EAAQnB,cAAM,IAAAY,EAAAA,EAAI,IAEtC,GAAIS,EAAiBlB,UAAW,OAAOkB,CACzC,CAEA,MAAM/B,EAASE,IAAMpB,GACrB,OAAOkB,EAAOa,UAAYb,EAAS,MAClC,IAEGgC,IAAqBnD,EAAAA,EAAAA,aACxBC,IACC,MAAMkB,EAASpB,GAAkBE,GACjC,OAAOkB,EAASA,EAAOzH,OAAO,cAAgB,KAEhD,CAACqG,KAGGqD,IAAepD,EAAAA,EAAAA,aAAYxC,UAC/Ba,GAAW,GACX,IAAK,IAADgF,EACFC,QAAQC,MAAM,oDAAqDjF,GACnE,MAAMR,QD3GiBN,iBASjB,IATwB,KAClCgG,EAAO,EAAC,KACRpI,EAAO,GAAE,OACTqI,EAAS,eAAc,QACvBC,EAAU,OAAM,WAChBC,EAAU,WACVC,EAAU,YACVC,EAAW,WACXC,GACD1K,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAG,CAAC,EACH,MAAM4B,EAAS,IAAI+I,gBAAgB,CACjCP,OACApI,OACAqI,SACAC,YAaF,OAVIC,GAAY3I,EAAOgJ,OAAO,aAAcL,GACxCC,GAAY5I,EAAOgJ,OAAO,aAAcJ,GACxCC,GAAa7I,EAAOgJ,OAAO,cAAeH,GAC1CC,GAAY9I,EAAOgJ,OAAO,aAAcF,UAErBnG,EAAAA,EAAMsG,IAAI,GAADpK,OAC3BgD,EAAQ,qBAAAhD,OAAoBmB,EAAOkJ,YACtClH,MAGcc,IAClB,CC+EyBqG,EAAajJ,EAAAA,EAAAA,GAAC,CAC/BsI,KAAM,EACNpI,KA/FkB,KAgGfkD,IAELgF,QAAQC,MAAM,wCAAyCzF,GACvDK,GACe,QAAbkF,EAACvF,EAAKsG,eAAO,IAAAf,EAAAA,EAAI,IAAI5G,IAAK4H,IAACnJ,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAA,GACtBmJ,GAAC,IACJtG,aAAcgC,GAAkBsE,EAAEtG,iBAGxC,CAAE,MAAOvC,GAAQ,IAAD8I,EAAAC,EACdjB,QAAQ9H,MAAM,0BAA2BA,GACzC+D,EAAY,CACVC,MAAM,EACNE,SAAU,QACVD,SAAc,OAALjE,QAAK,IAALA,GAAe,QAAV8I,EAAL9I,EAAOkC,gBAAQ,IAAA4G,GAAM,QAANC,EAAfD,EAAiBxG,YAAI,IAAAyG,OAAhB,EAALA,EAAuBC,WAAgB,OAALhJ,QAAK,IAALA,OAAK,EAALA,EAAOiE,UAAW,mCAEjE,CAAC,QACCpB,GAAW,EACb,GACC,CAACC,EAASyB,KAEP0E,IAAmBzE,EAAAA,EAAAA,aAAY,KACnC,MAAM0E,EAAMxH,eAAeC,QAAQ,OAC9BuH,GACLC,MAAM,GAAD9K,OAAIiD,EAAAA,EAAW8H,eAAc,wBAAwB,CACxDvH,QAAS,CAAE,gBAAiBqH,KAE3BG,KAAMC,GAAQA,EAAIC,QAClBF,KAAM/G,GAASgC,EAAchC,EAAKkH,MAClCC,MAAOC,GAAQ5B,QAAQ9H,MAAM,sBAAuB0J,KACtD,KAEH1K,EAAAA,EAAAA,WAAU,KACR4I,KACAqB,MACC,CAACrB,GAAcqB,KAElB,MAAMU,IAAiBC,EAAAA,EAAAA,SACrB,IAAM,CACJ,kBACA,mBACA,cACA,eACA,aACA,SACA,iBACA,mBAEF,IAoGIC,KAjGeD,EAAAA,EAAAA,SACnB,MACEE,WAAY,CAAEC,gBAAiB,CAAEC,SArJb,MAsJpBC,QAAS,CAAEC,UAAW,CAAC,CAAEC,MAAO,eAAgBC,KAAM,YAExD,IA4FwBP,KACxB5G,GAAc,GACdI,EAAmB,MACnBI,EAAU,CAAC,KAGP4G,GAAsBA,CAAChL,EAAQiL,KACpB,cAAXA,GACJvG,EAAY,CAAEC,MAAM,EAAOC,QAAS,GAAIC,SAAU,UAO9CqG,IAAUX,EAAAA,EAAAA,SACd,IAAM,CACJ,CACEO,MAAO,kBACPK,WAAY,YACZC,KAAM,EACNC,SAAU,KAEZ,CACEP,MAAO,cACPK,WAAY,OACZC,KAAM,GACNC,SAAU,IACVC,WAAanL,IAAM,IAAAoL,EAAA,OACjB3L,EAAAA,EAAAA,KAAC4L,EAAAA,EAAI,CACH/K,MAAmB,QAAd8K,EAAEpL,EAAO9B,aAAK,IAAAkN,EAAAA,EAAI,IACvBhL,KAAK,QACLkL,MAAM,UACN1K,GAAI,CAAE2K,WAAY,SAIxB,CACEZ,MAAO,eACPK,WAAY,mBACZC,KAAM,GACNC,SAAU,IACVC,WAAanL,IAAM,IAAAwL,EAAA,OACjB/L,EAAAA,EAAAA,KAACgM,EAAAA,EAAU,CAACtL,QAAQ,QAAOU,SACxBsH,GAAyB,OAANnI,QAAM,IAANA,GAAW,QAALwL,EAANxL,EAAQ0L,WAAG,IAAAF,OAAL,EAANA,EAAazI,iBAGrC4I,eAAgBA,CAACC,EAAGC,EAAGC,EAAaC,KAAiB,IAADC,EAAAC,EAClD,MAAMC,EAAQnH,GAA6B,OAAX+G,QAAW,IAAXA,GAAgB,QAALE,EAAXF,EAAaJ,WAAG,IAAAM,OAAL,EAAXA,EAAkBjJ,cAC5CoJ,EAAQpH,GAA6B,OAAXgH,QAAW,IAAXA,GAAgB,QAALE,EAAXF,EAAaL,WAAG,IAAAO,OAAL,EAAXA,EAAkBlJ,cAGlD,OAFemJ,EAAQA,EAAME,WAAaC,MAC3BF,EAAQA,EAAMC,WAAaC,OAI9C,CACE1B,MAAO,aACPK,WAAY,QACZC,KAAM,EACNC,SAAU,IACVC,WAAanL,GACc,MAAzBA,EAAO0L,IAAIY,YACPrO,EAAAA,EAAAA,GAAiB+B,EAAO0L,IAAIY,YAC5B,KAER,CACE3B,MAAO,SACPK,WAAY,SACZC,KAAM,GACNC,SAAU,IAEZ,CACEP,MAAO,aACPK,WAAY,iBACZC,KAAM,GACNC,SAAU,IACVqB,MAAM,EACNpB,WAAanL,IAAM,IAAAwM,EAAA,OACjB/M,EAAAA,EAAAA,KAAC4L,EAAAA,EAAI,CACH/K,MAAmB,QAAdkM,EAAExM,EAAO9B,aAAK,IAAAsO,EAAAA,EAAI,YACvBpM,KAAK,QACLkL,MACmB,WAAjBtL,EAAO9B,MACH,UACiB,wBAAjB8B,EAAO9B,MACP,UACA,cAKZ,CACEyM,MAAO,iBACPK,WAAY,WACZC,KAAM,IACNC,SAAU,IACVC,WAAanL,IAAM,IAAAyM,EAAA,OACjBhN,EAAAA,EAAAA,KAACkB,EAAAA,EAAG,CAAAE,UACFpB,EAAAA,EAAAA,KAACgM,EAAAA,EAAU,CAACtL,QAAQ,QAAOU,SAAc,QAAd4L,EAAEzM,EAAO9B,aAAK,IAAAuO,EAAAA,EAAI,UAInD,CACE9B,MAAO,kBACPK,WAAY,YACZC,KAAM,IACNC,SAAU,IACVC,WAAanL,IAAM,IAAA0M,EAAA,OACjBjN,EAAAA,EAAAA,KAACkB,EAAAA,EAAG,CAAAE,UACFpB,EAAAA,EAAAA,KAACgM,EAAAA,EAAU,CAACtL,QAAQ,QAAOU,SAAc,QAAd6L,EAAE1M,EAAO9B,aAAK,IAAAwO,EAAAA,EAAI,UAInD,CACE/B,MAAO,WACPK,WAAY,WACZC,KAAM,GACNC,SAAU,IACVyB,UAAU,EACVC,YAAY,EACZzB,WAAanL,IACX,MAAM6M,GAAWhI,GAAc,IAAIqB,cAAc4G,SAAS,SAC1D,OACEpM,EAAAA,EAAAA,MAACC,EAAAA,EAAG,CAACC,GAAI,CAAEmM,QAAS,OAAQC,IAAK,IAAMnM,SAAA,EACrCpB,EAAAA,EAAAA,KAACwN,EAAAA,EAAU,CACT7M,KAAK,QACLkL,MAAM,OACN4B,QAASA,KAAMC,OAvMHC,EAuMoBpN,EAAO0L,IAtMnD7H,EAAmBuJ,GACnBrJ,GAAW7D,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAC,CAAC,EACRkN,GAAO,IACVrK,aAAcgC,GAAkBqI,EAAQrK,iBAE1CY,EAAc,aACdF,GAAc,GAPU2J,OAwMZC,MAAM,eAAcxM,UAEpBpB,EAAAA,EAAAA,KAAC6N,EAAAA,EAAc,CAACC,SAAS,YAE1BV,IACCnM,EAAAA,EAAAA,MAAA8M,EAAAA,SAAA,CAAA3M,SAAA,EACEpB,EAAAA,EAAAA,KAACwN,EAAAA,EAAU,CACT7M,KAAK,QACLkL,MAAM,UACN4B,QAASA,KAAMO,OAvMJL,EAuMwBpN,EAAO0L,IAtM1D7H,EAAmBuJ,GACnBrJ,GAAW7D,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAC,CAAC,EACRkN,GAAO,IACVrK,aAAcgC,GAAkBqI,EAAQrK,iBAE1CY,EAAc,aACdF,GAAc,GAPa2J,OAwMXC,MAAM,SAAQxM,UAEdpB,EAAAA,EAAAA,KAACiO,EAAAA,EAAQ,CAACH,SAAS,aAErB9N,EAAAA,EAAAA,KAACwN,EAAAA,EAAU,CACT7M,KAAK,QACLkL,MAAM,QACN4B,QAASA,KACP7I,EAAmBrE,EAAO0L,KAC1BvH,GAAqB,IAEvBkJ,MAAM,WAAUxM,UAEhBpB,EAAAA,EAAAA,KAACkO,EAAAA,EAAU,CAACJ,SAAS,qBASrC,CAAC1I,EAAYsD,GAAoBpD,KAGnC,OACErE,EAAAA,EAAAA,MAACC,EAAAA,EAAG,CAACC,GAAI,CAAEH,MAAO,OAAQmN,EAAG,GAAI/M,SAAA,EAC/BpB,EAAAA,EAAAA,KAACgM,EAAAA,EAAU,CACTtL,QAAQ,KACR0N,UAAU,KACVC,cAAY,EACZlN,GAAI,CAAEG,GAAI,EAAGwK,WAAY,IAAKD,MAAO,gBAAiBzK,SACvD,cAIDpB,EAAAA,EAAAA,KAACkB,EAAAA,EAAG,CAACC,GAAI,CAAEmN,OAAQ,IAAKtN,MAAO,OAAQuN,GAAI,GAAInN,UAC7CpB,EAAAA,EAAAA,KAACwO,EAAAA,EAAQ,CACPC,KAAMhL,EACN6H,QAASA,GACT3H,QAASA,EACT+K,SAAWzC,IAAG,IAAA0C,EAAAC,EAAA,OACa,QADbD,EACN,QADMC,EACZ3C,EAAI1K,UAAE,IAAAqN,EAAAA,EAAI3C,EAAI4C,mBAAW,IAAAF,EAAAA,EAAA,GAAAvP,OAAO6M,EAAI6C,gBAAe,KAAA1P,OAAI6M,EAAI3I,eAE7DyL,gBAAiB,CAAC,GAAI,GAAI,IAAK,KAC/BC,aAAc,CACZnE,WAAY,CAAEC,gBAAiB,CAAEC,SAAU,KAC3CC,QAAS,CAAEC,UAAW,CAAC,CAAEC,MAAO,eAAgBC,KAAM,UACtDG,QAAS,CACP2D,sBAAuB,CACrB5F,YAAY,KAIlB6F,MAAO,CAAEC,QAASC,EAAAA,GAClBC,UAAW,CACTF,QAAS,CACPG,iBAAiB,EACjBC,iBAAkB,CAAEC,WAAY,OAGpCC,4BAA0B,EAC1BtO,GAAI,CACFuO,gBAAiB,2BACjB,sBAAuB,CACrBC,aAAc,oBACdC,YAAa,oBACbtC,QAAS,OACTuC,WAAY,UAEd,mCAAoC,CAClCD,YAAa,QAEf,+BAAgC,CAC9BF,gBAAiB,UACjB5B,SAAU,UACVgC,UAAW,oBACXH,aAAc,qBAEhB,8BAA+B,CAC7BI,WAAY,oBACZH,YAAa,oBACbtC,QAAS,OACTuC,WAAY,SACZG,eAAgB,gBAChBC,UAAW,cAEb,4CAA6C,CAC3CF,WAAY,QAEd,2CAA4C,CAC1CH,YAAa,QAEf,mCAAoC,CAClC9D,WAAY,KAEd,iCAAkC,CAChCoE,QAAS,EACTC,WAAY,UACZtE,MAAO,WAET,2BAA4B,CAC1B6D,gBAAiB,uBAEnB,0BAA2B,CACzBpC,QAAS,QAEX,4CAA6C,CAC3C8C,aAAc,MACd9C,QAAS,OACTuC,WAAY,UAEd,+DAAgE,CAC9D7O,MAAO,OACPsN,OAAQ,OACRhB,QAAS,OACTuC,WAAY,SACZG,eAAgB,UAElB,kDAAmD,CACjDK,QAAS,MACTvC,SAAU,OACVR,QAAS,OACTuC,WAAY,SACZG,eAAgB,UAElB,0BAA2B,CACzBlC,SAAU,OACVR,QAAS,oBAEX,6GAA8G,CAC5GA,QAAS,cAMjBrM,EAAAA,EAAAA,MAACqP,EAAAA,EAAM,CACLvL,KAAMhB,EACNwM,QAAS3F,GACT4F,SAAS,KACTC,WAAS,EAAArP,SAAA,EAETpB,EAAAA,EAAAA,KAAC0Q,EAAAA,EAAW,CAACvP,GAAI,CAAE2K,WAAY,KAAM1K,SACnB,SAAf6C,EAAwB,iBAAmB,wBAE9CjE,EAAAA,EAAAA,KAAC2Q,EAAAA,EAAa,CAACC,UAAQ,EAAAxP,SACpB+C,GACCnE,EAAAA,EAAAA,KAAC6Q,EAAAA,QAAW,CACVxM,SAAUA,EACVC,YAAaA,EACbC,OAAQA,EACRuM,YAA4B,SAAf7M,IAEb,QAENhD,EAAAA,EAAAA,MAAC8P,EAAAA,EAAa,CAAA3P,SAAA,EACZpB,EAAAA,EAAAA,KAACgR,EAAAA,EAAM,CAACvD,QAAS7C,GAAmBlK,QAAQ,WAAUU,SACpC,SAAf6C,EAAwB,WAAa,WAExB,SAAfA,IACCjE,EAAAA,EAAAA,KAACgR,EAAAA,EAAM,CAACvD,QA/VW1K,UAC3B,GAAKoB,EACL,GAvCwB8M,MACxB,MAAMC,EAAY,CAAC,EAanB,OAZAxG,GAAeyG,QAASjG,IACtB,MAAMzM,EAAQ4F,EAAS6G,SAEXrM,IAAVJ,GACU,OAAVA,GACU,KAAVA,GACM,OAALA,QAAK,IAALA,GAAAA,EAAO8I,SAAoC,oBAAlB9I,EAAM8I,UAA2B9I,EAAM8I,aAEjE2J,EAAUhG,GAAS,uBAGvB1G,EAAU0M,GAC+B,IAAlCE,OAAOC,KAAKH,GAAWtS,QAyBzBqS,GASL,IAAK,IAADK,EACF,MAAMC,EAA8B,QAArBD,EAAGnN,EAAgB5C,UAAE,IAAA+P,EAAAA,EAAInN,EAAgB0K,YACxD,IAAK0C,EACH,MAAM,IAAI5O,MAAM,yDAEZG,EAAcyO,EAAWlN,GAC/Bc,EAAmB,CAAEJ,MAAM,EAAMC,QAAS,uCAC1ChB,GAAc,GACd2E,IACF,CAAE,MAAO5H,GAAQ,IAADyQ,EAAAC,EACd5I,QAAQ9H,MAAM,6BAA8BA,GAC5C+D,EAAY,CACVC,MAAM,EACNE,SAAU,QACVD,SAAc,OAALjE,QAAK,IAALA,GAAe,QAAVyQ,EAALzQ,EAAOkC,gBAAQ,IAAAuO,GAAM,QAANC,EAAfD,EAAiBnO,YAAI,IAAAoO,OAAhB,EAALA,EAAuB1H,WAAgB,OAALhJ,QAAK,IAALA,OAAK,EAALA,EAAOiE,UAAW,qCAEjE,MAxBEF,EAAY,CACVC,MAAM,EACNE,SAAU,UACVD,QAAS,uDAyVkCtE,QAAQ,YAAWU,SAAC,2BAOjEH,EAAAA,EAAAA,MAACqP,EAAAA,EAAM,CACLvL,KAAMN,EACN8L,QAASA,IAAM7L,GAAqB,GAAOtD,SAAA,EAE3CpB,EAAAA,EAAAA,KAAC0Q,EAAAA,EAAW,CAAAtP,SAAC,sBACbpB,EAAAA,EAAAA,KAAC2Q,EAAAA,EAAa,CAAAvP,UACZH,EAAAA,EAAAA,MAACyQ,EAAAA,EAAK,CAACzM,SAAS,UAAU9D,GAAI,CAAEG,GAAI,GAAIF,SAAA,CAAC,+CACA,KACvCpB,EAAAA,EAAAA,KAAA,UAAAoB,SAAwB,OAAfuD,QAAe,IAAfA,OAAe,EAAfA,EAAiBmK,kBAAyB,+CAIvD7N,EAAAA,EAAAA,MAAC8P,EAAAA,EAAa,CAAA3P,SAAA,EACZpB,EAAAA,EAAAA,KAACgR,EAAAA,EAAM,CAACvD,QAASA,IAAM/I,GAAqB,GAAOtD,SAAC,cACpDpB,EAAAA,EAAAA,KAACgR,EAAAA,EAAM,CAACnF,MAAM,QAAQnL,QAAQ,YAAY+M,QAtVpB1K,UAC5B,GAAK4B,EACL,IAAK,IAADgN,EACF,MAAMJ,EAA8B,QAArBI,EAAGhN,EAAgBpD,UAAE,IAAAoQ,EAAAA,EAAIhN,EAAgBkK,YACxD,IAAK0C,EACH,MAAM,IAAI5O,MAAM,wDDnNKI,iBACrBG,EAAAA,EAAM0O,OAAO,GAADxS,OAAIgD,EAAQ,cAAAhD,OAAamC,GAAMgB,MCoNvCsP,CAAcN,GACpBpM,EAAmB,CAAEJ,MAAM,EAAMC,QAAS,qCAC1CN,GAAqB,GACrBE,EAAmB,MACnB+D,IACF,CAAE,MAAO5H,GAAQ,IAAD+Q,EAAAC,EACdlJ,QAAQ9H,MAAM,4BAA6BA,GAC3C+D,EAAY,CACVC,MAAM,EACNE,SAAU,QACVD,SAAc,OAALjE,QAAK,IAALA,GAAe,QAAV+Q,EAAL/Q,EAAOkC,gBAAQ,IAAA6O,GAAM,QAANC,EAAfD,EAAiBzO,YAAI,IAAA0O,OAAhB,EAALA,EAAuBhI,WAAgB,OAALhJ,QAAK,IAALA,OAAK,EAALA,EAAOiE,UAAW,mCAEjE,GAmU+E5D,SAAC,oBAM9EpB,EAAAA,EAAAA,KAACgS,EAAAA,EAAe,CACdjN,KAAMG,EAAgBH,KACtBC,QAASE,EAAgBF,QACzBuL,QA9T6B0B,KACjC9M,EAAmB,CAAEJ,MAAM,EAAOC,QAAS,SA+TzChF,EAAAA,EAAAA,KAACkS,EAAAA,EAAQ,CACPnN,KAAMF,EAASE,KACfoN,iBAAkB,IAClB5B,QAASnF,GACTgH,aAAc,CAAEC,SAAU,SAAUC,WAAY,UAAWlR,UAE3DpB,EAAAA,EAAAA,KAAC0R,EAAAA,EAAK,CACJnB,QAASnF,GACTnG,SAAUJ,EAASI,SACnBvE,QAAQ,SACRS,GAAI,CAAEH,MAAO,QAASI,SAErByD,EAASG,e,4MC7lBL,SAAS6L,EAAWtR,GAA8D,IAA7D,SAAE8E,EAAQ,YAAEC,EAAW,OAAEC,EAAS,CAAC,EAAC,YAAEuM,GAAc,GAAMvR,EAC5F,MAAOgT,EAAcC,IAAmB1S,EAAAA,EAAAA,UAAS,OAGjDC,EAAAA,EAAAA,WAAU,KACR,IAAKsE,EAASf,cAAgBwN,EAAa,CACzC,MAAM2B,EAAM7L,MACZtC,EAAa6J,IAAC1N,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAA,GAAW0N,GAAC,IAAE7K,aAAcmP,IAC5C,GACC,CAACpO,EAASf,aAAcgB,EAAawM,KAGxC/Q,EAAAA,EAAAA,WAAU,KAER,MAAM2S,EAAQC,WAAW,KACvB9J,QAAQ+J,IAAI,mDACZ,MAAMC,EAAUC,EAAAA,EAAeC,aAC/BlK,QAAQ+J,IAAI,8BAA+BC,GACvCA,EACFL,EAAgBK,GAEhBhK,QAAQ+J,IAAI,4CAEb,KAEH,MAAO,IAAMI,aAAaN,IACzB,IA+CH,OACEzR,EAAAA,EAAAA,MAACC,EAAAA,EAAG,CACFC,GAAI,CAAEmM,QAAS,OAAQ2F,cAAe,SAAU1F,IAAK,EAAGvM,MAAO,QAASI,SAAA,EAGxEH,EAAAA,EAAAA,MAACC,EAAAA,EAAG,CAAAE,SAAA,EACFpB,EAAAA,EAAAA,KAACkT,EAAAA,EAAS,CAAA9R,SAAC,2BACXpB,EAAAA,EAAAA,KAAC8B,EAAAA,EAAa,CACZrD,MAAO4F,EAASyK,iBAAmB,GACnCrP,SAAWiC,IACJoP,GACLxM,EAAa6J,IAAC1N,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAA,GAAW0N,GAAC,IAAEW,gBAAiBpN,EAAEC,OAAOlD,UAExDkC,KAAK,QACL8P,WAAS,EACT1P,QAASwD,EAAOuK,gBAChBpP,UAAWoR,IAEZvM,EAAOuK,kBACN9O,EAAAA,EAAAA,KAACmC,EAAAA,EAAc,CAACpB,OAAK,EAAAK,SAAEmD,EAAOuK,sBAKlC7N,EAAAA,EAAAA,MAACC,EAAAA,EAAG,CAACC,GAAI,CAAEmM,QAAS,OAAQC,IAAK,EAAGvM,MAAO,QAASI,SAAA,EAClDH,EAAAA,EAAAA,MAACC,EAAAA,EAAG,CAACC,GAAI,CAAEqK,KAAM,GAAIpK,SAAA,EACnBpB,EAAAA,EAAAA,KAACkT,EAAAA,EAAS,CAAA9R,SAAC,kBACXpB,EAAAA,EAAAA,KAACY,EAAAA,EAAY,CACXnC,MAAO4F,EAAS8O,kBAAoB,GACpC1T,SAAW2T,IAzEOC,MA0EXvC,IACLxM,EAAa6J,IAAC1N,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAA,GAAW0N,GAAC,IAAEgF,iBAAkBC,KA3E9BC,EA4EGD,EA3E7BvK,QAAQ+J,IAAI,yCAAuCS,GACnDxK,QAAQ+J,IAAI,gCAAiCL,GAExCA,EAKW,aAAZc,GAEFxK,QAAQ+J,IAAI,4DACZtO,EAAa6J,GAAO2C,GAAWrQ,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAA,GAC1B0N,GAAC,IAEJmF,gBAAiBf,EAAagB,QAAU,GACxCC,cAAejB,EAAakB,MAAQ,GACpCC,sBAAuBnB,EAAaoB,cAAgB,GACpDC,mBAAoBrB,EAAasB,WAAa,GAE9CC,eAAgB,GAChBC,aAAc,GACdC,qBAAsB,GACtBC,kBAAmB,KACjB9F,IACiB,cAAZkF,IAETxK,QAAQ+J,IAAI,4DACZtO,EAAa6J,GAAO2C,GAAWrQ,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAA,GAC1B0N,GAAC,IAEJmF,gBAAiB,GACjBE,cAAe,GACfE,sBAAuB,GACvBE,mBAAoB,GAEpBE,eAAgBvB,EAAagB,QAAU,GACvCQ,aAAcxB,EAAakB,MAAQ,GACnCO,qBAAsBzB,EAAaoB,cAAgB,GACnDM,kBAAmB1B,EAAasB,WAAa,KAC3C1F,IAnCJtF,QAAQ+J,IAAI,yCAyENpT,QAAS,CAAC,WAAY,aACtBwB,MAAM,OACND,QAASwD,EAAO4O,iBAChBzT,UAAWoR,IAEZvM,EAAO4O,mBACNnT,EAAAA,EAAAA,KAACmC,EAAAA,EAAc,CAACpB,OAAK,EAAAK,SAAEmD,EAAO4O,uBAGlClS,EAAAA,EAAAA,MAACC,EAAAA,EAAG,CAACC,GAAI,CAAEqK,KAAM,GAAIpK,SAAA,EACnBpB,EAAAA,EAAAA,KAACkT,EAAAA,EAAS,CAAA9R,SAAC,oBACXpB,EAAAA,EAAAA,KAACY,EAAAA,EAAY,CACXnC,MAAO4F,EAAS+E,aAAe,GAC/B3J,SAAW2T,IACJtC,GACLxM,EAAa6J,IAAC1N,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAA,GAAW0N,GAAC,IAAE/E,YAAagK,MAE3C5T,QAAS,CAAC,IAAK,IAAK,KACpBwB,MAAM,OACND,QAASwD,EAAO6E,YAChB1J,UAAWoR,IAEZvM,EAAO6E,cACNpJ,EAAAA,EAAAA,KAACmC,EAAAA,EAAc,CAACpB,OAAK,EAAAK,SAAEmD,EAAO6E,kBAGlCnI,EAAAA,EAAAA,MAACC,EAAAA,EAAG,CAACC,GAAI,CAAEqK,KAAM,GAAIpK,SAAA,EACnBpB,EAAAA,EAAAA,KAACkT,EAAAA,EAAS,CAAA9R,SAAC,wBACXpB,EAAAA,EAAAA,KAACkU,EAAAA,EAAoB,CACnBzV,MAAO4F,EAASf,aAAesD,IAAMvC,EAASf,cAAgB,KAC9D7D,SAAW+F,IACJsL,GACLxM,EAAa6J,IAAC1N,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAA,GAAW0N,GAAC,IAAE7K,aAAckC,MAE5CzE,QAASwD,EAAOjB,aAChB5D,UAAWoR,IAEZvM,EAAOjB,eACNtD,EAAAA,EAAAA,KAACmC,EAAAA,EAAc,CAACpB,OAAK,EAAAK,SAAEmD,EAAOjB,sBAMpCrC,EAAAA,EAAAA,MAACC,EAAAA,EAAG,CAACC,GAAI,CAAEmM,QAAS,OAAQC,IAAK,EAAGvM,MAAO,QAASI,SAAA,EAClDH,EAAAA,EAAAA,MAACC,EAAAA,EAAG,CAACC,GAAI,CAAEqK,KAAM,GAAIpK,SAAA,EACnBpB,EAAAA,EAAAA,KAACkT,EAAAA,EAAS,CAAA9R,SAAC,mBACXpB,EAAAA,EAAAA,KAAC8B,EAAAA,EAAa,CACZqS,KAAK,SACL1V,MAAO4F,EAASwI,YAAc,GAC9BpN,SAAWiC,IACJoP,GACLxM,EAAa6J,IAAC1N,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAA,GAAW0N,GAAC,IAAEtB,WAAYnL,EAAEC,OAAOlD,UAEnDkC,KAAK,QACL8P,WAAS,EACT1P,QAASwD,EAAOsI,WAChBnN,UAAWoR,IAEZvM,EAAOsI,aACN7M,EAAAA,EAAAA,KAACmC,EAAAA,EAAc,CAACpB,OAAK,EAAAK,SAAEmD,EAAOsI,iBAGlC5L,EAAAA,EAAAA,MAACC,EAAAA,EAAG,CAACC,GAAI,CAAEqK,KAAM,GAAIpK,SAAA,EACnBpB,EAAAA,EAAAA,KAACkT,EAAAA,EAAS,CAAA9R,SAAC,YACXpB,EAAAA,EAAAA,KAAC8B,EAAAA,EAAa,CACZrD,MAAO4F,EAAS+P,QAAU,MAC1BzT,KAAK,QACL8P,WAAS,EACT/Q,UAAQ,WAMdM,EAAAA,EAAAA,KAACkB,EAAAA,EAAG,CAACC,GAAI,CAAEmM,QAAS,OAAQC,IAAK,EAAGvM,MAAO,QAASI,UAClDH,EAAAA,EAAAA,MAACC,EAAAA,EAAG,CAACC,GAAI,CAAEqK,KAAM,GAAIpK,SAAA,EACnBpB,EAAAA,EAAAA,KAACkT,EAAAA,EAAS,CAAA9R,SAAC,kBACXpB,EAAAA,EAAAA,KAACV,EAAAA,EAAwB,CACvBE,QAAS6U,EAAAA,GACT5V,MAAO4F,EAASiQ,WAAa,GAC7B7U,SAAW2T,IACJtC,GACLxM,EAAa6J,IAAC1N,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAA,GAAW0N,GAAC,IAAEmG,UAAWlB,MAEzC1T,UAAWoR,UAOjB7P,EAAAA,EAAAA,MAACC,EAAAA,EAAG,CAACC,GAAI,CAAEmM,QAAS,OAAQC,IAAK,EAAGvM,MAAO,QAASI,SAAA,EAClDH,EAAAA,EAAAA,MAACC,EAAAA,EAAG,CAACC,GAAI,CAAEqK,KAAM,GAAIpK,SAAA,EACnBpB,EAAAA,EAAAA,KAACkT,EAAAA,EAAS,CAAA9R,SAAC,uBACXpB,EAAAA,EAAAA,KAAC8B,EAAAA,EAAa,CACZrD,MAAO4F,EAASyP,gBAAkB,GAClCrU,SAAWiC,IACJoP,GACLxM,EAAa6J,IAAC1N,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAA,GAAW0N,GAAC,IAAE2F,eAAgBpS,EAAEC,OAAOlD,UAEvDkC,KAAK,QACL8P,WAAS,EACT1P,QAASwD,EAAOuP,eAChBpU,UAAWoR,IAEZvM,EAAOuP,iBACN9T,EAAAA,EAAAA,KAACmC,EAAAA,EAAc,CAACpB,OAAK,EAAAK,SAAEmD,EAAOuP,qBAGlC7S,EAAAA,EAAAA,MAACC,EAAAA,EAAG,CAACC,GAAI,CAAEqK,KAAM,GAAIpK,SAAA,EACnBpB,EAAAA,EAAAA,KAACkT,EAAAA,EAAS,CAAA9R,SAAC,mBACXpB,EAAAA,EAAAA,KAAC8B,EAAAA,EAAa,CACZrD,MAAO4F,EAAS0P,cAAgB,GAChCtU,SAAWiC,IACJoP,GACLxM,EAAa6J,IAAC1N,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAA,GAAW0N,GAAC,IAAE4F,aAAcrS,EAAEC,OAAOlD,UAErDkC,KAAK,QACL8P,WAAS,EACT/Q,UAAWoR,QAGf7P,EAAAA,EAAAA,MAACC,EAAAA,EAAG,CAACC,GAAI,CAAEqK,KAAM,GAAIpK,SAAA,EACnBpB,EAAAA,EAAAA,KAACkT,EAAAA,EAAS,CAAA9R,SAAC,+BACXpB,EAAAA,EAAAA,KAACY,EAAAA,EAAY,CACXnC,MAAO4F,EAAS2P,sBAAwB,GACxCvU,SAAW2T,IACJtC,GACLxM,EAAa6J,IAAC1N,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAA,GAAW0N,GAAC,IAAE6F,qBAAsBZ,MAEpD5T,QAAS,CAAC,wBAAyB,cAAe,UAClDwB,MAAM,OACNtB,UAAWoR,QAGf7P,EAAAA,EAAAA,MAACC,EAAAA,EAAG,CAACC,GAAI,CAAEqK,KAAM,GAAIpK,SAAA,EACnBpB,EAAAA,EAAAA,KAACkT,EAAAA,EAAS,CAAA9R,SAAC,wBACXpB,EAAAA,EAAAA,KAAC8B,EAAAA,EAAa,CACZrD,MAAO4F,EAAS4P,mBAAqB,GACrCxU,SAAWiC,IACJoP,GACLxM,EAAa6J,IAAC1N,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAA,GAAW0N,GAAC,IAAE8F,kBAAmBvS,EAAEC,OAAOlD,UAE1DkC,KAAK,QACL8P,WAAS,EACT/Q,UAAWoR,WAMjB7P,EAAAA,EAAAA,MAACC,EAAAA,EAAG,CAACC,GAAI,CAAEmM,QAAS,OAAQC,IAAK,EAAGvM,MAAO,QAASI,SAAA,EAClDH,EAAAA,EAAAA,MAACC,EAAAA,EAAG,CAACC,GAAI,CAAEqK,KAAM,GAAIpK,SAAA,EACnBpB,EAAAA,EAAAA,KAACkT,EAAAA,EAAS,CAAA9R,SAAC,wBACXpB,EAAAA,EAAAA,KAAC8B,EAAAA,EAAa,CACZrD,MAAO4F,EAASiP,iBAAmB,GACnC7T,SAAWiC,IACJoP,GACLxM,EAAa6J,IAAC1N,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAA,GAAW0N,GAAC,IAAEmF,gBAAiB5R,EAAEC,OAAOlD,UAExDkC,KAAK,QACL8P,WAAS,EACT1P,QAASwD,EAAO+O,gBAChB5T,UAAWoR,IAEZvM,EAAO+O,kBACNtT,EAAAA,EAAAA,KAACmC,EAAAA,EAAc,CAACpB,OAAK,EAAAK,SAAEmD,EAAO+O,sBAGlCrS,EAAAA,EAAAA,MAACC,EAAAA,EAAG,CAACC,GAAI,CAAEqK,KAAM,GAAIpK,SAAA,EACnBpB,EAAAA,EAAAA,KAACkT,EAAAA,EAAS,CAAA9R,SAAC,oBACXpB,EAAAA,EAAAA,KAAC8B,EAAAA,EAAa,CACZrD,MAAO4F,EAASmP,eAAiB,GACjC/T,SAAWiC,IACJoP,GACLxM,EAAa6J,IAAC1N,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAA,GAAW0N,GAAC,IAAEqF,cAAe9R,EAAEC,OAAOlD,UAEtDkC,KAAK,QACL8P,WAAS,EACT/Q,UAAWoR,QAGf7P,EAAAA,EAAAA,MAACC,EAAAA,EAAG,CAACC,GAAI,CAAEqK,KAAM,GAAIpK,SAAA,EACnBpB,EAAAA,EAAAA,KAACkT,EAAAA,EAAS,CAAA9R,SAAC,gCACXpB,EAAAA,EAAAA,KAACY,EAAAA,EAAY,CACXnC,MAAO4F,EAASqP,uBAAyB,GACzCjU,SAAW2T,IACJtC,GACLxM,EAAa6J,IAAC1N,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAA,GAAW0N,GAAC,IAAEuF,sBAAuBN,MAErD5T,QAAS,CAAC,wBAAyB,cAAe,UAClDwB,MAAM,OACNtB,UAAWoR,QAGf7P,EAAAA,EAAAA,MAACC,EAAAA,EAAG,CAACC,GAAI,CAAEqK,KAAM,GAAIpK,SAAA,EACnBpB,EAAAA,EAAAA,KAACkT,EAAAA,EAAS,CAAA9R,SAAC,yBACXpB,EAAAA,EAAAA,KAAC8B,EAAAA,EAAa,CACZrD,MAAO4F,EAASuP,oBAAsB,GACtCnU,SAAWiC,IACJoP,GACLxM,EAAa6J,IAAC1N,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAA,GAAW0N,GAAC,IAAEyF,mBAAoBlS,EAAEC,OAAOlD,UAE3DkC,KAAK,QACL8P,WAAS,EACT/Q,UAAWoR,YAOvB,C,iFC3UA,MAkBA,EAlBwBvR,IAAA,IAAC,KAAEwF,EAAI,QAAEC,EAAO,QAAEuL,GAAShR,EAAA,OACjDS,EAAAA,EAAAA,KAACkS,EAAAA,EAAQ,CACPnN,KAAMA,EACNoN,iBAAkB,IAClB5B,QAASA,EACT6B,aAAc,CAAEC,SAAU,SAAUC,WAAY,UAAWlR,UAE3DpB,EAAAA,EAAAA,KAAC0R,EAAAA,EAAK,CACJnB,QAASA,EACTtL,SAAS,UACTvE,QAAQ,SACRS,GAAI,CAAEH,MAAO,QAASI,SAErB4D,M,oCCVA,MAAMuP,EAAoB,CAC/B,sBACA,aACA,WACA,uBACA,yBACA,qBACA,QACA,eACA,oBACA,wBACA,qBACA,iBAIWC,EAAqB,CAChC,sBACA,6BACA,YACA,2BACA,6BACA,kBAIWH,EAAuB,IAC/BE,KACAC,E,iNCjBL,SAASC,EAAYC,GAAQ,IAADC,EAC1B,MAAM,eAAEC,IAAmBC,EAAAA,EAAAA,GAAmBH,EAAO,aAC/CI,GAAgBC,EAAAA,EAAAA,KAChBC,GAAYC,EAAAA,EAAAA,GAAWH,EAAcI,WAAYJ,EAAcK,SAC/DC,GAAeC,EAAAA,EAAAA,KAEfC,EACmB,MAAvBR,EAAcrW,MACV2W,EACAN,EAAcrW,MAAMQ,OAAO6V,EAAcS,aAE/C,OACEvV,EAAAA,EAAAA,KAACgR,EAAAA,GAAMvQ,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAA,GACDmU,GAAc,IAClBlU,QAAQ,WACR8U,IAAKR,EACLrU,KAAK,QACL8U,WAAWzV,EAAAA,EAAAA,KAAC0V,EAAAA,EAAwB,CAAC5H,SAAS,UAC9C3M,GAAI,CAAEsK,SAAU,cAAezK,MAAO,QACtCtB,SAAUoV,EAAcpV,WAA0B,OAAdkV,QAAc,IAAdA,OAAc,EAAdA,EAAgBlV,UACpD+N,QAASA,KACHqH,EAAcpV,UAA0B,OAAdkV,QAAc,IAAdA,GAAAA,EAAgBlV,UAC9CoV,EAAca,QAASC,IAAUA,IACjCxU,SAEkB,QAFlBuT,EAEDG,EAAcjU,aAAK,IAAA8T,EAAAA,EAAIW,IAG9B,CAEe,SAASpB,EAAoB3U,GAAyC,IAAxC,MAAEd,EAAK,SAAEgB,EAAQ,SAAEC,GAAW,GAAOH,EAehF,OACES,EAAAA,EAAAA,KAAC6V,EAAAA,GAAoB,CAACC,YAAaC,EAAAA,EAAa3U,UAC9CpB,EAAAA,EAAAA,KAACgW,EAAAA,EAAc,CACbvX,MAAOA,EAAQmI,IAAMnI,GAAS,KAC9BoC,MACW,MAATpC,EACI,KACAmI,IAAMnI,GAAOQ,OAAO,sBAE1BQ,SAvBgBY,IACpB,GAAKZ,EACL,GAAImH,IAAAA,QAAcvG,GAAW,CAE3B,MAAM4V,EAAarP,IAAAA,IACZvG,EAASpB,OAAO,wBACpBmI,OAAO,GACP8O,YAAY,GACfzW,EAASwW,EACX,MACExW,EAASY,IAcPX,SAAUA,EACVwP,MAAO,CAAEhE,MAAOuJ,GAChBpF,UAAW,CACT8G,eAAgB,CAAExV,KAAM,QAASjB,YACjC0W,mBAAoB,CAAEzV,KAAM,QAASjB,YACrCwL,MAAO,CAAExL,aAEXyB,GAAI,CAAEH,MAAO,WAIrB,CApEA4F,IAAAA,OAAayP,I","sources":["utils/formatters.js","shared-components/CustomSingleAutoComplete.js","shared-components/CustomSelect.js","registro/facturas/api/facturasService.js","registro/facturas/FacturaListPage.js","registro/carga-general/components/forms/FormFactura.js","shared-components/SuccessSnackbar.js","shared-components/categorias.js","shared-components/CustomDateTimePicker.js"],"sourcesContent":["const currencyFormatterAR = new Intl.NumberFormat('es-AR', {\r\n  style: 'currency',\r\n  currency: 'ARS',\r\n  minimumFractionDigits: 0,\r\n  maximumFractionDigits: 2,\r\n});\r\n\r\n/**\r\n * Devuelve una cadena formateada en pesos argentinos.\r\n * Se asegura de manejar valores nulos, indefinidos o no numéricos.\r\n */\r\nexport const formatCurrencyAR = (value, { fallback = '$ 0' } = {}) => {\r\n  if (value === null || value === undefined) {\r\n    return fallback;\r\n  }\r\n\r\n  const numericValue = Number(value);\r\n  if (Number.isNaN(numericValue)) {\r\n    return fallback;\r\n  }\r\n\r\n  return currencyFormatterAR.format(numericValue);\r\n};\r\n\r\nexport const formatPercentage = (value, { fractionDigits = 0, fallback = '0%' } = {}) => {\r\n  if (value === null || value === undefined) {\r\n    return fallback;\r\n  }\r\n\r\n  const numericValue = Number(value);\r\n  if (Number.isNaN(numericValue)) {\r\n    return fallback;\r\n  }\r\n\r\n  return `${numericValue.toFixed(fractionDigits)}%`;\r\n};\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { Autocomplete, TextField } from \"@mui/material\";\r\n\r\nexport default function CustomSingleAutoComplete({\r\n  options,\r\n  value,\r\n  onChange,\r\n  disabled = false,\r\n  placeholder = \"Seleccioná o escribí una opción\",\r\n}) {\r\n  const [internalValue, setInternalValue] = useState(value ?? null);\r\n\r\n  useEffect(() => {\r\n    setInternalValue(value ?? null);\r\n  }, [value]);\r\n\r\n  const handleChange = (_event, newValue) => {\r\n    setInternalValue(newValue);\r\n    if (onChange) onChange(newValue);\r\n  };\r\n\r\n  return (\r\n    <Autocomplete\r\n      freeSolo\r\n      options={options}\r\n      value={value !== undefined ? value : internalValue}\r\n      onChange={handleChange}\r\n      disabled={disabled}\r\n      renderInput={(params) => (\r\n        <TextField\r\n          {...params}\r\n          placeholder={placeholder}\r\n          variant=\"outlined\"\r\n          size=\"small\"\r\n          disabled={disabled}\r\n        />\r\n      )}\r\n    />\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport {\r\n  Box,\r\n  InputLabel,\r\n  MenuItem,\r\n  Select,\r\n  OutlinedInput,\r\n  FormHelperText,\r\n} from \"@mui/material\";\r\n\r\nexport default function CustomSelect({\r\n  label,\r\n  name,\r\n  value,\r\n  onChange,\r\n  options = [],\r\n  error = \"\",\r\n  width = \"100%\",\r\n  disabled = false,\r\n}) {\r\n  return (\r\n    <Box sx={{ width }}>\r\n      {label && (\r\n        <InputLabel sx={{ mb: -0.01 }} id={`${name}-label`}>\r\n          {label}\r\n        </InputLabel>\r\n      )}\r\n      <Select\r\n        labelId={`${name}-label`}\r\n        id={name}\r\n        name={name}\r\n        value={value}\r\n        onChange={(e) => onChange(e.target.value)}\r\n        displayEmpty\r\n        size=\"small\"\r\n        input={<OutlinedInput />}\r\n        sx={{ width: \"100%\" }}\r\n        disabled={disabled}\r\n      >\r\n        <MenuItem value=\"\" disabled>\r\n          Elegir...\r\n        </MenuItem>\r\n        {options.map((opt, i) => (\r\n          <MenuItem key={i} value={opt}>\r\n            {opt}\r\n          </MenuItem>\r\n        ))}\r\n      </Select>\r\n      {error && <FormHelperText error>{error}</FormHelperText>}\r\n    </Box>\r\n  );\r\n}\r\n","import axios from \"axios\";\r\nimport API_CONFIG from \"../../../config/api-config\";\r\n\r\nconst BASE_URL = API_CONFIG.REGISTRO;\r\n\r\nconst withUserHeaders = () => {\r\n  const usuarioSub = sessionStorage.getItem(\"sub\");\r\n  if (!usuarioSub) {\r\n    throw new Error(\"No se encontró información de usuario (sub) en la sesión.\");\r\n  }\r\n  return {\r\n    headers: {\r\n      \"X-Usuario-Sub\": usuarioSub,\r\n    },\r\n    withCredentials: true,\r\n  };\r\n};\r\n\r\nexport const fetchFacturas = async ({\r\n  page = 0,\r\n  size = 20,\r\n  sortBy = \"fechaEmision\",\r\n  sortDir = \"desc\",\r\n  fechaDesde,\r\n  fechaHasta,\r\n  tipoFactura,\r\n  estadoPago,\r\n} = {}) => {\r\n  const params = new URLSearchParams({\r\n    page,\r\n    size,\r\n    sortBy,\r\n    sortDir,\r\n  });\r\n\r\n  if (fechaDesde) params.append(\"fechaDesde\", fechaDesde);\r\n  if (fechaHasta) params.append(\"fechaHasta\", fechaHasta);\r\n  if (tipoFactura) params.append(\"tipoFactura\", tipoFactura);\r\n  if (estadoPago) params.append(\"estadoPago\", estadoPago);\r\n\r\n  const response = await axios.get(\r\n    `${BASE_URL}/facturas/buscar?${params.toString()}`,\r\n    withUserHeaders()\r\n  );\r\n\r\n  return response.data;\r\n};\r\n\r\nexport const deleteFactura = async (id) => {\r\n  await axios.delete(`${BASE_URL}/facturas/${id}`, withUserHeaders());\r\n};\r\n\r\nconst serializeFactura = (payload) => {\r\n  const data = { ...payload };\r\n  if (data.fechaEmision && typeof data.fechaEmision?.format === \"function\") {\r\n    // Incluir fecha y hora completas tal como se eligieron en el formulario\r\n    data.fechaEmision = data.fechaEmision.format(\"YYYY-MM-DDTHH:mm:ss\");\r\n  }\r\n  return data;\r\n};\r\n\r\nexport const updateFactura = async (id, payload) => {\r\n  const response = await axios.put(\r\n    `${BASE_URL}/facturas/${id}`,\r\n    serializeFactura(payload),\r\n    withUserHeaders()\r\n  );\r\n  return response.data;\r\n};\r\n\r\nexport const getFacturaById = async (id) => {\r\n  const response = await axios.get(\r\n    `${BASE_URL}/facturas/${id}`,\r\n    withUserHeaders()\r\n  );\r\n  return response.data;\r\n};\r\n\r\n\r\n","import React, { useEffect, useMemo, useState, useCallback } from \"react\";\r\nimport {\r\n  Box,\r\n  Typography,\r\n  Chip,\r\n  IconButton,\r\n  Dialog,\r\n  DialogTitle,\r\n  DialogContent,\r\n  DialogActions,\r\n  Button,\r\n  Alert,\r\n  Snackbar,\r\n} from \"@mui/material\";\r\nimport {\r\n  DataGrid,\r\n  GridToolbar,\r\n} from \"@mui/x-data-grid\";\r\nimport VisibilityIcon from \"@mui/icons-material/Visibility\";\r\nimport EditIcon from \"@mui/icons-material/Edit\";\r\nimport DeleteIcon from \"@mui/icons-material/Delete\";\r\nimport dayjs from \"dayjs\";\r\nimport FormFactura from \"../carga-general/components/forms/FormFactura\";\r\nimport {\r\n  fetchFacturas,\r\n  deleteFactura,\r\n  updateFactura,\r\n} from \"./api/facturasService\";\r\nimport { formatCurrencyAR } from \"../../utils/formatters\";\r\nimport SuccessSnackbar from \"../../shared-components/SuccessSnackbar\";\r\nimport API_CONFIG from \"../../config/api-config\";\r\n\r\nconst FACTURA_PAGE_SIZE = 250;\r\n\r\nconst FacturaListPage = () => {\r\n  const [facturas, setFacturas] = useState([]);\r\n  const [loading, setLoading] = useState(false);\r\n  const [filters, setFilters] = useState({});\r\n  const [dialogOpen, setDialogOpen] = useState(false);\r\n  const [dialogMode, setDialogMode] = useState(\"view\"); // view | edit\r\n  const [selectedFactura, setSelectedFactura] = useState(null);\r\n  const [formData, setFormData] = useState({});\r\n  const [errors, setErrors] = useState({});\r\n  const [deleteConfirmOpen, setDeleteConfirmOpen] = useState(false);\r\n  const [facturaToDelete, setFacturaToDelete] = useState(null);\r\n  const [snackbar, setSnackbar] = useState({ open: false, message: \"\", severity: \"info\" });\r\n  const [successSnackbar, setSuccessSnackbar] = useState({ open: false, message: \"\" });\r\n  const [usuarioRol, setUsuarioRol] = useState(null);\r\n\r\n  // Normaliza la fecha de emisión sin importar el formato que devuelva el backend\r\n  const parseFechaEmision = useCallback((fecha) => {\r\n    const monthTextToNumber = {\r\n      JANUARY: 1,\r\n      FEBRUARY: 2,\r\n      MARCH: 3,\r\n      APRIL: 4,\r\n      MAY: 5,\r\n      JUNE: 6,\r\n      JULY: 7,\r\n      AUGUST: 8,\r\n      SEPTEMBER: 9,\r\n      OCTOBER: 10,\r\n      NOVEMBER: 11,\r\n      DECEMBER: 12,\r\n    };\r\n    const normalizeMonth = (month) => {\r\n      if (month == null) return null;\r\n      if (typeof month === \"string\") {\r\n        const upper = month.toUpperCase();\r\n        if (monthTextToNumber[upper]) return monthTextToNumber[upper];\r\n        const parsed = parseInt(month, 10);\r\n        return Number.isNaN(parsed) ? null : parsed;\r\n      }\r\n      return month;\r\n    };\r\n\r\n    if (!fecha) return null;\r\n    if (dayjs.isDayjs(fecha)) return fecha;\r\n\r\n    if (Array.isArray(fecha)) {\r\n      const [year, month = 1, day = 1, hour = 0, minute = 0, second = 0] = fecha;\r\n      const normalizedMonth = normalizeMonth(month) ?? 1;\r\n      const parsedFromArray = dayjs({\r\n        year,\r\n        month: normalizedMonth - 1,\r\n        day,\r\n        hour,\r\n        minute,\r\n        second,\r\n      });\r\n      if (parsedFromArray.isValid()) return parsedFromArray;\r\n    }\r\n\r\n    if (typeof fecha === \"object\") {\r\n      const { date, time, year, month, monthValue, day, dayOfMonth, dayOfYear, hour, minute, second } = fecha;\r\n      const dateObj = date || {};\r\n      const timeObj = time || {};\r\n      const finalMonth = normalizeMonth(month ?? monthValue ?? dateObj.month ?? dateObj.monthValue) ?? 1;\r\n      const parsedFromObject = dayjs({\r\n        year: year ?? dateObj.year,\r\n        month: finalMonth - 1,\r\n        day: day ?? dayOfMonth ?? dayOfYear ?? dateObj.day ?? dateObj.dayOfMonth ?? dateObj.dayOfYear,\r\n        hour: hour ?? timeObj.hour ?? 0,\r\n        minute: minute ?? timeObj.minute ?? 0,\r\n        second: second ?? timeObj.second ?? 0,\r\n      });\r\n      if (parsedFromObject.isValid()) return parsedFromObject;\r\n    }\r\n\r\n    const parsed = dayjs(fecha);\r\n    return parsed.isValid() ? parsed : null;\r\n  }, []);\r\n\r\n  const formatFechaEmision = useCallback(\r\n    (fecha) => {\r\n      const parsed = parseFechaEmision(fecha);\r\n      return parsed ? parsed.format(\"DD/MM/YYYY\") : \"-\";\r\n    },\r\n    [parseFechaEmision]\r\n  );\r\n\r\n  const loadFacturas = useCallback(async () => {\r\n    setLoading(true);\r\n    try {\r\n      console.debug(\"[FacturaListPage] Fetching facturas with filters:\", filters);\r\n      const data = await fetchFacturas({\r\n        page: 0,\r\n        size: FACTURA_PAGE_SIZE,\r\n        ...filters,\r\n      });\r\n      console.debug(\"[FacturaListPage] Respuesta facturas:\", data);\r\n      setFacturas(\r\n        (data.content ?? []).map((f) => ({\r\n          ...f,\r\n          fechaEmision: parseFechaEmision(f.fechaEmision),\r\n        }))\r\n      );\r\n    } catch (error) {\r\n      console.error(\"Error cargando facturas\", error);\r\n      setSnackbar({\r\n        open: true,\r\n        severity: \"error\",\r\n        message: error?.response?.data?.mensaje || error?.message || \"No pudimos cargar las facturas.\",\r\n      });\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  }, [filters, parseFechaEmision]);\r\n\r\n  const cargarRolUsuario = useCallback(() => {\r\n    const sub = sessionStorage.getItem(\"sub\");\r\n    if (!sub) return;\r\n    fetch(`${API_CONFIG.ADMINISTRACION}/api/usuarios/perfil`, {\r\n      headers: { \"X-Usuario-Sub\": sub },\r\n    })\r\n      .then((res) => res.json())\r\n      .then((data) => setUsuarioRol(data.rol))\r\n      .catch((err) => console.error(\"Error cargando rol:\", err));\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    loadFacturas();\r\n    cargarRolUsuario();\r\n  }, [loadFacturas, cargarRolUsuario]);\r\n\r\n  const requiredFields = useMemo(\r\n    () => [\r\n      \"numeroDocumento\",\r\n      \"versionDocumento\",\r\n      \"tipoFactura\",\r\n      \"fechaEmision\",\r\n      \"montoTotal\",\r\n      \"moneda\",\r\n      \"vendedorNombre\",\r\n      \"compradorNombre\",\r\n    ],\r\n    []\r\n  );\r\n\r\n  const initialState = useMemo(\r\n    () => ({\r\n      pagination: { paginationModel: { pageSize: FACTURA_PAGE_SIZE } },\r\n      sorting: { sortModel: [{ field: \"fechaEmision\", sort: \"desc\" }] },\r\n    }),\r\n    []\r\n  );\r\n\r\n  const validarFormulario = () => {\r\n    const newErrors = {};\r\n    requiredFields.forEach((field) => {\r\n      const value = formData[field];\r\n      if (\r\n        value === undefined ||\r\n        value === null ||\r\n        value === \"\" ||\r\n        (value?.isValid && typeof value.isValid === \"function\" && !value.isValid())\r\n      ) {\r\n        newErrors[field] = \"Campo obligatorio\";\r\n      }\r\n    });\r\n    setErrors(newErrors);\r\n    return Object.keys(newErrors).length === 0;\r\n  };\r\n\r\n  const handleVerFactura = (factura) => {\r\n    setSelectedFactura(factura);\r\n    setFormData({\r\n      ...factura,\r\n      fechaEmision: parseFechaEmision(factura.fechaEmision),\r\n    });\r\n    setDialogMode(\"view\");\r\n    setDialogOpen(true);\r\n  };\r\n\r\n  const handleEditarFactura = (factura) => {\r\n    setSelectedFactura(factura);\r\n    setFormData({\r\n      ...factura,\r\n      fechaEmision: parseFechaEmision(factura.fechaEmision),\r\n    });\r\n    setDialogMode(\"edit\");\r\n    setDialogOpen(true);\r\n  };\r\n\r\n  const handleGuardarCambios = async () => {\r\n    if (!selectedFactura) return;\r\n    if (!validarFormulario()) {\r\n      setSnackbar({\r\n        open: true,\r\n        severity: \"warning\",\r\n        message: \"Por favor completa todos los campos obligatorios.\",\r\n      });\r\n      return;\r\n    }\r\n\r\n    try {\r\n      const facturaId = selectedFactura.id ?? selectedFactura.idDocumento;\r\n      if (!facturaId) {\r\n        throw new Error(\"La factura seleccionada no tiene identificador.\");\r\n      }\r\n      await updateFactura(facturaId, formData);\r\n      setSuccessSnackbar({ open: true, message: \"Factura actualizada correctamente.\" });\r\n      setDialogOpen(false);\r\n      loadFacturas();\r\n    } catch (error) {\r\n      console.error(\"Error actualizando factura\", error);\r\n      setSnackbar({\r\n        open: true,\r\n        severity: \"error\",\r\n        message: error?.response?.data?.mensaje || error?.message || \"No pudimos actualizar la factura.\",\r\n      });\r\n    }\r\n  };\r\n\r\n  const handleEliminarFactura = async () => {\r\n    if (!facturaToDelete) return;\r\n    try {\r\n      const facturaId = facturaToDelete.id ?? facturaToDelete.idDocumento;\r\n      if (!facturaId) {\r\n        throw new Error(\"La factura seleccionada no tiene identificador.\");\r\n      }\r\n      await deleteFactura(facturaId);\r\n      setSuccessSnackbar({ open: true, message: \"Factura eliminada correctamente.\" });\r\n      setDeleteConfirmOpen(false);\r\n      setFacturaToDelete(null);\r\n      loadFacturas();\r\n    } catch (error) {\r\n      console.error(\"Error al eliminar factura\", error);\r\n      setSnackbar({\r\n        open: true,\r\n        severity: \"error\",\r\n        message: error?.response?.data?.mensaje || error?.message || \"No pudimos eliminar la factura.\",\r\n      });\r\n    }\r\n  };\r\n\r\n  const handleCloseDialog = () => {\r\n    setDialogOpen(false);\r\n    setSelectedFactura(null);\r\n    setErrors({});\r\n  };\r\n\r\n  const handleCloseSnackbar = (_event, reason) => {\r\n    if (reason === \"clickaway\") return;\r\n    setSnackbar({ open: false, message: \"\", severity: \"info\" });\r\n  };\r\n\r\n  const handleCloseSuccessSnackbar = () => {\r\n    setSuccessSnackbar({ open: false, message: \"\" });\r\n  };\r\n\r\n  const columns = useMemo(\r\n    () => [\r\n      {\r\n        field: \"numeroDocumento\",\r\n        headerName: \"Número\",\r\n        flex: 1,\r\n        minWidth: 140,\r\n      },\r\n      {\r\n        field: \"tipoFactura\",\r\n        headerName: \"Tipo\",\r\n        flex: 0.6,\r\n        minWidth: 100,\r\n        renderCell: (params) => (\r\n          <Chip\r\n            label={params.value ?? \"-\"}\r\n            size=\"small\"\r\n            color=\"primary\"\r\n            sx={{ fontWeight: 600 }}\r\n          />\r\n        ),\r\n      },\r\n      {\r\n        field: \"fechaEmision\",\r\n        headerName: \"Fecha emisión\",\r\n        flex: 0.7,\r\n        minWidth: 160,\r\n        renderCell: (params) => (\r\n          <Typography variant=\"body2\">\r\n            {formatFechaEmision(params?.row?.fechaEmision)}\r\n          </Typography>\r\n        ),\r\n        sortComparator: (a, b, cellParamsA, cellParamsB) => {\r\n          const aDate = parseFechaEmision(cellParamsA?.row?.fechaEmision);\r\n          const bDate = parseFechaEmision(cellParamsB?.row?.fechaEmision);\r\n          const aValue = aDate ? aDate.valueOf() : -Infinity;\r\n          const bValue = bDate ? bDate.valueOf() : -Infinity;\r\n          return aValue - bValue;\r\n        },\r\n      },\r\n      {\r\n        field: \"montoTotal\",\r\n        headerName: \"Monto\",\r\n        flex: 1,\r\n        minWidth: 140,\r\n        renderCell: (params) =>\r\n          params.row.montoTotal != null\r\n            ? formatCurrencyAR(params.row.montoTotal)\r\n            : \"-\",\r\n      },\r\n      {\r\n        field: \"moneda\",\r\n        headerName: \"Moneda\",\r\n        flex: 0.5,\r\n        minWidth: 90,\r\n      },\r\n      {\r\n        field: \"estadoPago\",\r\n        headerName: \"Estado de pago\",\r\n        flex: 0.8,\r\n        minWidth: 140,\r\n        hide: true,\r\n        renderCell: (params) => (\r\n          <Chip\r\n            label={params.value ?? \"NO_PAGADO\"}\r\n            size=\"small\"\r\n            color={\r\n              params.value === \"PAGADO\"\r\n                ? \"success\"\r\n                : params.value === \"PARCIALMENTE_PAGADO\"\r\n                ? \"warning\"\r\n                : \"default\"\r\n            }\r\n          />\r\n        ),\r\n      },\r\n      {\r\n        field: \"vendedorNombre\",\r\n        headerName: \"Vendedor\",\r\n        flex: 1.2,\r\n        minWidth: 160,\r\n        renderCell: (params) => (\r\n          <Box>\r\n            <Typography variant=\"body2\">{params.value ?? \"-\"}</Typography>\r\n          </Box>\r\n        ),\r\n      },\r\n      {\r\n        field: \"compradorNombre\",\r\n        headerName: \"Comprador\",\r\n        flex: 1.2,\r\n        minWidth: 160,\r\n        renderCell: (params) => (\r\n          <Box>\r\n            <Typography variant=\"body2\">{params.value ?? \"-\"}</Typography>\r\n          </Box>\r\n        ),\r\n      },\r\n      {\r\n        field: \"acciones\",\r\n        headerName: \"Acciones\",\r\n        flex: 0.7,\r\n        minWidth: 140,\r\n        sortable: false,\r\n        filterable: false,\r\n        renderCell: (params) => {\r\n          const isAdmin = (usuarioRol || \"\").toUpperCase().includes(\"ADMIN\");\r\n          return (\r\n            <Box sx={{ display: \"flex\", gap: 0.5 }}>\r\n              <IconButton\r\n                size=\"small\"\r\n                color=\"info\"\r\n                onClick={() => handleVerFactura(params.row)}\r\n                title=\"Ver detalles\"\r\n              >\r\n                <VisibilityIcon fontSize=\"small\" />\r\n              </IconButton>\r\n              {isAdmin && (\r\n                <>\r\n                  <IconButton\r\n                    size=\"small\"\r\n                    color=\"primary\"\r\n                    onClick={() => handleEditarFactura(params.row)}\r\n                    title=\"Editar\"\r\n                  >\r\n                    <EditIcon fontSize=\"small\" />\r\n                  </IconButton>\r\n                  <IconButton\r\n                    size=\"small\"\r\n                    color=\"error\"\r\n                    onClick={() => {\r\n                      setFacturaToDelete(params.row);\r\n                      setDeleteConfirmOpen(true);\r\n                    }}\r\n                    title=\"Eliminar\"\r\n                  >\r\n                    <DeleteIcon fontSize=\"small\" />\r\n                  </IconButton>\r\n                </>\r\n              )}\r\n            </Box>\r\n          );\r\n        },\r\n      },\r\n    ],\r\n    [usuarioRol, formatFechaEmision, parseFechaEmision]\r\n  );\r\n\r\n  return (\r\n    <Box sx={{ width: \"100%\", p: 3 }}>\r\n      <Typography\r\n        variant=\"h4\"\r\n        component=\"h1\"\r\n        gutterBottom\r\n        sx={{ mb: 3, fontWeight: 600, color: 'text.primary' }}\r\n      >\r\n        Facturas\r\n      </Typography>\r\n\r\n      <Box sx={{ height: 700, width: \"100%\", mt: 2 }}>\r\n        <DataGrid\r\n          rows={facturas}\r\n          columns={columns}\r\n          loading={loading}\r\n          getRowId={(row) =>\r\n            row.id ?? row.idDocumento ?? `${row.numeroDocumento}-${row.fechaEmision}`\r\n          }\r\n          pageSizeOptions={[25, 50, 100, 250]}\r\n          initialState={{\r\n            pagination: { paginationModel: { pageSize: 25 } },\r\n            sorting: { sortModel: [{ field: \"fechaEmision\", sort: \"desc\" }] },\r\n            columns: {\r\n              columnVisibilityModel: {\r\n                estadoPago: false,\r\n              },\r\n            },\r\n          }}\r\n          slots={{ toolbar: GridToolbar }}\r\n          slotProps={{\r\n            toolbar: {\r\n              showQuickFilter: true,\r\n              quickFilterProps: { debounceMs: 500 },\r\n            },\r\n          }}\r\n          disableRowSelectionOnClick\r\n          sx={{\r\n            backgroundColor: \"rgba(255, 255, 255, 0.7)\",\r\n            \"& .MuiDataGrid-cell\": {\r\n              borderBottom: \"1px solid #e0e0e0\",\r\n              borderRight: \"1px solid #e0e0e0\",\r\n              display: \"flex\",\r\n              alignItems: \"center\",\r\n            },\r\n            \"& .MuiDataGrid-cell:last-of-type\": {\r\n              borderRight: \"none\",\r\n            },\r\n            \"& .MuiDataGrid-columnHeaders\": {\r\n              backgroundColor: \"#f5f5f5\",\r\n              fontSize: \"0.95rem\",\r\n              borderTop: \"1px solid #e0e0e0\",\r\n              borderBottom: \"1px solid #e0e0e0\",\r\n            },\r\n            \"& .MuiDataGrid-columnHeader\": {\r\n              borderLeft: \"1px solid #e0e0e0\",\r\n              borderRight: \"1px solid #e0e0e0\",\r\n              display: \"flex\",\r\n              alignItems: \"center\",\r\n              justifyContent: \"space-between\",\r\n              boxSizing: \"border-box\",\r\n            },\r\n            \"& .MuiDataGrid-columnHeader:first-of-type\": {\r\n              borderLeft: \"none\",\r\n            },\r\n            \"& .MuiDataGrid-columnHeader:last-of-type\": {\r\n              borderRight: \"none\",\r\n            },\r\n            \"& .MuiDataGrid-columnHeaderTitle\": {\r\n              fontWeight: 700,\r\n            },\r\n            \"& .MuiDataGrid-columnSeparator\": {\r\n              opacity: 1,\r\n              visibility: \"visible\",\r\n              color: \"#d5d5d5\",\r\n            },\r\n            \"& .MuiDataGrid-row:hover\": {\r\n              backgroundColor: \"rgba(0, 0, 0, 0.02)\",\r\n            },\r\n            \"& .MuiDataGrid-sortIcon\": {\r\n              display: \"none\",\r\n            },\r\n            \"& .MuiDataGrid-columnHeaderTitleContainer\": {\r\n              paddingRight: \"8px\",\r\n              display: \"flex\",\r\n              alignItems: \"center\",\r\n            },\r\n            \"& .MuiDataGrid-columnHeader .MuiDataGrid-iconButtonContainer\": {\r\n              width: \"24px\",\r\n              height: \"24px\",\r\n              display: \"flex\",\r\n              alignItems: \"center\",\r\n              justifyContent: \"center\",\r\n            },\r\n            \"& .MuiDataGrid-columnHeader .MuiIconButton-root\": {\r\n              padding: \"4px\",\r\n              fontSize: \"16px\",\r\n              display: \"flex\",\r\n              alignItems: \"center\",\r\n              justifyContent: \"center\",\r\n            },\r\n            \"& .MuiDataGrid-menuIcon\": {\r\n              fontSize: \"16px\",\r\n              display: \"block !important\",\r\n            },\r\n            \"& .MuiDataGrid-columnHeader .MuiDataGrid-iconButtonContainer .MuiIconButton-root:not([aria-label*='menu'])\": {\r\n              display: \"none\",\r\n            },\r\n          }}\r\n        />\r\n      </Box>\r\n\r\n      <Dialog\r\n        open={dialogOpen}\r\n        onClose={handleCloseDialog}\r\n        maxWidth=\"md\"\r\n        fullWidth\r\n      >\r\n        <DialogTitle sx={{ fontWeight: 600 }}>\r\n          {dialogMode === \"edit\" ? \"Editar factura\" : \"Detalle de factura\"}\r\n        </DialogTitle>\r\n        <DialogContent dividers>\r\n          {selectedFactura ? (\r\n            <FormFactura\r\n              formData={formData}\r\n              setFormData={setFormData}\r\n              errors={errors}\r\n              modoEdicion={dialogMode === \"edit\"}\r\n            />\r\n          ) : null}\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button onClick={handleCloseDialog} variant=\"outlined\">\r\n            {dialogMode === \"edit\" ? \"Cancelar\" : \"Cerrar\"}\r\n          </Button>\r\n          {dialogMode === \"edit\" && (\r\n            <Button onClick={handleGuardarCambios} variant=\"contained\">\r\n              Guardar cambios\r\n            </Button>\r\n          )}\r\n        </DialogActions>\r\n      </Dialog>\r\n\r\n      <Dialog\r\n        open={deleteConfirmOpen}\r\n        onClose={() => setDeleteConfirmOpen(false)}\r\n      >\r\n        <DialogTitle>Eliminar factura</DialogTitle>\r\n        <DialogContent>\r\n          <Alert severity=\"warning\" sx={{ mb: 2 }}>\r\n            ¿Seguro que querés eliminar la factura{\" \"}\r\n            <strong>{facturaToDelete?.numeroDocumento}</strong>? Esta acción no\r\n            se puede deshacer.\r\n          </Alert>\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button onClick={() => setDeleteConfirmOpen(false)}>Cancelar</Button>\r\n          <Button color=\"error\" variant=\"contained\" onClick={handleEliminarFactura}>\r\n            Eliminar\r\n          </Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n\r\n      <SuccessSnackbar\r\n        open={successSnackbar.open}\r\n        message={successSnackbar.message}\r\n        onClose={handleCloseSuccessSnackbar}\r\n      />\r\n      <Snackbar\r\n        open={snackbar.open}\r\n        autoHideDuration={4000}\r\n        onClose={handleCloseSnackbar}\r\n        anchorOrigin={{ vertical: \"bottom\", horizontal: \"center\" }}\r\n      >\r\n        <Alert\r\n          onClose={handleCloseSnackbar}\r\n          severity={snackbar.severity}\r\n          variant=\"filled\"\r\n          sx={{ width: \"100%\" }}\r\n        >\r\n          {snackbar.message}\r\n        </Alert>\r\n      </Snackbar>\r\n    </Box>\r\n  );\r\n};\r\n\r\nexport default FacturaListPage;\r\n\r\n\r\n","import React, { useEffect, useState } from \"react\";\r\nimport {\r\n  Box,\r\n  FormLabel,\r\n  FormHelperText,\r\n  OutlinedInput,\r\n} from \"@mui/material\";\r\nimport dayjs from \"dayjs\";\r\nimport CustomSelect from \"../../../../shared-components/CustomSelect\";\r\nimport CustomDateTimePicker from \"../../../../shared-components/CustomDateTimePicker\";\r\nimport CustomSingleAutoComplete from \"../../../../shared-components/CustomSingleAutoComplete\";\r\nimport { TODAS_LAS_CATEGORIAS } from \"../../../../shared-components/categorias\";\r\nimport { sessionService } from \"../../../../shared-services/sessionService\";\r\n\r\nexport default function FormFactura({ formData, setFormData, errors = {}, modoEdicion = true }) {\r\n  const [datosEmpresa, setDatosEmpresa] = useState(null);\r\n\r\n  // Establecer fecha de hoy por defecto si no hay fecha de emisión\r\n  useEffect(() => {\r\n    if (!formData.fechaEmision && modoEdicion) {\r\n      const hoy = dayjs();\r\n      setFormData((p) => ({ ...p, fechaEmision: hoy }));\r\n    }\r\n  }, [formData.fechaEmision, setFormData, modoEdicion]);\r\n\r\n  // Cargar datos de la empresa del usuario desde la sesión (diferido)\r\n  useEffect(() => {\r\n    // Pequeño delay para evitar bloquear la navegación\r\n    const timer = setTimeout(() => {\r\n      console.log('Cargando datos de la empresa desde sesión...');\r\n      const empresa = sessionService.getEmpresa();\r\n      console.log('Datos de empresa obtenidos:', empresa);\r\n      if (empresa) {\r\n        setDatosEmpresa(empresa);\r\n      } else {\r\n        console.log('No hay datos de empresa en la sesión');\r\n      }\r\n    }, 100);\r\n\r\n    return () => clearTimeout(timer);\r\n  }, []);\r\n\r\n  // Función para autocompletar datos según la versión\r\n  const autocompletarDatos = (version) => {\r\n    console.log('Autocompletando datos para versión:', version);\r\n    console.log('Datos de empresa disponibles:', datosEmpresa);\r\n    \r\n    if (!datosEmpresa) {\r\n      console.log('No hay datos de empresa disponibles');\r\n      return;\r\n    }\r\n\r\n    if (version === \"Original\") {\r\n      // Para Original: empresa va en comprador, limpiar vendedor\r\n      console.log('Autocompletando datos del comprador y limpiando vendedor');\r\n      setFormData((p) => (modoEdicion ? {\r\n        ...p,\r\n        // Autocompletar comprador\r\n        compradorNombre: datosEmpresa.nombre || \"\",\r\n        compradorCuit: datosEmpresa.cuit || \"\",\r\n        compradorCondicionIVA: datosEmpresa.condicionIVA || \"\",\r\n        compradorDomicilio: datosEmpresa.domicilio || \"\",\r\n        // Limpiar vendedor\r\n        vendedorNombre: \"\",\r\n        vendedorCuit: \"\",\r\n        vendedorCondicionIVA: \"\",\r\n        vendedorDomicilio: \"\"\r\n      } : p));\r\n    } else if (version === \"Duplicado\") {\r\n      // Para Duplicado: empresa va en vendedor, limpiar comprador\r\n      console.log('Autocompletando datos del vendedor y limpiando comprador');\r\n      setFormData((p) => (modoEdicion ? {\r\n        ...p,\r\n        // Limpiar comprador\r\n        compradorNombre: \"\",\r\n        compradorCuit: \"\",\r\n        compradorCondicionIVA: \"\",\r\n        compradorDomicilio: \"\",\r\n        // Autocompletar vendedor\r\n        vendedorNombre: datosEmpresa.nombre || \"\",\r\n        vendedorCuit: datosEmpresa.cuit || \"\",\r\n        vendedorCondicionIVA: datosEmpresa.condicionIVA || \"\",\r\n        vendedorDomicilio: datosEmpresa.domicilio || \"\"\r\n      } : p));\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Box\r\n      sx={{ display: \"flex\", flexDirection: \"column\", gap: 2, width: \"100%\" }}\r\n    >\r\n      {/* 1️⃣ Número Documento */}\r\n      <Box>\r\n        <FormLabel>Número documento *</FormLabel>\r\n        <OutlinedInput\r\n          value={formData.numeroDocumento || \"\"}\r\n          onChange={(e) => {\r\n            if (!modoEdicion) return;\r\n            setFormData((p) => ({ ...p, numeroDocumento: e.target.value }));\r\n          }}\r\n          size=\"small\"\r\n          fullWidth\r\n          error={!!errors.numeroDocumento}\r\n          disabled={!modoEdicion}\r\n        />\r\n        {errors.numeroDocumento && (\r\n          <FormHelperText error>{errors.numeroDocumento}</FormHelperText>\r\n        )}\r\n      </Box>\r\n\r\n      {/* 2️⃣ Versión + Tipo factura + Fecha emisión */}\r\n      <Box sx={{ display: \"flex\", gap: 2, width: \"100%\" }}>\r\n        <Box sx={{ flex: 1 }}>\r\n          <FormLabel>Versión *</FormLabel>\r\n          <CustomSelect\r\n            value={formData.versionDocumento || \"\"}\r\n            onChange={(valor) => {\r\n              if (!modoEdicion) return;\r\n              setFormData((p) => ({ ...p, versionDocumento: valor }));\r\n              autocompletarDatos(valor);\r\n            }}\r\n            options={[\"Original\", \"Duplicado\"]}\r\n            width=\"100%\"\r\n            error={!!errors.versionDocumento}\r\n            disabled={!modoEdicion}\r\n          />\r\n          {errors.versionDocumento && (\r\n            <FormHelperText error>{errors.versionDocumento}</FormHelperText>\r\n          )}\r\n        </Box>\r\n        <Box sx={{ flex: 1 }}>\r\n          <FormLabel>Tipo factura *</FormLabel>\r\n          <CustomSelect\r\n            value={formData.tipoFactura || \"\"}\r\n            onChange={(valor) => {\r\n              if (!modoEdicion) return;\r\n              setFormData((p) => ({ ...p, tipoFactura: valor }))\r\n            }}\r\n            options={[\"A\", \"B\", \"C\"]}\r\n            width=\"100%\"\r\n            error={!!errors.tipoFactura}\r\n            disabled={!modoEdicion}\r\n          />\r\n          {errors.tipoFactura && (\r\n            <FormHelperText error>{errors.tipoFactura}</FormHelperText>\r\n          )}\r\n        </Box>\r\n        <Box sx={{ flex: 1 }}>\r\n          <FormLabel>Fecha emisión *</FormLabel>\r\n          <CustomDateTimePicker\r\n            value={formData.fechaEmision ? dayjs(formData.fechaEmision) : null}\r\n            onChange={(fecha) => {\r\n              if (!modoEdicion) return;\r\n              setFormData((p) => ({ ...p, fechaEmision: fecha }));\r\n            }}\r\n            error={!!errors.fechaEmision}\r\n            disabled={!modoEdicion}\r\n          />\r\n          {errors.fechaEmision && (\r\n            <FormHelperText error>{errors.fechaEmision}</FormHelperText>\r\n          )}\r\n        </Box>\r\n      </Box>\r\n\r\n      {/* 3️⃣ Monto Total + Moneda */}\r\n      <Box sx={{ display: \"flex\", gap: 2, width: \"100%\" }}>\r\n        <Box sx={{ flex: 1 }}>\r\n          <FormLabel>Monto total *</FormLabel>\r\n          <OutlinedInput\r\n            type=\"number\"\r\n            value={formData.montoTotal || \"\"}\r\n            onChange={(e) => {\r\n              if (!modoEdicion) return;\r\n              setFormData((p) => ({ ...p, montoTotal: e.target.value }));\r\n            }}\r\n            size=\"small\"\r\n            fullWidth\r\n            error={!!errors.montoTotal}\r\n            disabled={!modoEdicion}\r\n          />\r\n          {errors.montoTotal && (\r\n            <FormHelperText error>{errors.montoTotal}</FormHelperText>\r\n          )}\r\n        </Box>\r\n        <Box sx={{ flex: 1 }}>\r\n          <FormLabel>Moneda</FormLabel>\r\n          <OutlinedInput\r\n            value={formData.moneda || \"ARS\"}\r\n            size=\"small\"\r\n            fullWidth\r\n            disabled\r\n          />\r\n        </Box>\r\n      </Box>\r\n\r\n      {/* 3️⃣ Categoría */}\r\n      <Box sx={{ display: \"flex\", gap: 2, width: \"100%\" }}>\r\n        <Box sx={{ flex: 1 }}>\r\n          <FormLabel>Categoría</FormLabel>\r\n          <CustomSingleAutoComplete\r\n            options={TODAS_LAS_CATEGORIAS}\r\n            value={formData.categoria || \"\"}\r\n            onChange={(valor) => {\r\n              if (!modoEdicion) return;\r\n              setFormData((p) => ({ ...p, categoria: valor }));\r\n            }}\r\n            disabled={!modoEdicion}\r\n          />\r\n        </Box>\r\n      </Box>\r\n\r\n\r\n      {/* 5️⃣ Datos Vendedor */}\r\n      <Box sx={{ display: \"flex\", gap: 2, width: \"100%\" }}>\r\n        <Box sx={{ flex: 1 }}>\r\n          <FormLabel>Nombre vendedor *</FormLabel>\r\n          <OutlinedInput\r\n            value={formData.vendedorNombre || \"\"}\r\n            onChange={(e) => {\r\n              if (!modoEdicion) return;\r\n              setFormData((p) => ({ ...p, vendedorNombre: e.target.value }));\r\n            }}\r\n            size=\"small\"\r\n            fullWidth\r\n            error={!!errors.vendedorNombre}\r\n            disabled={!modoEdicion}\r\n          />\r\n          {errors.vendedorNombre && (\r\n            <FormHelperText error>{errors.vendedorNombre}</FormHelperText>\r\n          )}\r\n        </Box>\r\n        <Box sx={{ flex: 1 }}>\r\n          <FormLabel>CUIT vendedor</FormLabel>\r\n          <OutlinedInput\r\n            value={formData.vendedorCuit || \"\"}\r\n            onChange={(e) => {\r\n              if (!modoEdicion) return;\r\n              setFormData((p) => ({ ...p, vendedorCuit: e.target.value }));\r\n            }}\r\n            size=\"small\"\r\n            fullWidth\r\n            disabled={!modoEdicion}\r\n          />\r\n        </Box>\r\n        <Box sx={{ flex: 1 }}>\r\n          <FormLabel>Condición IVA vendedor</FormLabel>\r\n          <CustomSelect\r\n            value={formData.vendedorCondicionIVA || \"\"}\r\n            onChange={(valor) => {\r\n              if (!modoEdicion) return;\r\n              setFormData((p) => ({ ...p, vendedorCondicionIVA: valor }));\r\n            }}\r\n            options={[\"Responsable Inscripto\", \"Monotributo\", \"Exento\"]}\r\n            width=\"100%\"\r\n            disabled={!modoEdicion}\r\n          />\r\n        </Box>\r\n        <Box sx={{ flex: 1 }}>\r\n          <FormLabel>Domicilio vendedor</FormLabel>\r\n          <OutlinedInput\r\n            value={formData.vendedorDomicilio || \"\"}\r\n            onChange={(e) => {\r\n              if (!modoEdicion) return;\r\n              setFormData((p) => ({ ...p, vendedorDomicilio: e.target.value }));\r\n            }}\r\n            size=\"small\"\r\n            fullWidth\r\n            disabled={!modoEdicion}\r\n          />\r\n        </Box>\r\n      </Box>\r\n\r\n      {/* 6️⃣ Datos Comprador */}\r\n      <Box sx={{ display: \"flex\", gap: 2, width: \"100%\" }}>\r\n        <Box sx={{ flex: 1 }}>\r\n          <FormLabel>Nombre comprador *</FormLabel>\r\n          <OutlinedInput\r\n            value={formData.compradorNombre || \"\"}\r\n            onChange={(e) => {\r\n              if (!modoEdicion) return;\r\n              setFormData((p) => ({ ...p, compradorNombre: e.target.value }));\r\n            }}\r\n            size=\"small\"\r\n            fullWidth\r\n            error={!!errors.compradorNombre}\r\n            disabled={!modoEdicion}\r\n          />\r\n          {errors.compradorNombre && (\r\n            <FormHelperText error>{errors.compradorNombre}</FormHelperText>\r\n          )}\r\n        </Box>\r\n        <Box sx={{ flex: 1 }}>\r\n          <FormLabel>CUIT comprador</FormLabel>\r\n          <OutlinedInput\r\n            value={formData.compradorCuit || \"\"}\r\n            onChange={(e) => {\r\n              if (!modoEdicion) return;\r\n              setFormData((p) => ({ ...p, compradorCuit: e.target.value }));\r\n            }}\r\n            size=\"small\"\r\n            fullWidth\r\n            disabled={!modoEdicion}\r\n          />\r\n        </Box>\r\n        <Box sx={{ flex: 1 }}>\r\n          <FormLabel>Condición IVA comprador</FormLabel>\r\n          <CustomSelect\r\n            value={formData.compradorCondicionIVA || \"\"}\r\n            onChange={(valor) => {\r\n              if (!modoEdicion) return;\r\n              setFormData((p) => ({ ...p, compradorCondicionIVA: valor }));\r\n            }}\r\n            options={[\"Responsable Inscripto\", \"Monotributo\", \"Exento\"]}\r\n            width=\"100%\"\r\n            disabled={!modoEdicion}\r\n          />\r\n        </Box>\r\n        <Box sx={{ flex: 1 }}>\r\n          <FormLabel>Domicilio comprador</FormLabel>\r\n          <OutlinedInput\r\n            value={formData.compradorDomicilio || \"\"}\r\n            onChange={(e) => {\r\n              if (!modoEdicion) return;\r\n              setFormData((p) => ({ ...p, compradorDomicilio: e.target.value }));\r\n            }}\r\n            size=\"small\"\r\n            fullWidth\r\n            disabled={!modoEdicion}\r\n          />\r\n        </Box>\r\n      </Box>\r\n\r\n    </Box>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport { Alert, Snackbar } from \"@mui/material\";\r\n\r\nconst SuccessSnackbar = ({ open, message, onClose }) => (\r\n  <Snackbar\r\n    open={open}\r\n    autoHideDuration={3000}\r\n    onClose={onClose}\r\n    anchorOrigin={{ vertical: \"bottom\", horizontal: \"center\" }}\r\n  >\r\n    <Alert\r\n      onClose={onClose}\r\n      severity=\"success\"\r\n      variant=\"filled\"\r\n      sx={{ width: \"100%\" }}\r\n    >\r\n      {message}\r\n    </Alert>\r\n  </Snackbar>\r\n);\r\n\r\nexport default SuccessSnackbar;\r\n","/**\r\n * Categorías unificadas para toda la aplicación\r\n * Estas categorías están sincronizadas con el backend\r\n */\r\n\r\n// Categorías de EGRESOS\r\nexport const CATEGORIAS_EGRESO = [\r\n  \"Alimentos y Bebidas\",\r\n  \"Transporte\",\r\n  \"Vivienda\",\r\n  \"Servicios Básicos\",\r\n  \"Ocio y Entretenimiento\",\r\n  \"Compras Personales\",\r\n  \"Salud\",\r\n  \"Educación\",\r\n  \"Impuestos y Tasas\",\r\n  \"Servicios Financieros\",\r\n  \"Compras de Negocio\",\r\n  \"Otros Egresos\",\r\n];\r\n\r\n// Categorías de INGRESOS\r\nexport const CATEGORIAS_INGRESO = [\r\n  \"Ventas de Productos\",\r\n  \"Prestación de Servicios\",\r\n  \"Cobranzas\",\r\n  \"Transferencias Recibidas\",\r\n  \"Inversiones y Rendimientos\",\r\n  \"Otros Ingresos\",\r\n];\r\n\r\n// Todas las categorías (para uso genérico)\r\nexport const TODAS_LAS_CATEGORIAS = [\r\n  ...CATEGORIAS_EGRESO,\r\n  ...CATEGORIAS_INGRESO,\r\n];\r\n\r\n/**\r\n * Obtiene las categorías según el tipo de registro\r\n * @param {string} tipo - 'Ingreso', 'Egreso', o null para todas\r\n * @returns {string[]} Array de categorías\r\n */\r\nexport function obtenerCategorias(tipo) {\r\n  if (!tipo) return TODAS_LAS_CATEGORIAS;\r\n  if (tipo === \"Ingreso\") return CATEGORIAS_INGRESO;\r\n  if (tipo === \"Egreso\") return CATEGORIAS_EGRESO;\r\n  return TODAS_LAS_CATEGORIAS;\r\n}\r\n","import * as React from 'react';\r\nimport dayjs from 'dayjs';\r\nimport utc from 'dayjs/plugin/utc';\r\nimport { useForkRef } from '@mui/material/utils';\r\nimport Button from '@mui/material/Button';\r\nimport CalendarTodayRoundedIcon from '@mui/icons-material/CalendarTodayRounded';\r\nimport { AdapterDayjs } from '@mui/x-date-pickers/AdapterDayjs';\r\nimport { LocalizationProvider } from '@mui/x-date-pickers/LocalizationProvider';\r\nimport { DateTimePicker } from '@mui/x-date-pickers/DateTimePicker';\r\nimport {\r\n  useParsedFormat,\r\n  usePickerContext,\r\n  useSplitFieldProps,\r\n} from '@mui/x-date-pickers';\r\n\r\ndayjs.extend(utc);\r\n\r\nfunction ButtonField(props) {\r\n  const { forwardedProps } = useSplitFieldProps(props, 'date-time');\r\n  const pickerContext = usePickerContext();\r\n  const handleRef = useForkRef(pickerContext.triggerRef, pickerContext.rootRef);\r\n  const parsedFormat = useParsedFormat();\r\n\r\n  const valueStr =\r\n    pickerContext.value == null\r\n      ? parsedFormat\r\n      : pickerContext.value.format(pickerContext.fieldFormat);\r\n\r\n  return (\r\n    <Button\r\n      {...forwardedProps}\r\n      variant=\"outlined\"\r\n      ref={handleRef}\r\n      size=\"small\"\r\n      startIcon={<CalendarTodayRoundedIcon fontSize=\"small\" />}\r\n      sx={{ minWidth: 'fit-content', width: '100%' }}\r\n      disabled={pickerContext.disabled || forwardedProps?.disabled}\r\n      onClick={() => {\r\n        if (pickerContext.disabled || forwardedProps?.disabled) return;\r\n        pickerContext.setOpen((prev) => !prev);\r\n      }}\r\n    >\r\n      {pickerContext.label ?? valueStr}\r\n    </Button>\r\n  );\r\n}\r\n\r\nexport default function CustomDateTimePicker({ value, onChange, disabled = false }) {\r\n  const handleChange = (newValue) => {\r\n    if (!onChange) return;\r\n    if (dayjs.isDayjs(newValue)) {\r\n      // Normalizamos a UTC pero conservando fecha y hora\r\n      const normalized = dayjs\r\n        .utc(newValue.format('YYYY-MM-DDTHH:mm:ss'))\r\n        .second(0)\r\n        .millisecond(0);\r\n      onChange(normalized);\r\n    } else {\r\n      onChange(newValue);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <LocalizationProvider dateAdapter={AdapterDayjs}>\r\n      <DateTimePicker\r\n        value={value ? dayjs(value) : null}\r\n        label={\r\n          value == null\r\n            ? null\r\n            : dayjs(value).format('MMM DD, YYYY HH:mm')\r\n        }\r\n        onChange={handleChange}\r\n        disabled={disabled}\r\n        slots={{ field: ButtonField }}\r\n        slotProps={{\r\n          nextIconButton: { size: 'small', disabled },\r\n          previousIconButton: { size: 'small', disabled },\r\n          field: { disabled },\r\n        }}\r\n        sx={{ width: '100%' }}\r\n      />\r\n    </LocalizationProvider>\r\n  );\r\n}\r\n"],"names":["currencyFormatterAR","Intl","NumberFormat","style","currency","minimumFractionDigits","maximumFractionDigits","formatCurrencyAR","value","fallback","arguments","length","undefined","numericValue","Number","isNaN","format","formatPercentage","fractionDigits","concat","toFixed","CustomSingleAutoComplete","_ref","options","onChange","disabled","placeholder","internalValue","setInternalValue","useState","useEffect","_jsx","Autocomplete","freeSolo","handleChange","_event","newValue","renderInput","params","TextField","_objectSpread","variant","size","CustomSelect","label","name","error","width","_jsxs","Box","sx","children","InputLabel","mb","id","Select","labelId","e","target","displayEmpty","input","OutlinedInput","MenuItem","map","opt","i","FormHelperText","BASE_URL","API_CONFIG","REGISTRO","withUserHeaders","usuarioSub","sessionStorage","getItem","Error","headers","withCredentials","updateFactura","async","payload","response","axios","put","_data$fechaEmision","data","fechaEmision","serializeFactura","FacturaListPage","facturas","setFacturas","loading","setLoading","filters","setFilters","dialogOpen","setDialogOpen","dialogMode","setDialogMode","selectedFactura","setSelectedFactura","formData","setFormData","errors","setErrors","deleteConfirmOpen","setDeleteConfirmOpen","facturaToDelete","setFacturaToDelete","snackbar","setSnackbar","open","message","severity","successSnackbar","setSuccessSnackbar","usuarioRol","setUsuarioRol","parseFechaEmision","useCallback","fecha","monthTextToNumber","JANUARY","FEBRUARY","MARCH","APRIL","MAY","JUNE","JULY","AUGUST","SEPTEMBER","OCTOBER","NOVEMBER","DECEMBER","normalizeMonth","month","upper","toUpperCase","parsed","parseInt","dayjs","Array","isArray","_normalizeMonth","year","day","hour","minute","second","normalizedMonth","parsedFromArray","isValid","_normalizeMonth2","_ref2","_ref3","_ref4","_ref5","_ref6","_ref7","_ref8","_ref9","date","time","monthValue","dayOfMonth","dayOfYear","dateObj","timeObj","finalMonth","parsedFromObject","formatFechaEmision","loadFacturas","_data$content","console","debug","page","sortBy","sortDir","fechaDesde","fechaHasta","tipoFactura","estadoPago","URLSearchParams","append","get","toString","fetchFacturas","content","f","_error$response","_error$response$data","mensaje","cargarRolUsuario","sub","fetch","ADMINISTRACION","then","res","json","rol","catch","err","requiredFields","useMemo","handleCloseDialog","pagination","paginationModel","pageSize","sorting","sortModel","field","sort","handleCloseSnackbar","reason","columns","headerName","flex","minWidth","renderCell","_params$value","Chip","color","fontWeight","_params$row","Typography","row","sortComparator","a","b","cellParamsA","cellParamsB","_cellParamsA$row","_cellParamsB$row","aDate","bDate","valueOf","Infinity","montoTotal","hide","_params$value2","_params$value3","_params$value4","sortable","filterable","isAdmin","includes","display","gap","IconButton","onClick","handleVerFactura","factura","title","VisibilityIcon","fontSize","_Fragment","handleEditarFactura","EditIcon","DeleteIcon","p","component","gutterBottom","height","mt","DataGrid","rows","getRowId","_ref0","_row$id","idDocumento","numeroDocumento","pageSizeOptions","initialState","columnVisibilityModel","slots","toolbar","GridToolbar","slotProps","showQuickFilter","quickFilterProps","debounceMs","disableRowSelectionOnClick","backgroundColor","borderBottom","borderRight","alignItems","borderTop","borderLeft","justifyContent","boxSizing","opacity","visibility","paddingRight","padding","Dialog","onClose","maxWidth","fullWidth","DialogTitle","DialogContent","dividers","FormFactura","modoEdicion","DialogActions","Button","validarFormulario","newErrors","forEach","Object","keys","_selectedFactura$id","facturaId","_error$response2","_error$response2$data","Alert","_facturaToDelete$id","delete","deleteFactura","_error$response3","_error$response3$data","SuccessSnackbar","handleCloseSuccessSnackbar","Snackbar","autoHideDuration","anchorOrigin","vertical","horizontal","datosEmpresa","setDatosEmpresa","hoy","timer","setTimeout","log","empresa","sessionService","getEmpresa","clearTimeout","flexDirection","FormLabel","versionDocumento","valor","version","compradorNombre","nombre","compradorCuit","cuit","compradorCondicionIVA","condicionIVA","compradorDomicilio","domicilio","vendedorNombre","vendedorCuit","vendedorCondicionIVA","vendedorDomicilio","CustomDateTimePicker","type","moneda","TODAS_LAS_CATEGORIAS","categoria","CATEGORIAS_EGRESO","CATEGORIAS_INGRESO","ButtonField","props","_pickerContext$label","forwardedProps","useSplitFieldProps","pickerContext","usePickerContext","handleRef","useForkRef","triggerRef","rootRef","parsedFormat","useParsedFormat","valueStr","fieldFormat","ref","startIcon","CalendarTodayRoundedIcon","setOpen","prev","LocalizationProvider","dateAdapter","AdapterDayjs","DateTimePicker","normalized","millisecond","nextIconButton","previousIconButton","utc"],"sourceRoot":""}