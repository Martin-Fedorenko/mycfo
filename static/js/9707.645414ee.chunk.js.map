{"version":3,"file":"static/js/9707.645414ee.chunk.js","mappings":"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","sources":["../node_modules/@mui/material/esm/TableContainer/tableContainerClasses.js","../node_modules/@mui/material/esm/TableContainer/TableContainer.js","shared-components/DropzoneUploader.js","../node_modules/@mui/icons-material/esm/History.js","../node_modules/@mui/icons-material/esm/Upload.js","../node_modules/@mui/icons-material/esm/FileDownload.js","consolidacion/carga-movimientos/components/CamposRequeridos.js","consolidacion/carga-movimientos/components/ResumenCarga.js","consolidacion/carga-movimientos/components/TablaErrores.js","consolidacion/carga-movimientos/components/EditableExcelCategory.js","consolidacion/carga-movimientos/components/ExcelPreviewDialog.js","consolidacion/carga-movimientos/CargaMovimientos.js","consolidacion/carga-movimientos/components/ExcelHistoryTable.js","consolidacion/carga-movimientos/ExcelManagement.js","shared-components/categorias.js"],"sourcesContent":["import generateUtilityClasses from '@mui/utils/generateUtilityClasses';\nimport generateUtilityClass from '@mui/utils/generateUtilityClass';\nexport function getTableContainerUtilityClass(slot) {\n  return generateUtilityClass('MuiTableContainer', slot);\n}\nconst tableContainerClasses = generateUtilityClasses('MuiTableContainer', ['root']);\nexport default tableContainerClasses;","'use client';\n\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport composeClasses from '@mui/utils/composeClasses';\nimport { styled } from \"../zero-styled/index.js\";\nimport { useDefaultProps } from \"../DefaultPropsProvider/index.js\";\nimport { getTableContainerUtilityClass } from \"./tableContainerClasses.js\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nconst useUtilityClasses = ownerState => {\n  const {\n    classes\n  } = ownerState;\n  const slots = {\n    root: ['root']\n  };\n  return composeClasses(slots, getTableContainerUtilityClass, classes);\n};\nconst TableContainerRoot = styled('div', {\n  name: 'MuiTableContainer',\n  slot: 'Root'\n})({\n  width: '100%',\n  overflowX: 'auto'\n});\nconst TableContainer = /*#__PURE__*/React.forwardRef(function TableContainer(inProps, ref) {\n  const props = useDefaultProps({\n    props: inProps,\n    name: 'MuiTableContainer'\n  });\n  const {\n    className,\n    component = 'div',\n    ...other\n  } = props;\n  const ownerState = {\n    ...props,\n    component\n  };\n  const classes = useUtilityClasses(ownerState);\n  return /*#__PURE__*/_jsx(TableContainerRoot, {\n    ref: ref,\n    as: component,\n    className: clsx(classes.root, className),\n    ownerState: ownerState,\n    ...other\n  });\n});\nprocess.env.NODE_ENV !== \"production\" ? TableContainer.propTypes /* remove-proptypes */ = {\n  // ┌────────────────────────────── Warning ──────────────────────────────┐\n  // │ These PropTypes are generated from the TypeScript type definitions. │\n  // │    To update them, edit the d.ts file and run `pnpm proptypes`.     │\n  // └─────────────────────────────────────────────────────────────────────┘\n  /**\n   * The content of the component, normally `Table`.\n   */\n  children: PropTypes.node,\n  /**\n   * Override or extend the styles applied to the component.\n   */\n  classes: PropTypes.object,\n  /**\n   * @ignore\n   */\n  className: PropTypes.string,\n  /**\n   * The component used for the root node.\n   * Either a string to use a HTML element or a component.\n   */\n  component: PropTypes.elementType,\n  /**\n   * The system prop that allows defining system overrides as well as additional CSS styles.\n   */\n  sx: PropTypes.oneOfType([PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.func, PropTypes.object, PropTypes.bool])), PropTypes.func, PropTypes.object])\n} : void 0;\nexport default TableContainer;","import React, { useCallback, useState, useEffect } from \"react\";\r\nimport { useDropzone } from \"react-dropzone\";\r\nimport {\r\n  Box,\r\n  Typography,\r\n  Paper,\r\n  useTheme,\r\n  IconButton,\r\n} from \"@mui/material\";\r\nimport CloudUploadIcon from \"@mui/icons-material/CloudUpload\";\r\nimport DeleteIcon from \"@mui/icons-material/Delete\";\r\n\r\nexport default function DropzoneUploader({\r\n  onFileSelected,\r\n  initialFile = null,\r\n  width = \"100%\",\r\n  height = 100,\r\n  accept\r\n}) {\r\n  const theme = useTheme();\r\n  const [file, setFile] = useState(initialFile);\r\n\r\n  const onDrop = useCallback(\r\n    (acceptedFiles) => {\r\n      if (acceptedFiles.length > 0) {\r\n        const newFile = acceptedFiles[0];\r\n        setFile(newFile);\r\n        onFileSelected?.(newFile);\r\n      }\r\n    },\r\n    [onFileSelected]\r\n  );\r\n\r\n  const { getRootProps, getInputProps, isDragActive } = useDropzone({\r\n    onDrop,\r\n    multiple: false,\r\n    accept: accept || undefined\r\n  });\r\n\r\n  const handleRemove = () => {\r\n    setFile(null);\r\n    onFileSelected?.(null);\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (initialFile) setFile(initialFile);\r\n  }, [initialFile]);\r\n\r\n  return (\r\n    <Box sx={{ width }}>\r\n      <Paper\r\n        variant=\"outlined\"\r\n        {...getRootProps()}\r\n        sx={{\r\n          width: \"100%\",\r\n          height: height,\r\n          p: 3,\r\n          display: \"flex\",\r\n          flexDirection: \"column\",\r\n          justifyContent: \"center\",\r\n          alignItems: \"center\",\r\n          textAlign: \"center\",\r\n          border: \"2px dashed\",\r\n          borderColor: isDragActive ? \"primary.main\" : \"grey.400\",\r\n          bgcolor: isDragActive ? \"grey.100\" : \"inherit\",\r\n          cursor: \"pointer\",\r\n          ...(theme.palette.mode === \"dark\" && {\r\n            borderColor: isDragActive ? \"primary.light\" : \"grey.700\",\r\n            bgcolor: isDragActive ? \"grey.900\" : \"inherit\",\r\n          }),\r\n        }}\r\n      >\r\n        <input {...getInputProps()} />\r\n        <CloudUploadIcon sx={{ fontSize: 60, mb: 1 }} color=\"action\" />\r\n        {isDragActive ? (\r\n          <Typography variant=\"body1\">Suelta el archivo aquí...</Typography>\r\n        ) : (\r\n          <Typography variant=\"body1\">\r\n            Arrastrá y soltá un archivo aquí o hacé clic para seleccionarlo\r\n          </Typography>\r\n        )}\r\n      </Paper>\r\n\r\n      {file && (\r\n        <Box\r\n          sx={{\r\n            mt: 2,\r\n            width: \"100%\",\r\n            display: \"flex\",\r\n            alignItems: \"center\",\r\n            justifyContent: \"space-between\",\r\n            p: 1.5,\r\n            border: \"1px solid\",\r\n            borderColor: \"grey.300\",\r\n            borderRadius: 1,\r\n            ...(theme.palette.mode === \"dark\" && {\r\n              borderColor: \"grey.700\",\r\n            }),\r\n          }}\r\n        >\r\n          <Typography variant=\"body2\">{file.name}</Typography>\r\n          <IconButton onClick={handleRemove} size=\"small\" color=\"error\">\r\n            <DeleteIcon />\r\n          </IconButton>\r\n        </Box>\r\n      )}\r\n    </Box>\r\n  );\r\n}\r\n","\"use client\";\n\nimport createSvgIcon from \"./utils/createSvgIcon.js\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon(/*#__PURE__*/_jsx(\"path\", {\n  d: \"M13 3c-4.97 0-9 4.03-9 9H1l3.89 3.89.07.14L9 12H6c0-3.87 3.13-7 7-7s7 3.13 7 7-3.13 7-7 7c-1.93 0-3.68-.79-4.94-2.06l-1.42 1.42C8.27 19.99 10.51 21 13 21c4.97 0 9-4.03 9-9s-4.03-9-9-9m-1 5v5l4.28 2.54.72-1.21-3.5-2.08V8z\"\n}), 'History');","\"use client\";\n\nimport createSvgIcon from \"./utils/createSvgIcon.js\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon(/*#__PURE__*/_jsx(\"path\", {\n  d: \"M5 20h14v-2H5zm0-10h4v6h6v-6h4l-7-7z\"\n}), 'Upload');","\"use client\";\n\nimport createSvgIcon from \"./utils/createSvgIcon.js\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon(/*#__PURE__*/_jsx(\"path\", {\n  d: \"M19 9h-4V3H9v6H5l7 7zM5 18v2h14v-2z\"\n}), 'FileDownload');","// src/carga-excel/components/CamposRequeridos.js\r\nimport React from \"react\";\r\nimport Box from \"@mui/material/Box\";\r\nimport {\r\n  Table,\r\n  TableBody,\r\n  TableCell,\r\n  TableContainer,\r\n  TableHead,\r\n  TableRow,\r\n  Paper,\r\n  Typography,\r\n  Button,\r\n  Stack,\r\n} from \"@mui/material\";\r\nimport FileDownloadIcon from \"@mui/icons-material/FileDownload\";\r\n\r\nfunction createData(id, fecha, descripcion, monto, medioPago) {\r\n  return { id, fecha, descripcion, monto, medioPago };\r\n}\r\n\r\nconst rows = [\r\n  createData(10001, \"2024-05-01\", \"Pago proveedor\", -15000, \"Transferencia\"),\r\n  createData(10002, \"2024-05-02\", \"Venta producto\", 22000, \"Mercado Pago\"),\r\n  createData(10003, \"2024-05-03\", \"Pago alquiler\", -35000, \"Debito automatico\"),\r\n  createData(10004, \"2024-05-04\", \"Interes bancario\", 1500, \"Deposito\"),\r\n];\r\n\r\nconst tableWrapperStyle = {\r\n  borderRadius: 0,\r\n  border: \"1px solid rgba(255, 255, 255, 0.4)\",\r\n  overflow: \"hidden\",\r\n};\r\n\r\nconst headCellStyle = {\r\n  fontWeight: 600,\r\n  border: \"1px solid #000\",\r\n};\r\n\r\nconst bodyCellStyle = {\r\n  border: \"1px solid #000\",\r\n};\r\n\r\nconst bodyRowStyle = {};\r\n\r\nconst CamposRequeridos = (props) => (\r\n  <Box sx={props.sx}>\r\n    <Stack\r\n      direction=\"row\"\r\n      justifyContent=\"space-between\"\r\n      alignItems=\"center\"\r\n      sx={{ mb: 1 }}\r\n    >\r\n      <Typography variant=\"h6\">Ejemplo de archivo esperado:</Typography>\r\n      <Button\r\n        variant=\"outlined\"\r\n        startIcon={<FileDownloadIcon />}\r\n        href=\"/plantilla-mycfo.xlsx\"\r\n        download\r\n      >\r\n        Descargar plantilla MyCFO\r\n      </Button>\r\n    </Stack>\r\n    <TableContainer component={Paper} sx={tableWrapperStyle}>\r\n      <Table\r\n        sx={{\r\n          minWidth: 650,\r\n          borderCollapse: \"collapse\",\r\n        }}\r\n        aria-label=\"tabla de ejemplo de carga\"\r\n        size=\"small\"\r\n      >\r\n        <TableHead>\r\n          <TableRow>\r\n            <TableCell sx={headCellStyle}>IdReferencia</TableCell>\r\n            <TableCell sx={headCellStyle}>Fecha</TableCell>\r\n            <TableCell sx={headCellStyle}>Descripcion</TableCell>\r\n            <TableCell sx={headCellStyle}>Monto</TableCell>\r\n            <TableCell sx={headCellStyle}>Medio de pago</TableCell>\r\n          </TableRow>\r\n        </TableHead>\r\n        <TableBody>\r\n          {rows.map((row, index) => (\r\n            <TableRow key={index} sx={bodyRowStyle}>\r\n              <TableCell sx={bodyCellStyle}>{row.id}</TableCell>\r\n              <TableCell sx={bodyCellStyle}>{row.fecha}</TableCell>\r\n              <TableCell sx={bodyCellStyle}>{row.descripcion}</TableCell>\r\n              <TableCell sx={bodyCellStyle}>{row.monto}</TableCell>\r\n              <TableCell sx={bodyCellStyle}>{row.medioPago}</TableCell>\r\n            </TableRow>\r\n          ))}\r\n        </TableBody>\r\n      </Table>\r\n    </TableContainer>\r\n  </Box>\r\n);\r\n\r\nexport default CamposRequeridos;\r\n","import React from \"react\";\r\nimport { Stack, Alert, Typography } from \"@mui/material\";\r\n\r\nconst ResumenCarga = ({ resumen }) => (\r\n  <Stack sx={{ width: \"100%\" }} spacing={2}>\r\n    <Typography variant=\"h6\" gutterBottom>\r\n      Resumen de la carga\r\n    </Typography>\r\n    <Alert severity=\"info\" variant=\"filled\" color=\"info\">\r\n      Total de filas procesadas: {resumen.total}\r\n    </Alert>\r\n    <Alert severity=\"success\" variant=\"filled\" color=\"success\">\r\n      Filas importadas correctamente: {resumen.correctos}\r\n    </Alert>\r\n    <Alert\r\n      severity={resumen.errores.length > 0 ? \"error\" : \"success\"}\r\n      variant=\"filled\"\r\n      color={resumen.errores.length > 0 ? \"error\" : \"success\"}\r\n    >\r\n      Filas con errores: {resumen.errores.length}\r\n    </Alert>\r\n  </Stack>\r\n);\r\n\r\nexport default ResumenCarga;\r\n","import React from \"react\";\r\nimport {\r\n  Table,\r\n  TableBody,\r\n  TableCell,\r\n  TableContainer,\r\n  TableHead,\r\n  TableRow,\r\n  Paper,\r\n  Typography,\r\n} from \"@mui/material\";\r\n\r\nconst TablaErrores = ({ errores }) => (\r\n  <>\r\n    <Typography variant=\"subtitle1\" sx={{ mt: 3 }}>\r\n      Detalles de errores\r\n    </Typography>\r\n    <TableContainer component={Paper} sx={{ mt: 1 }}>\r\n      <Table size=\"small\">\r\n        <TableHead>\r\n          <TableRow>\r\n            <TableCell>Fila</TableCell>\r\n            <TableCell>Error</TableCell>\r\n          </TableRow>\r\n        </TableHead>\r\n        <TableBody>\r\n          {errores.map((err, index) => (\r\n            <TableRow key={index}>\r\n              <TableCell>{err.fila}</TableCell>\r\n              <TableCell>{err.motivo}</TableCell>\r\n            </TableRow>\r\n          ))}\r\n        </TableBody>\r\n      </Table>\r\n    </TableContainer>\r\n  </>\r\n);\r\n\r\nexport default TablaErrores;\r\n","import React from \"react\";\r\nimport {\r\n  Chip,\r\n  Box,\r\n  IconButton,\r\n  Tooltip,\r\n  Autocomplete,\r\n  TextField,\r\n} from \"@mui/material\";\r\nimport EditIcon from \"@mui/icons-material/Edit\";\r\nimport CheckIcon from \"@mui/icons-material/Check\";\r\nimport CloseIcon from \"@mui/icons-material/Close\";\r\nimport { TODAS_LAS_CATEGORIAS } from \"../../../shared-components/categorias\";\r\n\r\nexport default function EditableExcelCategory({\r\n  value = \"Sin categorizar\",\r\n  onChange,\r\n  disabled = false,\r\n}) {\r\n  const [isEditing, setIsEditing] = React.useState(false);\r\n  const [editValue, setEditValue] = React.useState(value);\r\n\r\n  React.useEffect(() => {\r\n    setEditValue(value);\r\n  }, [value]);\r\n\r\n  const handleSave = () => {\r\n    // Solo guardar si la categoría seleccionada es válida y diferente\r\n    if (\r\n      editValue &&\r\n      editValue !== value &&\r\n      TODAS_LAS_CATEGORIAS.includes(editValue)\r\n    ) {\r\n      onChange?.(editValue);\r\n    }\r\n    setIsEditing(false);\r\n  };\r\n\r\n  const handleCancel = () => {\r\n    setEditValue(value);\r\n    setIsEditing(false);\r\n  };\r\n\r\n  if (isEditing) {\r\n    return (\r\n      <Box\r\n        sx={{ display: \"flex\", alignItems: \"center\", gap: 0.5, minWidth: 200 }}\r\n      >\r\n        <Autocomplete\r\n          size=\"small\"\r\n          value={editValue}\r\n          onChange={(event, newValue) => {\r\n            if (newValue) {\r\n              setEditValue(newValue);\r\n            }\r\n          }}\r\n          options={TODAS_LAS_CATEGORIAS}\r\n          autoHighlight\r\n          openOnFocus\r\n          disableClearable\r\n          sx={{\r\n            minWidth: 150,\r\n            \"& .MuiOutlinedInput-root\": {\r\n              height: 32,\r\n              fontSize: \"0.75rem\",\r\n            },\r\n          }}\r\n          renderInput={(params) => (\r\n            <TextField\r\n              {...params}\r\n              autoFocus\r\n              placeholder=\"Seleccionar categoría\"\r\n              variant=\"outlined\"\r\n            />\r\n          )}\r\n        />\r\n        <Tooltip title=\"Guardar\">\r\n          <IconButton size=\"small\" onClick={handleSave} color=\"primary\">\r\n            <CheckIcon fontSize=\"small\" />\r\n          </IconButton>\r\n        </Tooltip>\r\n        <Tooltip title=\"Cancelar\">\r\n          <IconButton size=\"small\" onClick={handleCancel} color=\"inherit\">\r\n            <CloseIcon fontSize=\"small\" />\r\n          </IconButton>\r\n        </Tooltip>\r\n      </Box>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <Box sx={{ display: \"flex\", alignItems: \"center\", gap: 0.5 }}>\r\n      <Chip\r\n        size=\"small\"\r\n        label={value}\r\n        color=\"secondary\"\r\n        variant=\"outlined\"\r\n        sx={{ minWidth: 80 }}\r\n      />\r\n      {!disabled && (\r\n        <Tooltip title=\"Editar categoría\">\r\n          <IconButton\r\n            size=\"small\"\r\n            onClick={() => setIsEditing(true)}\r\n            sx={{ opacity: 0.7, \"&:hover\": { opacity: 1 } }}\r\n          >\r\n            <EditIcon fontSize=\"small\" />\r\n          </IconButton>\r\n        </Tooltip>\r\n      )}\r\n    </Box>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport {\r\n  Dialog,\r\n  DialogTitle,\r\n  DialogContent,\r\n  DialogActions,\r\n  Button,\r\n  Stack,\r\n  Alert,\r\n  Box,\r\n  Typography,\r\n  Paper,\r\n  LinearProgress,\r\n  Divider,\r\n  Chip,\r\n  Table,\r\n  TableHead,\r\n  TableRow,\r\n  TableCell,\r\n  TableBody,\r\n  TableContainer,\r\n  Checkbox,\r\n  FormControl,\r\n  InputLabel,\r\n  Select,\r\n  MenuItem,\r\n} from \"@mui/material\";\r\nimport EditableExcelCategory from \"./EditableExcelCategory\";\r\n\r\nexport default function ExcelPreviewDialog({\r\n  open,\r\n  onClose,\r\n  previewData = [],\r\n  loading = false,\r\n  onImportSelected,\r\n  fileName = \"\",\r\n  tipoOrigen = \"\",\r\n}) {\r\n  const [selected, setSelected] = React.useState([]);\r\n  const [importing, setImporting] = React.useState(false);\r\n  const [editedCategories, setEditedCategories] = React.useState({});\r\n  const [filterDuplicados, setFilterDuplicados] = React.useState(\"todos\"); // \"todos\", \"duplicados\", \"validos\"\r\n\r\n  // Reset selection when dialog opens/closes\r\n  React.useEffect(() => {\r\n    if (open) {\r\n      setSelected([]);\r\n      setEditedCategories({});\r\n      setFilterDuplicados(\"todos\");\r\n    }\r\n  }, [open]);\r\n\r\n  // Filtrar registros según el filtro seleccionado\r\n  const registrosFiltrados = React.useMemo(() => {\r\n    switch (filterDuplicados) {\r\n      case \"duplicados\":\r\n        return previewData.filter((r) => r.esDuplicado);\r\n      case \"validos\":\r\n        return previewData.filter((r) => !r.esDuplicado);\r\n      default:\r\n        return previewData;\r\n    }\r\n  }, [previewData, filterDuplicados]);\r\n\r\n  const handleImportSelected = async () => {\r\n    if (selected.length === 0) {\r\n      return;\r\n    }\r\n\r\n    setImporting(true);\r\n    try {\r\n      const selectedRegistros = previewData\r\n        .filter((_, index) => selected.includes(index))\r\n        .map((registro, originalIndex) => {\r\n          const actualIndex = previewData.findIndex((r) => r === registro);\r\n          const editedCategory = editedCategories[actualIndex];\r\n          return {\r\n            ...registro,\r\n            categoriaSugerida: editedCategory || registro.categoriaSugerida,\r\n          };\r\n        });\r\n\r\n      await onImportSelected?.(selectedRegistros);\r\n      setSelected([]);\r\n      setEditedCategories({});\r\n      onClose?.();\r\n    } catch (error) {\r\n      console.error(\"Error importing selected registros:\", error);\r\n    } finally {\r\n      setImporting(false);\r\n    }\r\n  };\r\n\r\n  const handleSelectAll = () => {\r\n    if (selected.length === registrosFiltrados.length) {\r\n      setSelected([]);\r\n    } else {\r\n      // Mapear índices filtrados a índices originales\r\n      const indicesOriginales = registrosFiltrados.map((registro) =>\r\n        previewData.findIndex((r) => r === registro)\r\n      );\r\n      setSelected(indicesOriginales);\r\n    }\r\n  };\r\n\r\n  const toggleOne = (index) => {\r\n    if (selected.includes(index)) {\r\n      setSelected(selected.filter((s) => s !== index));\r\n    } else {\r\n      setSelected([...selected, index]);\r\n    }\r\n  };\r\n\r\n  const handleCategoryChange = (index, newCategory) => {\r\n    setEditedCategories((prev) => ({\r\n      ...prev,\r\n      [index]: newCategory,\r\n    }));\r\n  };\r\n\r\n  const formatAmount = (amount, isEgreso = false) => {\r\n    if (amount == null) return \"—\";\r\n    const displayAmount = isEgreso && amount > 0 ? -amount : amount;\r\n    return new Intl.NumberFormat(\"es-AR\", {\r\n      style: \"currency\",\r\n      currency: \"ARS\",\r\n    }).format(displayAmount);\r\n  };\r\n\r\n  const formatDate = (date) => {\r\n    if (!date) return \"\";\r\n    return new Date(date).toLocaleDateString(\"es-AR\");\r\n  };\r\n\r\n  return (\r\n    <Dialog\r\n      open={open}\r\n      onClose={onClose}\r\n      maxWidth=\"lg\"\r\n      fullWidth\r\n      PaperProps={{\r\n        sx: { borderRadius: 2, minHeight: \"70vh\" },\r\n      }}\r\n    >\r\n      <DialogTitle>\r\n        <Stack direction=\"row\" alignItems=\"center\" spacing={2}>\r\n          <Typography variant=\"h6\">Vista Previa - {fileName}</Typography>\r\n          <Chip\r\n            label={tipoOrigen.toUpperCase()}\r\n            size=\"small\"\r\n            color=\"primary\"\r\n            variant=\"outlined\"\r\n          />\r\n        </Stack>\r\n      </DialogTitle>\r\n\r\n      <DialogContent>\r\n        <Stack spacing={3}>\r\n          {loading && <LinearProgress />}\r\n\r\n          {previewData.length > 0 && (\r\n            <>\r\n              {(() => {\r\n                const duplicadosEnBD = previewData.filter(\r\n                  (r) =>\r\n                    r.esDuplicado &&\r\n                    r.motivoDuplicado?.includes(\"base de datos\")\r\n                ).length;\r\n                const duplicadosEnExcel = previewData.filter(\r\n                  (r) =>\r\n                    r.esDuplicado &&\r\n                    !r.motivoDuplicado?.includes(\"base de datos\")\r\n                ).length;\r\n\r\n                if (duplicadosEnBD > 0 || duplicadosEnExcel > 0) {\r\n                  return (\r\n                    <Alert severity=\"warning\">\r\n                      <Typography variant=\"body2\">\r\n                        <strong>Duplicados detectados:</strong>\r\n                        {duplicadosEnBD > 0 &&\r\n                          ` ${duplicadosEnBD} movimientos ya se han cargado anteriormente.`}\r\n                        {duplicadosEnExcel > 0 &&\r\n                          ` ${duplicadosEnExcel} movimientos duplicados dentro del Excel.`}\r\n                        <br />\r\n                      </Typography>\r\n                    </Alert>\r\n                  );\r\n                }\r\n                return null;\r\n              })()}\r\n\r\n              {/* Filtros de duplicados */}\r\n              <Box\r\n                sx={{\r\n                  display: \"flex\",\r\n                  justifyContent: \"space-between\",\r\n                  alignItems: \"center\",\r\n                }}\r\n              >\r\n                <FormControl size=\"small\" sx={{ minWidth: 200 }}>\r\n                  <InputLabel>Filtrar movimientos</InputLabel>\r\n                  <Select\r\n                    value={filterDuplicados}\r\n                    label=\"Filtrar movimientos\"\r\n                    onChange={(e) => setFilterDuplicados(e.target.value)}\r\n                  >\r\n                    <MenuItem value=\"todos\">\r\n                      Todos ({previewData.length})\r\n                    </MenuItem>\r\n                    <MenuItem value=\"validos\">\r\n                      Válidos (\r\n                      {previewData.filter((r) => !r.esDuplicado).length})\r\n                    </MenuItem>\r\n                    <MenuItem value=\"duplicados\">\r\n                      Duplicados (\r\n                      {previewData.filter((r) => r.esDuplicado).length})\r\n                    </MenuItem>\r\n                  </Select>\r\n                </FormControl>\r\n\r\n                <Typography variant=\"body2\" color=\"text.secondary\">\r\n                  Mostrando {registrosFiltrados.length} de {previewData.length}{\" \"}\r\n                  movimientos\r\n                </Typography>\r\n              </Box>\r\n\r\n              <Paper variant=\"outlined\" sx={{ borderRadius: 2 }}>\r\n                <TableContainer sx={{ borderRadius: 2 }}>\r\n                  <Table size=\"small\" stickyHeader>\r\n                    <TableHead>\r\n                      <TableRow>\r\n                        <TableCell padding=\"checkbox\">\r\n                          <Checkbox\r\n                            checked={\r\n                              selected.length === registrosFiltrados.length &&\r\n                              registrosFiltrados.length > 0\r\n                            }\r\n                            indeterminate={\r\n                              selected.length > 0 &&\r\n                              selected.length < registrosFiltrados.length\r\n                            }\r\n                            onChange={handleSelectAll}\r\n                            inputProps={{ \"aria-label\": \"Seleccionar todos\" }}\r\n                          />\r\n                        </TableCell>\r\n                        <TableCell sx={{ fontWeight: 600 }}>Tipo</TableCell>\r\n                        <TableCell sx={{ fontWeight: 600 }}>\r\n                          Monto Total\r\n                        </TableCell>\r\n                        <TableCell sx={{ fontWeight: 600 }}>Fecha</TableCell>\r\n                        <TableCell sx={{ fontWeight: 600 }}>\r\n                          Descripción\r\n                        </TableCell>\r\n                        <TableCell sx={{ fontWeight: 600 }}>\r\n                          Categoría\r\n                        </TableCell>\r\n                        <TableCell sx={{ fontWeight: 600 }}>Estado</TableCell>\r\n                      </TableRow>\r\n                    </TableHead>\r\n\r\n                    <TableBody>\r\n                      {registrosFiltrados.length === 0 && !loading && (\r\n                        <TableRow>\r\n                          <TableCell colSpan={7}>\r\n                            <Box\r\n                              sx={{\r\n                                p: 3,\r\n                                textAlign: \"center\",\r\n                                color: \"text.secondary\",\r\n                              }}\r\n                            >\r\n                              No hay movimientos para mostrar.\r\n                            </Box>\r\n                          </TableCell>\r\n                        </TableRow>\r\n                      )}\r\n\r\n                      {registrosFiltrados.map((registro, indexOriginal) => {\r\n                        const index = previewData.findIndex(\r\n                          (r) => r === registro\r\n                        );\r\n                        const fecha = formatDate(registro.fechaEmision);\r\n                        const currentCategory =\r\n                          editedCategories[index] || registro.categoriaSugerida;\r\n\r\n                        return (\r\n                          <TableRow\r\n                            key={index}\r\n                            hover\r\n                            selected={selected.includes(index)}\r\n                            sx={{\r\n                              \"&.Mui-selected\": {\r\n                                backgroundColor: (t) =>\r\n                                  t.palette.action.selected,\r\n                              },\r\n                              \"&:hover\": {\r\n                                backgroundColor: (t) => t.palette.action.hover,\r\n                              },\r\n                            }}\r\n                          >\r\n                            <TableCell padding=\"checkbox\">\r\n                              <Checkbox\r\n                                checked={selected.includes(index)}\r\n                                onChange={() => toggleOne(index)}\r\n                                inputProps={{\r\n                                  \"aria-label\": `Seleccionar ${index}`,\r\n                                }}\r\n                              />\r\n                            </TableCell>\r\n\r\n                            <TableCell>\r\n                              <Chip\r\n                                size=\"small\"\r\n                                label={registro.tipo || \"Ingreso\"}\r\n                                sx={{\r\n                                  backgroundColor:\r\n                                    registro.tipo === \"Egreso\"\r\n                                      ? \"#ffebee\"\r\n                                      : \"#e8f5e8\",\r\n                                  color:\r\n                                    registro.tipo === \"Egreso\"\r\n                                      ? \"#d32f2f\"\r\n                                      : \"#2e7d32\",\r\n                                  fontWeight: \"bold\",\r\n                                  border:\r\n                                    registro.tipo === \"Egreso\"\r\n                                      ? \"1px solid #d32f2f\"\r\n                                      : \"1px solid #2e7d32\",\r\n                                }}\r\n                                variant=\"outlined\"\r\n                              />\r\n                            </TableCell>\r\n\r\n                            <TableCell align=\"right\">\r\n                              <span\r\n                                style={{\r\n                                  color:\r\n                                    registro.tipo === \"Egreso\"\r\n                                      ? \"#d32f2f\"\r\n                                      : \"#2e7d32\",\r\n                                  fontWeight: \"bold\",\r\n                                }}\r\n                              >\r\n                                {formatAmount(\r\n                                  registro.montoTotal,\r\n                                  registro.tipo === \"Egreso\"\r\n                                )}\r\n                              </span>\r\n                            </TableCell>\r\n\r\n                            <TableCell>{fecha}</TableCell>\r\n\r\n                            <TableCell>{registro.descripcion || \"—\"}</TableCell>\r\n\r\n                            <TableCell>\r\n                              <EditableExcelCategory\r\n                                value={currentCategory || \"Sin categorizar\"}\r\n                                onChange={(newCategory) =>\r\n                                  handleCategoryChange(index, newCategory)\r\n                                }\r\n                              />\r\n                            </TableCell>\r\n\r\n                            <TableCell>\r\n                              {registro.esDuplicado ? (\r\n                                <Chip\r\n                                  size=\"small\"\r\n                                  label={\r\n                                    registro.motivoDuplicado?.includes(\r\n                                      \"base de datos\"\r\n                                    )\r\n                                      ? \"Registrado\"\r\n                                      : \"Duplicado en Excel\"\r\n                                  }\r\n                                  sx={{\r\n                                    backgroundColor:\r\n                                      registro.motivoDuplicado?.includes(\r\n                                        \"base de datos\"\r\n                                      )\r\n                                        ? \"#ffebee\"\r\n                                        : \"#fff3e0\",\r\n                                    color: registro.motivoDuplicado?.includes(\r\n                                      \"base de datos\"\r\n                                    )\r\n                                      ? \"#d32f2f\"\r\n                                      : \"#f57c00\",\r\n                                    fontWeight: \"bold\",\r\n                                    border: registro.motivoDuplicado?.includes(\r\n                                      \"base de datos\"\r\n                                    )\r\n                                      ? \"1px solid #d32f2f\"\r\n                                      : \"1px solid #f57c00\",\r\n                                  }}\r\n                                  variant=\"outlined\"\r\n                                />\r\n                              ) : (\r\n                                <Chip\r\n                                  size=\"small\"\r\n                                  label=\"No registrado\"\r\n                                  color=\"success\"\r\n                                  variant=\"outlined\"\r\n                                />\r\n                              )}\r\n                            </TableCell>\r\n                          </TableRow>\r\n                        );\r\n                      })}\r\n                    </TableBody>\r\n                  </Table>\r\n                </TableContainer>\r\n              </Paper>\r\n\r\n              <Box\r\n                sx={{\r\n                  display: \"flex\",\r\n                  justifyContent: \"space-between\",\r\n                  alignItems: \"center\",\r\n                }}\r\n              >\r\n                <Typography variant=\"body2\" color=\"text.secondary\">\r\n                  {selected.length} de {registrosFiltrados.length} movimientos\r\n                  seleccionados\r\n                </Typography>\r\n                <Button\r\n                  variant=\"outlined\"\r\n                  size=\"small\"\r\n                  onClick={handleSelectAll}\r\n                  disabled={registrosFiltrados.length === 0}\r\n                >\r\n                  {selected.length === registrosFiltrados.length\r\n                    ? \"Deseleccionar todos\"\r\n                    : \"Seleccionar todos\"}\r\n                </Button>\r\n              </Box>\r\n            </>\r\n          )}\r\n        </Stack>\r\n      </DialogContent>\r\n\r\n      <DialogActions>\r\n        <Button onClick={onClose} disabled={importing}>\r\n          Cancelar\r\n        </Button>\r\n        <Button\r\n          variant=\"contained\"\r\n          onClick={handleImportSelected}\r\n          disabled={selected.length === 0 || importing}\r\n        >\r\n          {importing\r\n            ? \"Guardando...\"\r\n            : `Guardar ${selected.length} movimientos`}\r\n        </Button>\r\n      </DialogActions>\r\n    </Dialog>\r\n  );\r\n}\r\n","import * as React from \"react\";\r\nimport Box from \"@mui/material/Box\";\r\nimport Typography from \"@mui/material/Typography\";\r\nimport FormControl from \"@mui/material/FormControl\";\r\nimport InputLabel from \"@mui/material/InputLabel\";\r\nimport Select from \"@mui/material/Select\";\r\nimport MenuItem from \"@mui/material/MenuItem\";\r\n\r\nimport CamposRequeridos from \"./components/CamposRequeridos\";\r\nimport ResumenCarga from \"./components/ResumenCarga\";\r\nimport TablaErrores from \"./components/TablaErrores\";\r\nimport ExcelPreviewDialog from \"./components/ExcelPreviewDialog\";\r\nimport DropzoneUploader from \"./../../shared-components/DropzoneUploader\";\r\nimport CustomButton from \"./../../shared-components/CustomButton\";\r\nimport axios from \"axios\";\r\nimport API_CONFIG from \"../../config/api-config\";\r\n\r\nexport default function CargaMovimientos({ onCargaCompletada }) {\r\n  const [resumen, setResumen] = React.useState(null);\r\n  const [file, setFile] = React.useState(null);\r\n  const [tipoOrigen, setTipoOrigen] = React.useState(\"\");\r\n  const [previewOpen, setPreviewOpen] = React.useState(false);\r\n  const [previewData, setPreviewData] = React.useState([]);\r\n  const [previewLoading, setPreviewLoading] = React.useState(false);\r\n  const [fileName, setFileName] = React.useState(\"\");\r\n  const obtenerUsuarioSub = () => sessionStorage.getItem(\"sub\");\r\n\r\n  const handleFileSelected = (archivo) => {\r\n    setFile(archivo);\r\n    setFileName(archivo.name);\r\n    console.log(\"Archivo recibido:\", archivo);\r\n  };\r\n\r\n  const procesarArchivo = async () => {\r\n    if (!file || !tipoOrigen) {\r\n      console.warn(\"Debe seleccionar un tipo de archivo y subir un archivo\");\r\n      return;\r\n    }\r\n\r\n    setPreviewLoading(true);\r\n    try {\r\n      const usuarioSub = obtenerUsuarioSub();\r\n      if (!usuarioSub) {\r\n        alert(\"No se encontró la sesión del usuario. Volvé a iniciar sesión.\");\r\n        setPreviewLoading(false);\r\n        return;\r\n      }\r\n      const formData = new FormData();\r\n      formData.append(\"file\", file);\r\n      formData.append(\"tipoOrigen\", tipoOrigen);\r\n\r\n      const response = await axios.post(\r\n        `${API_CONFIG.REGISTRO}/api/preview-excel`,\r\n        formData,\r\n        {\r\n          headers: {\r\n            \"Content-Type\": \"multipart/form-data\",\r\n            \"X-Usuario-Sub\": usuarioSub,\r\n          },\r\n        }\r\n      );\r\n\r\n      setPreviewData(response.data.registros || []);\r\n      setPreviewOpen(true);\r\n    } catch (error) {\r\n      console.error(\"Error al procesar el archivo:\", error);\r\n      alert(\"Ocurrió un error al procesar el archivo. Revisar consola.\");\r\n    } finally {\r\n      setPreviewLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleImportSelected = async (selectedRegistros) => {\r\n    try {\r\n      const usuarioSub = obtenerUsuarioSub();\r\n      if (!usuarioSub) {\r\n        alert(\"No se encontró la sesión del usuario. Volvé a iniciar sesión.\");\r\n        return;\r\n      }\r\n      const requestData = {\r\n        registrosSeleccionados: selectedRegistros,\r\n        fileName: fileName,\r\n        tipoOrigen: tipoOrigen,\r\n      };\r\n\r\n      const response = await axios.post(\r\n        `${API_CONFIG.REGISTRO}/api/guardar-seleccionados`,\r\n        requestData,\r\n        {\r\n          headers: {\r\n            \"Content-Type\": \"application/json\",\r\n            \"X-Usuario-Sub\": usuarioSub,\r\n          },\r\n        }\r\n      );\r\n\r\n      setResumen(response.data);\r\n      setPreviewOpen(false);\r\n      setFile(null);\r\n      setFileName(\"\");\r\n\r\n      // Notificar que la carga se completó\r\n      onCargaCompletada?.();\r\n    } catch (error) {\r\n      console.error(\"Error al guardar los registros:\", error);\r\n      alert(\"Ocurrió un error al guardar los registros. Revisar consola.\");\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Box\r\n      sx={{ width: \"100%\", maxWidth: { sm: \"100%\", md: \"1700px\" }, mx: \"auto\" }}\r\n    >\r\n      <Typography component=\"h2\" variant=\"h6\" sx={{ mb: 3 }}>\r\n        Carga Excel\r\n      </Typography>\r\n      <CamposRequeridos sx={{ mb: 4 }} /> {/* margen debajo del ejemplo */}\r\n      {/* Desplegable para tipo de archivo */}\r\n      <FormControl fullWidth sx={{ mb: 4 }}>\r\n        <InputLabel id=\"tipo-origen-label\">Tipo de archivo</InputLabel>\r\n        <Select\r\n          labelId=\"tipo-origen-label\"\r\n          id=\"tipo-origen\"\r\n          value={tipoOrigen}\r\n          label=\"Tipo de archivo\"\r\n          onChange={(e) => setTipoOrigen(e.target.value)}\r\n        >\r\n          <MenuItem value=\"\">Seleccione una opción</MenuItem>\r\n          <MenuItem value=\"mycfo\">MyCFO (plantilla genérica)</MenuItem>\r\n          <MenuItem value=\"mercado-pago\">Mercado Pago</MenuItem>\r\n          {/*<MenuItem value=\"santander\">Banco Santander</MenuItem>*/}\r\n        </Select>\r\n      </FormControl>\r\n      <DropzoneUploader\r\n        onFileSelected={handleFileSelected}\r\n        width=\"100%\"\r\n        height={120}\r\n        sx={{ mb: 3 }}\r\n      />\r\n\r\n      <CustomButton\r\n        width=\"100%\"\r\n        onClick={procesarArchivo}\r\n        sx={{ mt: 1, mb: 4 }}\r\n        disabled={previewLoading || !tipoOrigen || !file}\r\n      >\r\n        {previewLoading ? \"Procesando...\" : \"Vista Previa\"}\r\n      </CustomButton>\r\n      {resumen && (\r\n        <Box mt={4} mb={4}>\r\n          {\" \"}\r\n          {/* <-- agrega mb aquí para separar de FormControl */}\r\n          <ResumenCarga resumen={resumen} sx={{ mb: 3 }} />\r\n          {resumen.errores?.length > 0 && (\r\n            <TablaErrores errores={resumen.errores} />\r\n          )}\r\n        </Box>\r\n      )}\r\n      <ExcelPreviewDialog\r\n        open={previewOpen}\r\n        onClose={() => {\r\n          setPreviewOpen(false);\r\n          setPreviewData([]);\r\n        }}\r\n        previewData={previewData}\r\n        loading={previewLoading}\r\n        onImportSelected={handleImportSelected}\r\n        fileName={fileName}\r\n        tipoOrigen={tipoOrigen}\r\n      />\r\n    </Box>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport {\r\n  Table,\r\n  TableHead,\r\n  TableRow,\r\n  TableCell,\r\n  TableBody,\r\n  TableContainer,\r\n  TablePagination,\r\n  LinearProgress,\r\n  Chip,\r\n  Box,\r\n  Paper,\r\n  Typography,\r\n} from \"@mui/material\";\r\n\r\nconst formatDate = (value) => {\r\n  if (!value) return \"\";\r\n  const d = new Date(value);\r\n  return d.toLocaleDateString(\"es-AR\");\r\n};\r\n\r\nconst formatDateTime = (value) => {\r\n  if (!value) return \"\";\r\n  const d = new Date(value);\r\n  return d.toLocaleString(\"es-AR\");\r\n};\r\n\r\nexport default function ExcelHistoryTable({\r\n  rows = [],\r\n  loading = false,\r\n  page = 0,\r\n  pageSize = 20,\r\n  total = 0,\r\n  onPageChange,\r\n  onPageSizeChange,\r\n}) {\r\n  const getStatusChip = (estado) => {\r\n    switch (estado) {\r\n      case \"COMPLETADO\":\r\n        return (\r\n          <Chip\r\n            size=\"small\"\r\n            label=\"Completado\"\r\n            sx={{\r\n              backgroundColor: \"#e8f5e8\",\r\n              color: \"#2e7d32\",\r\n              fontWeight: \"bold\",\r\n              border: \"1px solid #2e7d32\",\r\n            }}\r\n            variant=\"outlined\"\r\n          />\r\n        );\r\n      case \"PARCIAL\":\r\n        return (\r\n          <Chip\r\n            size=\"small\"\r\n            label=\"Parcial\"\r\n            sx={{\r\n              backgroundColor: \"#fff3e0\",\r\n              color: \"#f57c00\",\r\n              fontWeight: \"bold\",\r\n              border: \"1px solid #f57c00\",\r\n            }}\r\n            variant=\"outlined\"\r\n          />\r\n        );\r\n      case \"ERROR\":\r\n        return (\r\n          <Chip\r\n            size=\"small\"\r\n            label=\"Error\"\r\n            sx={{\r\n              backgroundColor: \"#ffebee\",\r\n              color: \"#d32f2f\",\r\n              fontWeight: \"bold\",\r\n              border: \"1px solid #d32f2f\",\r\n            }}\r\n            variant=\"outlined\"\r\n          />\r\n        );\r\n      default:\r\n        return (\r\n          <Chip\r\n            size=\"small\"\r\n            label=\"Desconocido\"\r\n            sx={{\r\n              backgroundColor: \"#f5f5f5\",\r\n              color: \"#666666\",\r\n              fontWeight: \"bold\",\r\n              border: \"1px solid #e0e0e0\",\r\n            }}\r\n            variant=\"outlined\"\r\n          />\r\n        );\r\n    }\r\n  };\r\n\r\n  const getTipoOrigenChip = (tipoOrigen) => {\r\n    const colors = {\r\n      mycfo: { bg: \"#e3f2fd\", color: \"#1976d2\", border: \"#1976d2\" },\r\n      \"mercado-pago\": { bg: \"#f3e5f5\", color: \"#7b1fa2\", border: \"#7b1fa2\" },\r\n      santander: { bg: \"#e8f5e8\", color: \"#388e3c\", border: \"#388e3c\" },\r\n    };\r\n\r\n    const color = colors[tipoOrigen] || {\r\n      bg: \"#f5f5f5\",\r\n      color: \"#666666\",\r\n      border: \"#e0e0e0\",\r\n    };\r\n\r\n    return (\r\n      <Chip\r\n        size=\"small\"\r\n        label={tipoOrigen.toUpperCase()}\r\n        sx={{\r\n          backgroundColor: color.bg,\r\n          color: color.color,\r\n          fontWeight: \"bold\",\r\n          border: `1px solid ${color.border}`,\r\n        }}\r\n        variant=\"outlined\"\r\n      />\r\n    );\r\n  };\r\n\r\n  return (\r\n    <TableContainer sx={{ borderRadius: 2 }}>\r\n      {loading && <LinearProgress />}\r\n      <Table size=\"small\" stickyHeader>\r\n        <TableHead>\r\n          <TableRow>\r\n            <TableCell sx={{ fontWeight: 600 }}>Archivo</TableCell>\r\n            <TableCell sx={{ fontWeight: 600 }}>Tipo</TableCell>\r\n            <TableCell sx={{ fontWeight: 600 }}>Fecha Importación</TableCell>\r\n            <TableCell sx={{ fontWeight: 600 }}>Total Registros</TableCell>\r\n            <TableCell sx={{ fontWeight: 600 }}>Guardados</TableCell>\r\n            <TableCell sx={{ fontWeight: 600 }}>Estado</TableCell>\r\n          </TableRow>\r\n        </TableHead>\r\n\r\n        <TableBody>\r\n          {rows.length === 0 && !loading && (\r\n            <TableRow>\r\n              <TableCell colSpan={7}>\r\n                <Box\r\n                  sx={{\r\n                    p: 3,\r\n                    textAlign: \"center\",\r\n                    color: \"text.secondary\",\r\n                  }}\r\n                >\r\n                  No hay historial de cargas para mostrar.\r\n                </Box>\r\n              </TableCell>\r\n            </TableRow>\r\n          )}\r\n\r\n          {rows.map((historial, index) => (\r\n            <TableRow\r\n              key={historial.id || index}\r\n              hover\r\n              sx={{\r\n                \"&:hover\": {\r\n                  backgroundColor: (t) => t.palette.action.hover,\r\n                },\r\n              }}\r\n            >\r\n              <TableCell>\r\n                <Typography variant=\"body2\" sx={{ fontWeight: 500 }}>\r\n                  {historial.fileName || \"—\"}\r\n                </Typography>\r\n              </TableCell>\r\n\r\n              <TableCell>\r\n                {getTipoOrigenChip(historial.tipoOrigen || \"desconocido\")}\r\n              </TableCell>\r\n\r\n              <TableCell>\r\n                <Typography variant=\"body2\">\r\n                  {formatDateTime(historial.fechaImportacion)}\r\n                </Typography>\r\n              </TableCell>\r\n\r\n              <TableCell align=\"center\">\r\n                <Typography variant=\"body2\" sx={{ fontWeight: 500 }}>\r\n                  {historial.totalRegistros || 0}\r\n                </Typography>\r\n              </TableCell>\r\n\r\n              <TableCell align=\"center\">\r\n                <Typography variant=\"body2\" sx={{ fontWeight: 500 }}>\r\n                  {historial.registrosGuardados || 0}\r\n                </Typography>\r\n              </TableCell>\r\n\r\n              <TableCell>{getStatusChip(historial.estado)}</TableCell>\r\n            </TableRow>\r\n          ))}\r\n        </TableBody>\r\n      </Table>\r\n\r\n      <TablePagination\r\n        component=\"div\"\r\n        count={total}\r\n        page={page}\r\n        onPageChange={(_, p) => onPageChange(p)}\r\n        rowsPerPage={pageSize}\r\n        onRowsPerPageChange={(e) =>\r\n          onPageSizeChange(parseInt(e.target.value, 10))\r\n        }\r\n        rowsPerPageOptions={[10, 20, 50, 100]}\r\n      />\r\n    </TableContainer>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport {\r\n  Box,\r\n  Paper,\r\n  Typography,\r\n  Tabs,\r\n  Tab,\r\n  Button,\r\n  Stack,\r\n  Alert,\r\n} from \"@mui/material\";\r\nimport HistoryIcon from \"@mui/icons-material/History\";\r\nimport UploadIcon from \"@mui/icons-material/Upload\";\r\nimport CargaMovimientos from \"./CargaMovimientos\";\r\nimport ExcelHistoryTable from \"./components/ExcelHistoryTable\";\r\nimport axios from \"axios\";\r\nimport API_CONFIG from \"../../config/api-config\";\r\n\r\nexport default function ExcelManagement() {\r\n  const [activeTab, setActiveTab] = React.useState(0);\r\n  const [historialData, setHistorialData] = React.useState([]);\r\n  const [historialLoading, setHistorialLoading] = React.useState(false);\r\n  const [historialPage, setHistorialPage] = React.useState(0);\r\n  const [historialPageSize, setHistorialPageSize] = React.useState(20);\r\n\r\n  const loadHistorial = async () => {\r\n    setHistorialLoading(true);\r\n    try {\r\n      const usuarioSub = sessionStorage.getItem(\"sub\");\r\n      if (!usuarioSub) {\r\n        alert(\"No se encontró la sesión del usuario. Volvé a iniciar sesión.\");\r\n        setHistorialLoading(false);\r\n        return;\r\n      }\r\n      const response = await axios.get(\r\n        `${API_CONFIG.REGISTRO}/api/historial-cargas`,\r\n        {\r\n          headers: {\r\n            \"X-Usuario-Sub\": usuarioSub,\r\n          },\r\n        }\r\n      );\r\n      setHistorialData(response.data);\r\n    } catch (error) {\r\n      console.error(\"Error al cargar historial:\", error);\r\n    } finally {\r\n      setHistorialLoading(false);\r\n    }\r\n  };\r\n\r\n  React.useEffect(() => {\r\n    if (activeTab === 1) {\r\n      loadHistorial();\r\n    }\r\n  }, [activeTab]);\r\n\r\n  const handleTabChange = (event, newValue) => {\r\n    setActiveTab(newValue);\r\n  };\r\n\r\n  const handleCargaCompletada = () => {\r\n    // Recargar historial cuando se complete una carga\r\n    if (activeTab === 1) {\r\n      loadHistorial();\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Box\r\n      sx={{\r\n        width: \"100%\",\r\n        maxWidth: { sm: \"100%\", md: \"1700px\" },\r\n        mx: \"auto\",\r\n        mt: 3,\r\n        p: 3,\r\n      }}\r\n    >\r\n      <Stack\r\n        direction=\"row\"\r\n        alignItems=\"center\"\r\n        justifyContent=\"space-between\"\r\n        sx={{ mb: 2 }}\r\n      >\r\n        <Typography variant=\"h4\">Carga de movimientos</Typography>\r\n        <Box sx={{ minWidth: 120 }} />\r\n      </Stack>\r\n\r\n      <Paper\r\n        variant=\"outlined\"\r\n        sx={{\r\n          mb: 2,\r\n          borderRadius: 2,\r\n          p: 1,\r\n          bgcolor: (t) =>\r\n            t.palette.mode === \"dark\"\r\n              ? \"background.default\"\r\n              : \"background.paper\",\r\n        }}\r\n      >\r\n        <Box sx={{ borderBottom: 1, borderColor: \"divider\" }}>\r\n          <Tabs value={activeTab} onChange={handleTabChange}>\r\n            <Tab\r\n              icon={<UploadIcon />}\r\n              label=\"Cargar Excel\"\r\n              iconPosition=\"start\"\r\n            />\r\n            <Tab\r\n              icon={<HistoryIcon />}\r\n              label=\"Historial de Cargas\"\r\n              iconPosition=\"start\"\r\n            />\r\n          </Tabs>\r\n        </Box>\r\n      </Paper>\r\n\r\n      {activeTab === 0 && (\r\n        <Paper variant=\"outlined\" sx={{ borderRadius: 2, p: 3 }}>\r\n          <CargaMovimientos onCargaCompletada={handleCargaCompletada} />\r\n        </Paper>\r\n      )}\r\n\r\n      {activeTab === 1 && (\r\n        <Paper variant=\"outlined\" sx={{ borderRadius: 2 }}>\r\n          <Box sx={{ p: 3 }}>\r\n            <Stack\r\n              direction=\"row\"\r\n              justifyContent=\"space-between\"\r\n              alignItems=\"center\"\r\n              sx={{ mb: 3 }}\r\n            >\r\n              <Typography variant=\"h6\">Historial de Cargas Excel</Typography>\r\n              <Button\r\n                variant=\"outlined\"\r\n                onClick={loadHistorial}\r\n                disabled={historialLoading}\r\n              >\r\n                Actualizar\r\n              </Button>\r\n            </Stack>\r\n\r\n            {historialData.length === 0 && !historialLoading && (\r\n              <Alert severity=\"info\">\r\n                No hay historial de cargas disponible.\r\n              </Alert>\r\n            )}\r\n\r\n            <ExcelHistoryTable\r\n              rows={historialData}\r\n              loading={historialLoading}\r\n              page={historialPage}\r\n              pageSize={historialPageSize}\r\n              total={historialData.length}\r\n              onPageChange={setHistorialPage}\r\n              onPageSizeChange={(newSize) => {\r\n                setHistorialPageSize(newSize);\r\n                setHistorialPage(0);\r\n              }}\r\n            />\r\n          </Box>\r\n        </Paper>\r\n      )}\r\n    </Box>\r\n  );\r\n}\r\n","/**\r\n * Categorías unificadas para toda la aplicación\r\n * Estas categorías están sincronizadas con el backend\r\n */\r\n\r\n// Categorías de EGRESOS\r\nexport const CATEGORIAS_EGRESO = [\r\n  \"Alimentos y Bebidas\",\r\n  \"Transporte\",\r\n  \"Vivienda\",\r\n  \"Servicios Básicos\",\r\n  \"Ocio y Entretenimiento\",\r\n  \"Compras Personales\",\r\n  \"Salud\",\r\n  \"Educación\",\r\n  \"Impuestos y Tasas\",\r\n  \"Servicios Financieros\",\r\n  \"Compras de Negocio\",\r\n  \"Otros Egresos\",\r\n];\r\n\r\n// Categorías de INGRESOS\r\nexport const CATEGORIAS_INGRESO = [\r\n  \"Ventas de Productos\",\r\n  \"Prestación de Servicios\",\r\n  \"Cobranzas\",\r\n  \"Transferencias Recibidas\",\r\n  \"Inversiones y Rendimientos\",\r\n  \"Otros Ingresos\",\r\n];\r\n\r\n// Todas las categorías (para uso genérico)\r\nexport const TODAS_LAS_CATEGORIAS = [\r\n  ...CATEGORIAS_EGRESO,\r\n  ...CATEGORIAS_INGRESO,\r\n];\r\n\r\n/**\r\n * Obtiene las categorías según el tipo de registro\r\n * @param {string} tipo - 'Ingreso', 'Egreso', o null para todas\r\n * @returns {string[]} Array de categorías\r\n */\r\nexport function obtenerCategorias(tipo) {\r\n  if (!tipo) return TODAS_LAS_CATEGORIAS;\r\n  if (tipo === \"Ingreso\") return CATEGORIAS_INGRESO;\r\n  if (tipo === \"Egreso\") return CATEGORIAS_EGRESO;\r\n  return TODAS_LAS_CATEGORIAS;\r\n}\r\n"],"names":["getTableContainerUtilityClass","slot","generateUtilityClass","generateUtilityClasses","_excluded","TableContainerRoot","styled","name","width","overflowX","React","inProps","ref","props","useDefaultProps","className","component","other","_objectWithoutProperties","ownerState","_objectSpread","classes","composeClasses","root","useUtilityClasses","_jsx","as","clsx","DropzoneUploader","_ref","onFileSelected","initialFile","height","accept","theme","useTheme","file","setFile","useState","onDrop","useCallback","acceptedFiles","length","newFile","getRootProps","getInputProps","isDragActive","useDropzone","multiple","undefined","useEffect","_jsxs","Box","sx","children","Paper","variant","p","display","flexDirection","justifyContent","alignItems","textAlign","border","borderColor","bgcolor","cursor","palette","mode","CloudUploadIcon","fontSize","mb","color","Typography","mt","borderRadius","IconButton","onClick","handleRemove","size","DeleteIcon","createSvgIcon","d","createData","id","fecha","descripcion","monto","medioPago","rows","tableWrapperStyle","overflow","headCellStyle","fontWeight","bodyCellStyle","bodyRowStyle","Stack","direction","Button","startIcon","FileDownloadIcon","href","download","TableContainer","Table","minWidth","borderCollapse","TableHead","TableRow","TableCell","TableBody","map","row","index","resumen","spacing","gutterBottom","Alert","severity","total","correctos","errores","_Fragment","err","fila","motivo","EditableExcelCategory","value","onChange","disabled","isEditing","setIsEditing","editValue","setEditValue","handleSave","TODAS_LAS_CATEGORIAS","includes","handleCancel","gap","Autocomplete","event","newValue","options","autoHighlight","openOnFocus","disableClearable","renderInput","params","TextField","autoFocus","placeholder","Tooltip","title","CheckIcon","CloseIcon","Chip","label","opacity","EditIcon","ExcelPreviewDialog","open","onClose","previewData","loading","onImportSelected","fileName","tipoOrigen","selected","setSelected","importing","setImporting","editedCategories","setEditedCategories","filterDuplicados","setFilterDuplicados","registrosFiltrados","filter","r","esDuplicado","handleSelectAll","indicesOriginales","registro","findIndex","formatAmount","amount","displayAmount","arguments","Intl","NumberFormat","style","currency","format","Dialog","maxWidth","fullWidth","PaperProps","minHeight","DialogTitle","toUpperCase","DialogContent","LinearProgress","duplicadosEnBD","_r$motivoDuplicado","motivoDuplicado","duplicadosEnExcel","_r$motivoDuplicado2","concat","FormControl","InputLabel","Select","e","target","MenuItem","stickyHeader","padding","Checkbox","checked","indeterminate","inputProps","colSpan","indexOriginal","_registro$motivoDupli","_registro$motivoDupli2","_registro$motivoDupli3","_registro$motivoDupli4","date","fechaEmision","Date","toLocaleDateString","currentCategory","categoriaSugerida","hover","backgroundColor","t","action","s","toggleOne","tipo","align","montoTotal","newCategory","handleCategoryChange","prev","DialogActions","async","selectedRegistros","_","originalIndex","actualIndex","editedCategory","error","console","CargaMovimientos","_resumen$errores","onCargaCompletada","setResumen","setTipoOrigen","previewOpen","setPreviewOpen","setPreviewData","previewLoading","setPreviewLoading","setFileName","obtenerUsuarioSub","sessionStorage","getItem","sm","md","mx","CamposRequeridos","labelId","archivo","log","CustomButton","usuarioSub","alert","formData","FormData","append","response","axios","post","API_CONFIG","REGISTRO","headers","data","registros","warn","ResumenCarga","TablaErrores","requestData","registrosSeleccionados","formatDateTime","toLocaleString","ExcelHistoryTable","page","pageSize","onPageChange","onPageSizeChange","getStatusChip","estado","getTipoOrigenChip","mycfo","bg","santander","historial","fechaImportacion","totalRegistros","registrosGuardados","TablePagination","count","rowsPerPage","onRowsPerPageChange","parseInt","rowsPerPageOptions","ExcelManagement","activeTab","setActiveTab","historialData","setHistorialData","historialLoading","setHistorialLoading","historialPage","setHistorialPage","historialPageSize","setHistorialPageSize","loadHistorial","get","borderBottom","Tabs","handleTabChange","Tab","icon","UploadIcon","iconPosition","HistoryIcon","handleCargaCompletada","newSize","CATEGORIAS_EGRESO","CATEGORIAS_INGRESO"],"sourceRoot":""}