{"version":3,"file":"static/js/8177.0fe655fc.chunk.js","mappings":"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","sources":["../node_modules/@mui/icons-material/esm/KeyboardArrowDown.js","../node_modules/@mui/icons-material/esm/AddCircleOutline.js","../node_modules/@mui/icons-material/esm/SaveOutlined.js","../node_modules/@mui/icons-material/esm/LockOutlined.js","../node_modules/@mui/icons-material/esm/EditOutlined.js","../node_modules/@mui/icons-material/esm/EditOffOutlined.js","../node_modules/@mui/icons-material/esm/ChevronLeft.js","../node_modules/@mui/icons-material/esm/ChevronRight.js","pronostico/presupuesto/components/MesDetalle.js","../node_modules/@mui/icons-material/esm/ContentCopy.js","utils/currency.js","shared-components/ExportadorSimple.js","api/http.js","reportes/reportes.service.js","../node_modules/dayjs/dayjs.min.js","shared-components/tipoSelectStyles.js","../node_modules/@mui/icons-material/esm/DeleteOutline.js","shared-components/categorias.js"],"sourcesContent":["\"use client\";\n\nimport createSvgIcon from \"./utils/createSvgIcon.js\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon(/*#__PURE__*/_jsx(\"path\", {\n  d: \"M7.41 8.59 12 13.17l4.59-4.58L18 10l-6 6-6-6z\"\n}), 'KeyboardArrowDown');","\"use client\";\n\nimport createSvgIcon from \"./utils/createSvgIcon.js\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon(/*#__PURE__*/_jsx(\"path\", {\n  d: \"M13 7h-2v4H7v2h4v4h2v-4h4v-2h-4zm-1-5C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8\"\n}), 'AddCircleOutline');","\"use client\";\n\nimport createSvgIcon from \"./utils/createSvgIcon.js\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon(/*#__PURE__*/_jsx(\"path\", {\n  d: \"M17 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V7zm2 16H5V5h11.17L19 7.83zm-7-7c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3M6 6h9v4H6z\"\n}), 'SaveOutlined');","\"use client\";\n\nimport createSvgIcon from \"./utils/createSvgIcon.js\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon(/*#__PURE__*/_jsx(\"path\", {\n  d: \"M18 8h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2M9 6c0-1.66 1.34-3 3-3s3 1.34 3 3v2H9zm9 14H6V10h12zm-6-3c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2\"\n}), 'LockOutlined');","\"use client\";\n\nimport createSvgIcon from \"./utils/createSvgIcon.js\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon(/*#__PURE__*/_jsx(\"path\", {\n  d: \"m14.06 9.02.92.92L5.92 19H5v-.92zM17.66 3c-.25 0-.51.1-.7.29l-1.83 1.83 3.75 3.75 1.83-1.83c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.2-.2-.45-.29-.71-.29m-3.6 3.19L3 17.25V21h3.75L17.81 9.94z\"\n}), 'EditOutlined');","\"use client\";\n\nimport createSvgIcon from \"./utils/createSvgIcon.js\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon(/*#__PURE__*/_jsx(\"path\", {\n  d: \"m14.06 9.02.92.92-1.11 1.11 1.41 1.41 2.52-2.52-3.75-3.75-2.52 2.52 1.41 1.41zm6.65-1.98c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.2-.2-.45-.29-.71-.29s-.51.1-.7.29l-1.83 1.83 3.75 3.75zM2.81 2.81 1.39 4.22l7.32 7.32L3 17.25V21h3.75l5.71-5.71 7.32 7.32 1.41-1.41zM5.92 19H5v-.92l5.13-5.13.92.92z\"\n}), 'EditOffOutlined');","\"use client\";\n\nimport createSvgIcon from \"./utils/createSvgIcon.js\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon(/*#__PURE__*/_jsx(\"path\", {\n  d: \"M15.41 7.41 14 6l-6 6 6 6 1.41-1.41L10.83 12z\"\n}), 'ChevronLeft');","\"use client\";\n\nimport createSvgIcon from \"./utils/createSvgIcon.js\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon(/*#__PURE__*/_jsx(\"path\", {\n  d: \"M10 6 8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z\"\n}), 'ChevronRight');","import * as React from 'react';\r\nimport {\r\n  Box, Typography, Paper, Grid, Button, Tabs, Tab, Avatar, Chip, Stack, Tooltip,\r\n  IconButton, Divider, MenuItem, Dialog, DialogTitle, DialogContent, DialogActions,\r\n  TextField, Autocomplete, FormControlLabel, Switch, Select, InputLabel, FormControl, Snackbar, Alert\r\n} from '@mui/material';\r\nimport { useTheme } from '@mui/material/styles';\r\nimport { useParams, useNavigate } from 'react-router-dom';\r\nimport ExportadorSimple from '../../../shared-components/ExportadorSimple';\r\nimport { buildTipoSelectSx } from '../../../shared-components/tipoSelectStyles';\r\nimport http from '../../../api/http';\r\nimport { formatCurrency, formatCurrencyInput, parseCurrency } from '../../../utils/currency';\r\nimport dayjs from 'dayjs';\r\nimport { format, startOfMonth, endOfMonth } from 'date-fns';\r\nimport { getMovimientosPorRango } from '../../../reportes/reportes.service';\r\nimport {\r\n  ResponsiveContainer, PieChart, Pie, Cell, BarChart, Bar, XAxis, YAxis, Tooltip as RTooltip, Legend\r\n} from 'recharts';\r\nimport EditNoteOutlinedIcon from '@mui/icons-material/EditNoteOutlined';\r\nimport RestartAltOutlinedIcon from '@mui/icons-material/RestartAltOutlined';\r\nimport KeyboardArrowDownIcon from '@mui/icons-material/KeyboardArrowDown';\r\nimport WarningAmberOutlinedIcon from '@mui/icons-material/WarningAmberOutlined';\r\nimport ContentCopyIcon from '@mui/icons-material/ContentCopy';\r\nimport AddCircleOutlineIcon from '@mui/icons-material/AddCircleOutline';\r\nimport DeleteOutlineIcon from '@mui/icons-material/DeleteOutline';\r\nimport SaveOutlinedIcon from '@mui/icons-material/SaveOutlined';\r\nimport LockOutlinedIcon from '@mui/icons-material/LockOutlined';\r\nimport EditOutlinedIcon from '@mui/icons-material/EditOutlined';\r\nimport EditOffOutlinedIcon from '@mui/icons-material/EditOffOutlined';\r\nimport ChevronLeftIcon from '@mui/icons-material/ChevronLeft';\r\nimport ChevronRightIcon from '@mui/icons-material/ChevronRight';\r\nimport { TODAS_LAS_CATEGORIAS } from '../../../shared-components/categorias';\r\nimport API_CONFIG from '../../../config/api-config';\r\nimport LoadingSpinner from '../../../shared-components/LoadingSpinner';\r\n\r\n// ===== Helpers =====\r\nconst safeNumber = (v) =>\r\n  typeof v === 'number' ? v : v != null && !isNaN(Number(v)) ? Number(v) : 0;\r\n\r\nconst baseURL = API_CONFIG.PRONOSTICO;\r\n\r\nconst GUARD_MESSAGES = {\r\n  categoria: {\r\n    title: 'Habilitar edicion manual',\r\n    body: 'La categoria, tipo y monto estimado ayudan a ordenar tus analisis. Cambiarlos manualmente puede afectar reportes y automatizaciones. Queres habilitar la edicion manual?',\r\n    confirmLabel: 'Habilitar edicion'\r\n  },\r\n  real: {\r\n    title: 'Editar monto real',\r\n    body: 'El monto real refleja los registros consolidados. Para ajustarlo, edita los movimientos registrados del periodo. Te llevamos a Ver movimientos.',\r\n    confirmLabel: 'Habilitar edicion en movimientos'\r\n  }\r\n};\r\n\r\nconst GUARD_FIELD_LABELS = {\r\n  categoria: 'la categoria, tipo y estimado',\r\n  tipo: 'el tipo',\r\n  montoEstimado: 'el estimado',\r\n  real: 'el monto real'\r\n};\r\nconst INGRESO_COLOR = '#4caf50';\r\nconst EGRESO_COLOR = '#f44336';\r\nconst INGRESO_EST_COLOR = '#a5d6a7';\r\nconst EGRESO_EST_COLOR = '#ef9a9a';\r\nconst SIN_PRONOSTICO_CHIP_SX = {\r\n  fontWeight: 500,\r\n  bgcolor: '#FFDE70',\r\n  backgroundColor: '#FFDE70',\r\n  color: '#000',\r\n  border: '1px solid #F5C16C',\r\n  '& .MuiChip-label': { color: '#000' },\r\n  '& .MuiChip-icon': { color: '#000' },\r\n  '&.MuiChip-filled': { backgroundColor: '#FFDE70' },\r\n};\r\n\r\nconst CENTERED_INPUT_LABEL_SX = {\r\n  top: '50%',\r\n  transform: 'translate(14px, -50%) scale(1)',\r\n  '&.MuiInputLabel-shrink': {\r\n    top: 0,\r\n    transform: 'translate(14px, -9px) scale(0.75)',\r\n  },\r\n};\r\nconst mesANumero = {\r\n  enero: '01', febrero: '02', marzo: '03', abril: '04',\r\n  mayo: '05', junio: '06', julio: '07', agosto: '08',\r\n  septiembre: '09', octubre: '10', noviembre: '11', diciembre: '12'\r\n};\r\n\r\nconst formatearMes = (ym) => {\r\n  if (!ym) return 'Mes desconocido';\r\n  const [anio, mes] = ym.split('-');\r\n  const nombres = ['Enero','Febrero','Marzo','Abril','Mayo','Junio','Julio','Agosto','Septiembre','Octubre','Noviembre','Diciembre'];\r\n  const i = parseInt(mes, 10);\r\n  return isNaN(i) ? ym : `${nombres[i-1]} ${anio}`;\r\n};\r\n\r\n// YYYY-MM  YYYY-MM-01\r\nconst ymToYmd = (ym) => `${ym}-01`;\r\n\r\n// Devuelve array de YYYY-MM entre from y to (inclusive)\r\nconst mesesEntre = (fromYM, toYM) => {\r\n  const out = [];\r\n  if (!fromYM || !toYM) return out;\r\n  let [fy, fm] = fromYM.split('-').map(Number);\r\n  const [ty, tm] = toYM.split('-').map(Number);\r\n  let y = fy, m = fm, guard = 0;\r\n  while (guard++ < 600) {\r\n    out.push(`${y}-${String(m).padStart(2, '0')}`);\r\n    if (y === ty && m === tm) break;\r\n    m++; if (m > 12) { m = 1; y++; }\r\n  }\r\n  return out;\r\n};\r\n\r\n// Normaliza payload de distintas respuestas posibles\r\nconst normalizeLine = (x) => {\r\n  const rawMovementArray = x?.movimientoIds ?? x?.movimiento_ids ?? x?.movementIds;\r\n  const rawMovementSingle = x?.movimientoId ?? x?.movimiento_id ?? x?.movementId ?? null;\r\n  const movementIds = Array.isArray(rawMovementArray)\r\n    ? rawMovementArray.map((id) => String(id))\r\n    : rawMovementSingle != null\r\n      ? [String(rawMovementSingle)]\r\n      : [];\r\n  return {\r\n    id: x.id,\r\n    categoria: x.categoria,\r\n    tipo: normalizeTipo(x.tipo),\r\n    montoEstimado: x.montoEstimado ?? x.monto_estimado ?? 0,\r\n    real: 0,\r\n    movimientoIds: movementIds,\r\n  };\r\n};\r\n\r\nconst normCat = (value) =>\r\n  (value || '')\r\n    .normalize('NFD')\r\n    .replace(/[\\u0300-\\u036f]/g, '')\r\n    .trim()\r\n    .toLowerCase();\r\n\r\nconst normalizeTipo = (value) => {\r\n  const upper = (value || '').toString().toUpperCase();\r\n  if (upper === 'INGRESO') return 'Ingreso';\r\n  if (upper === 'EGRESO') return 'Egreso';\r\n  return value || '';\r\n};\r\n\r\nexport default function MesDetalle() {\r\n  const { nombre: nombreUrl, mesNombre: mesNombreUrl } = useParams();\r\n  const navigate = useNavigate();\r\n  const theme = useTheme();\r\n  const isLightMode = theme.palette.mode === 'light';\r\n  const paletteVars = theme.vars?.palette ?? theme.palette;\r\n  const kpiColors = React.useMemo(\r\n    () => ({\r\n      ingresos: isLightMode ? 'hsl(120, 44%, 53%)' : paletteVars.success.light,\r\n      egresos: isLightMode ? 'hsl(0, 90%, 40%)' : paletteVars.error.light,\r\n      resultadoPos: isLightMode ? 'hsl(210, 98%, 42%)' : paletteVars.info.light,\r\n      resultadoNeg: isLightMode ? 'hsl(45, 90%, 40%)' : paletteVars.warning.light,\r\n    }),\r\n    [isLightMode, paletteVars.error.light, paletteVars.info.light, paletteVars.success.light, paletteVars.warning.light]\r\n  );\r\n  const tabsLabelColor = isLightMode\r\n    ? paletteVars.text?.primary ?? '#000'\r\n    : paletteVars.common?.white ?? '#fff';\r\n\r\n  React.useEffect(() => {\r\n    if (typeof window !== 'undefined' && typeof window.scrollTo === 'function') {\r\n      window.scrollTo({ top: 0, left: 0, behavior: 'auto' });\r\n    }\r\n  }, []);\r\n\r\n  // ===== State principal =====\r\n  const [lineas, setLineas] = React.useState([]);\r\n  const [lineasSoloReal, setLineasSoloReal] = React.useState([]);\r\n  const [edits, setEdits] = React.useState({}); // { [id]: {categoria, tipo, montoEstimado, real} }\r\n  const [manualGuards, setManualGuards] = React.useState({}); // { [id]: { categoria: bool, tipo: bool, montoEstimado: bool, real: bool } }\r\n  const [guardPrompt, setGuardPrompt] = React.useState({ open: false, id: null, field: null, title: '', message: '', confirmLabel: '', movementIds: [] });\r\n  const [nombreMes, setNombreMes] = React.useState('Mes desconocido');\r\n  const [presupuestoNombre, setPresupuestoNombre] = React.useState('');\r\n  const [presupuestoId, setPresupuestoId] = React.useState(null);\r\n  const [ym, setYm] = React.useState(null); // YYYY-MM\r\n  const [mesesDisponibles, setMesesDisponibles] = React.useState([]);\r\n  const [tab, setTab] = React.useState(0);\r\n  const [totalRealMes, setTotalRealMes] = React.useState(0);\r\n  const goToDatosBrutos = React.useCallback(() => setTab(1), [setTab]);\r\n\r\n  // UI\r\n  const [simulacion, setSimulacion] = React.useState(false);\r\n  const [rowMenuIdx, setRowMenuIdx] = React.useState(null);\r\n  const [snack, setSnack] = React.useState({ open: false, message: '', severity: 'success' });\r\n\r\n  const [nueva, setNueva] = React.useState({ categoria: '', tipo: 'Egreso', montoEstimado: '' });\r\n  const [agregando, setAgregando] = React.useState(false);\r\n\r\n  const [dlgReglas, setDlgReglas] = React.useState(false);\r\n  const [regla, setRegla] = React.useState({ ambito: 'este_mes', modo: 'AJUSTE_PCT', valor: 10, solo: 'todos', rangoDesde: '', rangoHasta: '' });\r\n\r\n  const [dlgVarios, setDlgVarios] = React.useState(false);\r\n  const [bulkCfg, setBulkCfg] = React.useState({ accion: 'replicar', desde: '', hasta: '' });\r\n  const [deletePrompt, setDeletePrompt] = React.useState({ open: false, id: null, categoria: '', tipo: '' });\r\n  const [categoriasOptions, setCategoriasOptions] = React.useState(TODAS_LAS_CATEGORIAS);\r\n  const [loading, setLoading] = React.useState(true);\r\n\r\n  const categoriasPronosticadas = React.useMemo(() => {\r\n    const ocupadas = new Set();\r\n    for (const linea of lineas) {\r\n      const normalizada = normCat(linea?.categoria);\r\n      if (normalizada) ocupadas.add(normalizada);\r\n    }\r\n    return ocupadas;\r\n  }, [lineas]);\r\n\r\n  const opcionesNuevaLinea = React.useMemo(() => {\r\n    let disponibles = categoriasOptions.filter((option) => {\r\n      if (typeof option !== 'string') return false;\r\n      const normalizada = normCat(option);\r\n      if (!normalizada) return false;\r\n      return !categoriasPronosticadas.has(normalizada);\r\n    });\r\n\r\n    if (nueva.categoria) {\r\n      const categoriaActualNorm = normCat(nueva.categoria);\r\n      const yaIncluida = disponibles.some((opt) => normCat(opt) === categoriaActualNorm);\r\n      if (!yaIncluida) {\r\n        disponibles = [nueva.categoria, ...disponibles];\r\n      }\r\n    }\r\n\r\n    return disponibles;\r\n  }, [categoriasOptions, categoriasPronosticadas, nueva.categoria]);\r\n\r\n  const { prevYm, nextYm } = React.useMemo(() => {\r\n    if (!ym || !mesesDisponibles.length) {\r\n      return { prevYm: null, nextYm: null };\r\n    }\r\n    const idx = mesesDisponibles.findIndex((value) => value === ym);\r\n    if (idx === -1) {\r\n      return { prevYm: null, nextYm: null };\r\n    }\r\n    return {\r\n      prevYm: idx > 0 ? mesesDisponibles[idx - 1] : null,\r\n      nextYm: idx < mesesDisponibles.length - 1 ? mesesDisponibles[idx + 1] : null,\r\n    };\r\n  }, [ym, mesesDisponibles]);\r\n\r\n  React.useEffect(() => {\r\n    let activo = true;\r\n    const cargarCategorias = async () => {\r\n      try {\r\n        const response = await http.get(`${API_CONFIG.REGISTRO}/api/categorias`);\r\n        if (!activo) return;\r\n        if (Array.isArray(response?.data) && response.data.length > 0) {\r\n          setCategoriasOptions(response.data);\r\n        }\r\n      } catch (error) {\r\n        console.error('No se pudieron obtener las categoras, se usan las predefinidas', error);\r\n      }\r\n    };\r\n    cargarCategorias();\r\n    return () => {\r\n      activo = false;\r\n    };\r\n  }, []);\r\n\r\n  // ===== Carga de datos =====\r\n  const fetchMes = React.useCallback(async (pid, ymStr, { skipStateUpdate = false } = {}) => {\r\n    if (!pid || !ymStr) return;\r\n\r\n    // 1) intento con YYYY-MM\r\n    const url1 = `${baseURL}/api/presupuestos/${pid}/mes/${ymStr}`;\r\n    // 2) fallback YYYY-MM-01 (si el backend guarda date)\r\n    const url2 = `${baseURL}/api/presupuestos/${pid}/mes/${ymToYmd(ymStr)}`;\r\n\r\n    const tryFetch = async (url) => {\r\n      try {\r\n        const res = await http.get(url);\r\n        const d = res?.data;\r\n        let arr =\r\n          Array.isArray(d) ? d :\r\n          Array.isArray(d?.lineas) ? d.lineas :\r\n          Array.isArray(d?.categorias) ? d.categorias : [];\r\n        const norm = arr.map(normalizeLine);\r\n        return norm;\r\n      } catch {\r\n        return null;\r\n      }\r\n    };\r\n\r\n    let l = await tryFetch(url1);\r\n    if (!l || l.length === 0) l = await tryFetch(url2);\r\n    const finalLineas = l || [];\r\n    if (!skipStateUpdate) setLineas(finalLineas);\r\n    return finalLineas;\r\n  }, []);\r\n\r\n  const cargarLineasConReales = React.useCallback(async (pid, ymStr) => {\r\n    const lineasBase = (await fetchMes(pid, ymStr, { skipStateUpdate: true })) || [];\r\n    const ymKey = typeof ymStr === 'string' ? ymStr.slice(0, 7) : '';\r\n    const referencia = dayjs(`${ymKey}-01`);\r\n    if (!referencia.isValid()) {\r\n      const sinReales = lineasBase.map((linea) => ({ ...linea, real: 0 }));\r\n      setLineas(sinReales);\r\n      setLineasSoloReal([]);\r\n      setTotalRealMes(0);\r\n      return sinReales;\r\n    }\r\n\r\n    try {\r\n      const refDate = referencia.toDate();\r\n      const fechaDesde = format(startOfMonth(refDate), 'yyyy-MM-dd');\r\n      const fechaHasta = format(endOfMonth(refDate), 'yyyy-MM-dd');\r\n\r\n      const [respEgreso, respIngreso] = await Promise.all([\r\n        getMovimientosPorRango({\r\n          fechaDesde,\r\n          fechaHasta,\r\n          tipos: 'Egreso',\r\n        }),\r\n        getMovimientosPorRango({\r\n          fechaDesde,\r\n          fechaHasta,\r\n          tipos: 'Ingreso',\r\n        }),\r\n      ]);\r\n      const movimientosEgreso = Array.isArray(respEgreso?.content) ? respEgreso.content : (Array.isArray(respEgreso) ? respEgreso : []);\r\n      const movimientosIngreso = Array.isArray(respIngreso?.content) ? respIngreso.content : (Array.isArray(respIngreso) ? respIngreso : []);\r\n\r\n      const agruparPorCategoria = (lista) => lista.reduce((acc, movimiento) => {\r\n        const nombreOriginal =\r\n          movimiento?.categoriaNombre || movimiento?.categoria || movimiento?.categoria_id_nombre || 'Sin categora';\r\n        const key = normCat(nombreOriginal);\r\n        if (!key) return acc;\r\n        const monto = Math.abs(\r\n          Number(movimiento?.monto ?? movimiento?.montoTotal ?? movimiento?.monto_total ?? 0)\r\n        ) || 0;\r\n        if (!Number.isFinite(monto)) return acc;\r\n        if (!acc[key]) {\r\n          acc[key] = { total: 0, label: nombreOriginal || 'Sin categora', movementIds: [] };\r\n        }\r\n        acc[key].total += monto;\r\n        const rawMovimientoId =\r\n          movimiento?.id ??\r\n          movimiento?.movimientoId ??\r\n          movimiento?.movimiento_id ??\r\n          movimiento?.movimientoID ??\r\n          movimiento?.idMovimiento ??\r\n          null;\r\n        const movimientoId = rawMovimientoId != null ? String(rawMovimientoId) : null;\r\n        if (movimientoId && !acc[key].movementIds.includes(movimientoId)) {\r\n          acc[key].movementIds.push(movimientoId);\r\n        }\r\n        return acc;\r\n      }, {});\r\n\r\n      const realesPorCategoriaEgreso = agruparPorCategoria(movimientosEgreso);\r\n      const realesPorCategoriaIngreso = agruparPorCategoria(movimientosIngreso);\r\n      const totalRealEgreso = Object.values(realesPorCategoriaEgreso).reduce((acc, data) => acc + data.total, 0);\r\n\r\n      const lineasConReales = lineasBase.map((linea) => {\r\n        const key = normCat(linea.categoriaNombre || linea.categoria);\r\n        const tipoKey = (linea.tipo || '').toUpperCase();\r\n        const baseMovementIds = Array.isArray(linea.movimientoIds)\r\n          ? linea.movimientoIds.map((id) => String(id))\r\n          : [];\r\n        let real = 0;\r\n        let movementIds = baseMovementIds;\r\n        if (tipoKey === 'INGRESO') {\r\n          const info = realesPorCategoriaIngreso[key];\r\n          real = info?.total || 0;\r\n          const extraIds = Array.isArray(info?.movementIds) ? info.movementIds.map((id) => String(id)) : [];\r\n          movementIds = Array.from(new Set([...baseMovementIds, ...extraIds]));\r\n        } else if (tipoKey === 'EGRESO') {\r\n          const info = realesPorCategoriaEgreso[key];\r\n          real = info?.total || 0;\r\n          const extraIds = Array.isArray(info?.movementIds) ? info.movementIds.map((id) => String(id)) : [];\r\n          movementIds = Array.from(new Set([...baseMovementIds, ...extraIds]));\r\n        }\r\n        return {\r\n          ...linea,\r\n          real,\r\n          movimientoIds: movementIds,\r\n        };\r\n      });\r\n\r\n      const categoriasPorTipo = lineasBase.reduce((acc, linea) => {\r\n        const tipoKey = (linea.tipo || '').toUpperCase();\r\n        const key = normCat(linea.categoriaNombre || linea.categoria);\r\n        if (!acc[tipoKey]) acc[tipoKey] = new Set();\r\n        acc[tipoKey].add(key);\r\n        return acc;\r\n      }, {});\r\n\r\n      const adicionales = [];\r\n      const registrarAdicionales = (tipoKey, mapa) => {\r\n        const set = categoriasPorTipo[tipoKey] || new Set();\r\n        Object.entries(mapa).forEach(([key, data]) => {\r\n          if (!set.has(key)) {\r\n            adicionales.push({\r\n              id: `real-only-${tipoKey}-${key}`,\r\n              categoria: data.label || 'Sin categora',\r\n              tipo: normalizeTipo(tipoKey),\r\n              montoEstimado: 0,\r\n              real: data.total,\r\n              _soloReal: true,\r\n              movimientoIds: Array.from(new Set((data.movementIds || []).map((id) => String(id)))),\r\n            });\r\n          }\r\n        });\r\n      };\r\n\r\n      registrarAdicionales('EGRESO', realesPorCategoriaEgreso);\r\n      registrarAdicionales('INGRESO', realesPorCategoriaIngreso);\r\n\r\n      setLineas(lineasConReales);\r\n      setLineasSoloReal(adicionales);\r\n      setTotalRealMes(totalRealEgreso);\r\n      return lineasConReales;\r\n    } catch (movErr) {\r\n      console.error('Error al obtener datos reales del mes:', movErr);\r\n      const fallback = lineasBase.map((linea) => ({\r\n        ...linea,\r\n        real: 0,\r\n      }));\r\n      setLineas(fallback);\r\n      setLineasSoloReal([]);\r\n      setTotalRealMes(0);\r\n      setSnack({ open: true, message: 'No se pudieron cargar los datos reales del mes.', severity: 'error' });\r\n      return fallback;\r\n    }\r\n  }, [fetchMes, setSnack]);\r\n\r\n  React.useEffect(() => {\r\n    const cargar = async () => {\r\n      try {\r\n        setLoading(true);\r\n        // 1) buscar presupuesto por nombre\r\n        const resPres = await http.get(`${baseURL}/api/presupuestos`);\r\n        const listaPayload = resPres?.data;\r\n        let lista = [];\r\n        if (Array.isArray(listaPayload)) {\r\n          lista = listaPayload;\r\n        } else if (Array.isArray(listaPayload?.content)) {\r\n          lista = listaPayload.content;\r\n        }\r\n\r\n        const decodedNombre = decodeURIComponent(nombreUrl || '').trim().toLowerCase().replace(/\\s+/g, '-');\r\n        const p = lista.find(pp => (pp?.nombre || '').trim().toLowerCase().replace(/\\s+/g, '-') === decodedNombre);\r\n        if (!p?.id) throw new Error('Presupuesto no encontrado');\r\n\r\n        setPresupuestoNombre(p.nombre);\r\n        setPresupuestoId(p.id);\r\n\r\n      // 2) resolver YYYY-MM desde mesNombreUrl usando /totales\r\n      const mesNumStr = mesANumero[(mesNombreUrl || '').toLowerCase().trim()];\r\n      if (!mesNumStr) throw new Error('Mes no vlido');\r\n\r\n      const resTot = await http.get(`${baseURL}/api/presupuestos/${p.id}/totales`);\r\n      const totales = Array.isArray(resTot.data) ? resTot.data : [];\r\n      const mesesLista = Array.from(\r\n        new Set(\r\n          totales\r\n            .map((t) => (t?.mes ? String(t.mes) : ''))\r\n            .filter(Boolean)\r\n        )\r\n      ).sort((a, b) => a.localeCompare(b));\r\n      setMesesDisponibles(mesesLista);\r\n      const item = totales.find(t => String(t?.mes || '').endsWith(`-${mesNumStr}`));\r\n      if (!item?.mes) throw new Error('Mes no encontrado en totales');\r\n\r\n      setYm(item.mes);\r\n      setNombreMes(formatearMes(item.mes));\r\n\r\n      // 3) cargar lineas reales\r\n      await cargarLineasConReales(p.id, item.mes);\r\n  \r\n      } catch (err) {\r\n        console.error(err);\r\n        setLineas([]);\r\n        setMesesDisponibles([]);\r\n        setYm(null);\r\n        setNombreMes('Mes desconocido');\r\n        setSnack({ open: true, message: err?.message || 'Error cargando mes', severity: 'error' });\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    };\r\n\r\n    if (nombreUrl && mesNombreUrl) cargar();\r\n  }, [nombreUrl, mesNombreUrl, cargarLineasConReales]);\r\n\r\n  const handleCambiarMes = React.useCallback(async (targetYm) => {\r\n    if (!targetYm || !presupuestoId) return;\r\n    try {\r\n      setLoading(true);\r\n      await cargarLineasConReales(presupuestoId, targetYm);\r\n      setYm(targetYm);\r\n      setNombreMes(formatearMes(targetYm));\r\n    } catch (err) {\r\n      console.error('Error cambiando de mes', err);\r\n      setSnack({ open: true, message: 'No se pudieron cargar los datos del mes seleccionado.', severity: 'error' });\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  }, [presupuestoId, cargarLineasConReales, setSnack]);\r\n\r\n  // Sincronizo `edits` cuando cambian las lineas\r\n  const lineasCompleto = React.useMemo(\r\n    () => [...lineas, ...lineasSoloReal],\r\n    [lineas, lineasSoloReal]\r\n  );\r\n\r\n  React.useEffect(() => {\r\n    const nextEdits = {};\r\n    for (const l of lineasCompleto) {\r\n      nextEdits[l.id] = {\r\n        categoria: l.categoria,\r\n        tipo: l.tipo,\r\n        montoEstimado: safeNumber(l.montoEstimado),\r\n        real: l.real === null || typeof l.real === 'undefined' ? '' : safeNumber(l.real)\r\n      };\r\n    }\r\n    setEdits(nextEdits);\r\n    setManualGuards((prev) => {\r\n      const nextGuards = {};\r\n      for (const l of lineasCompleto) {\r\n        nextGuards[l.id] = {\r\n          categoria: prev[l.id]?.categoria || false,\r\n          tipo: prev[l.id]?.tipo || false,\r\n          montoEstimado: prev[l.id]?.montoEstimado || false,\r\n          real: prev[l.id]?.real || false,\r\n        };\r\n      }\r\n      return nextGuards;\r\n    });\r\n  }, [lineasCompleto]);\r\n\r\n  const requestManualUnlock = React.useCallback((id, field) => {\r\n    const cfg = GUARD_MESSAGES[field] || {};\r\n    if (field === 'real') {\r\n      const targetLine = lineasCompleto.find((l) => l.id === id);\r\n      const movementIds = Array.isArray(targetLine?.movimientoIds)\r\n        ? targetLine.movimientoIds.map((value) => String(value))\r\n        : [];\r\n      if (!movementIds.length) {\r\n        setSnack({ open: true, message: 'No se encontro el movimiento para editar.', severity: 'error' });\r\n        return;\r\n      }\r\n      setGuardPrompt({\r\n        open: true,\r\n        id,\r\n        field,\r\n        title: cfg.title || 'Editar monto real',\r\n        message: cfg.body || 'Esta accion habilita la edicion manual.',\r\n        confirmLabel: cfg.confirmLabel || 'Habilitar edicion en movimientos',\r\n        movementIds,\r\n      });\r\n      return;\r\n    }\r\n    setGuardPrompt({\r\n      open: true,\r\n      id,\r\n      field,\r\n      title: cfg.title || 'Confirmar edicion manual',\r\n      message: cfg.body || 'Esta accion habilita la edicion manual.',\r\n      confirmLabel: cfg.confirmLabel || 'Habilitar',\r\n      movementIds: [],\r\n    });\r\n  }, [lineasCompleto, setSnack]);\r\n\r\n  const handleGuardCancel = React.useCallback(() => {\r\n    setGuardPrompt({ open: false, id: null, field: null, title: '', message: '', confirmLabel: '', movementIds: [] });\r\n  }, []);\r\n\r\n  const toggleManualGuard = React.useCallback((id, field, enabled) => {\r\n    const fieldsToToggle = field === 'categoria' ? ['categoria', 'tipo', 'montoEstimado'] : [field];\r\n    setManualGuards((prev) => {\r\n      const next = { ...prev };\r\n      const current = { ...(next[id] || {}) };\r\n      fieldsToToggle.forEach((key) => {\r\n        current[key] = enabled;\r\n      });\r\n      next[id] = current;\r\n      return next;\r\n    });\r\n    if (!enabled) {\r\n      const linea = lineasCompleto.find((l) => l.id === id);\r\n      if (linea) {\r\n        setEdits((prev) => {\r\n          const updated = { ...(prev[id] || {}) };\r\n          fieldsToToggle.forEach((key) => {\r\n            if (key === 'real') {\r\n              updated[key] = linea.real === null || typeof linea.real === 'undefined' ? '' : safeNumber(linea.real);\r\n            } else if (key === 'tipo') {\r\n              updated[key] = linea.tipo;\r\n            } else if (key === 'montoEstimado') {\r\n              updated[key] = safeNumber(linea.montoEstimado);\r\n            } else if (key === 'categoria') {\r\n              updated[key] = linea.categoria;\r\n            }\r\n          });\r\n          return { ...prev, [id]: updated };\r\n        });\r\n      }\r\n      const label = GUARD_FIELD_LABELS[field] || field;\r\n      setSnack({ open: true, message: `Edicin manual desactivada para ${label}.`, severity: 'info' });\r\n    }\r\n  }, [lineasCompleto, setSnack]);\r\n\r\n  const handleGuardConfirm = React.useCallback(() => {\r\n    if (!(guardPrompt.open && guardPrompt.id != null && guardPrompt.field)) {\r\n      setGuardPrompt({ open: false, id: null, field: null, title: '', message: '', confirmLabel: '', movementIds: [] });\r\n      return;\r\n    }\r\n\r\n    if (guardPrompt.field === 'real') {\r\n      const targetLine = lineasCompleto.find((l) => l.id === guardPrompt.id);\r\n      const combinedIds = guardPrompt.movementIds && guardPrompt.movementIds.length\r\n        ? guardPrompt.movementIds\r\n        : Array.isArray(targetLine?.movimientoIds)\r\n          ? targetLine.movimientoIds.map((value) => String(value))\r\n          : [];\r\n      const movementId = combinedIds[0];\r\n      setGuardPrompt({ open: false, id: null, field: null, title: '', message: '', confirmLabel: '', movementIds: [] });\r\n      if (!movementId) {\r\n        setSnack({ open: true, message: 'No se encontro el movimiento para editar.', severity: 'error' });\r\n        return;\r\n      }\r\n      const params = new URLSearchParams();\r\n      params.set('editMovementId', movementId);\r\n      navigate(`/ver-movimientos?${params.toString()}`, {\r\n        state: {\r\n          editMovementId: movementId,\r\n          editMovementMeta: {\r\n            from: 'presupuesto',\r\n            presupuestoId,\r\n            ym,\r\n            categoria: targetLine?.categoria || '',\r\n            movimientoIds: combinedIds,\r\n          },\r\n        },\r\n      });\r\n      return;\r\n    }\r\n\r\n    toggleManualGuard(guardPrompt.id, guardPrompt.field, true);\r\n    const label = GUARD_FIELD_LABELS[guardPrompt.field] || guardPrompt.field;\r\n    setSnack({ open: true, message: `Edicion manual habilitada para ${label}.`, severity: 'warning' });\r\n    setGuardPrompt({ open: false, id: null, field: null, title: '', message: '', confirmLabel: '', movementIds: [] });\r\n  }, [guardPrompt, lineasCompleto, navigate, toggleManualGuard, setSnack, presupuestoId, ym]);\r\n\r\n  const isFieldUnlocked = React.useCallback(\r\n    (id, field) => manualGuards[id]?.[field] === true,\r\n    [manualGuards]\r\n  );\r\n\r\n  const reloadMes = React.useCallback(async () => {\r\n    if (presupuestoId && ym) {\r\n      setLoading(true);\r\n      try {\r\n        await cargarLineasConReales(presupuestoId, ym);\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    }\r\n  }, [presupuestoId, ym, cargarLineasConReales]);\r\n\r\n  // ===== Derivados =====\r\n  const ingresos = React.useMemo(\r\n    () => lineasCompleto.filter((c) => (c.tipo || '').toUpperCase() === 'INGRESO'),\r\n    [lineasCompleto]\r\n  );\r\n  const egresos = React.useMemo(\r\n    () => lineasCompleto.filter((c) => (c.tipo || '').toUpperCase() === 'EGRESO'),\r\n    [lineasCompleto]\r\n  );\r\n\r\n  const totalIngresos = ingresos.reduce((acc, c) => acc + safeNumber(c.real), 0);\r\n  const totalEgresosCalculado = egresos.reduce((acc, c) => acc + safeNumber(c.real), 0);\r\n  const totalEgresos = Number.isFinite(totalRealMes) ? totalRealMes : totalEgresosCalculado;\r\n  const totalIngresoEst = ingresos.reduce((acc, c) => acc + safeNumber(c.montoEstimado), 0);\r\n  const totalEgresoEst = egresos.reduce((acc, c) => acc + safeNumber(c.montoEstimado), 0);\r\n  const resultado = totalIngresos - totalEgresos;\r\n\r\n  const estimadoTotal = lineasCompleto.reduce(\r\n    (acc, c) => acc + safeNumber(c.montoEstimado) * (c.tipo === 'Ingreso' ? 1 : -1),\r\n    0\r\n  );\r\n  const cumplimiento = Math.abs(estimadoTotal) > 0 ? (resultado / Math.abs(estimadoTotal)) : 0;\r\n\r\n  const vencidosEstimados = lineas.filter(\r\n    (c) => safeNumber(c.montoEstimado) !== 0 && safeNumber(c.real) === 0\r\n  ).length;\r\n\r\n  const pieDataIngresos = ingresos.map((i) => ({ name: i.categoria, value: safeNumber(i.real) }));\r\n  const barDataIngresos = ingresos.map((i) => ({\r\n    name: i.categoria,\r\n    estimado: safeNumber(i.montoEstimado),\r\n    real: safeNumber(i.real),\r\n  }));\r\n  const pieDataEgresos = egresos.map((e) => ({ name: e.categoria, value: safeNumber(e.real) }));\r\n  const barDataEgresos = egresos.map((e) => ({\r\n    name: e.categoria,\r\n    estimado: safeNumber(e.montoEstimado),\r\n    real: safeNumber(e.real),\r\n  }));\r\n\r\n  // ===== Export =====\r\n  const handleExportExcel = () => {\r\n    const data = [\r\n      ['Categora', 'Tipo', 'Monto Estimado', 'Monto Registrado', 'Desvo'],\r\n      ...lineasCompleto.map((item) => [\r\n        item.categoria,\r\n        item.tipo,\r\n        safeNumber(item.montoEstimado),\r\n        safeNumber(item.real),\r\n        (item.tipo === 'Egreso'\r\n            ? safeNumber(item.montoEstimado) - safeNumber(item.real)\r\n            : safeNumber(item.real) - safeNumber(item.montoEstimado)),\r\n      ]),\r\n    ];\r\n    data.push(['', '', '', '', '']);\r\n    data.push(['Resultado:', '', '', '', resultado]);\r\n\r\n    import('xlsx').then(({ utils, writeFile }) => {\r\n      const ws = utils.aoa_to_sheet(data, { cellStyles: true });\r\n      const wb = utils.book_new();\r\n      utils.book_append_sheet(wb, ws, 'Detalle Mes');\r\n      writeFile(wb, `Mes_${nombreMes}_${Date.now()}.xlsx`, { cellStyles: true });\r\n    });\r\n  };\r\n\r\n  const handleExportPdf = () => {\r\n    import('html2pdf.js').then((html2pdf) => {\r\n      const element = document.getElementById('mes-detalle-content');\r\n      const opt = {\r\n        margin: 1,\r\n        filename: `Mes_${nombreMes}_${Date.now()}.pdf`,\r\n        image: { type: 'jpeg', quality: 0.98 },\r\n        html2canvas: { scale: 2 },\r\n        jsPDF: { unit: 'in', format: 'letter', orientation: 'portrait' },\r\n      };\r\n      html2pdf.default().from(element).set(opt).save();\r\n    });\r\n  };\r\n\r\n  // ===== CRUD =====\r\n  const toCamelPayload = (l) => ({\r\n    categoria: l.categoria,\r\n    tipo: l.tipo,\r\n    montoEstimado: Number(l.montoEstimado ?? 0),\r\n    real: l.real === '' || l.real == null ? null : Number(l.real),\r\n  });\r\n\r\n  const toSnakePayload = (l) => ({\r\n    categoria: l.categoria,\r\n    tipo: l.tipo,\r\n    monto_estimado: Number(l.montoEstimado ?? 0),\r\n    real: l.real === '' || l.real == null ? null : Number(l.real),\r\n  });\r\n\r\n  const tryPatchOrPut = async (method, url, data) => {\r\n    if (method === 'patch') return http.patch(url, data);\r\n    return http.put(url, data);\r\n  };\r\n\r\n  const patchLinea = async (l) => {\r\n    try {\r\n      if (!presupuestoId || !ym || !l?.id) return;\r\n\r\n      const urls = [\r\n        `${baseURL}/api/presupuestos/${presupuestoId}/mes/${ym}/lineas/${l.id}`,\r\n        `${baseURL}/api/presupuestos/${presupuestoId}/mes/${ymToYmd(ym)}/lineas/${l.id}`,\r\n      ];\r\n      const methods = ['patch', 'put']; // por si el backend usa PUT\r\n      const payloads = [toCamelPayload(l), toSnakePayload(l)];\r\n\r\n      let lastErr = null;\r\n\r\n      for (const url of urls) {\r\n        for (const method of methods) {\r\n          // 1) camelCase\r\n          try {\r\n            await tryPatchOrPut(method, url, payloads[0]);\r\n            setManualGuards((prev) => {\r\n              if (!prev || !prev[l.id]) return prev;\r\n              return { ...prev, [l.id]: { categoria: false, real: false } };\r\n            });\r\n            await reloadMes();\r\n            setSnack({ open: true, message: 'Lnea actualizada', severity: 'success' });\r\n            return;\r\n          } catch (e1) {\r\n            lastErr = e1;\r\n            // 2) snake_case si hubo 400 (bad request por nombres de campos)\r\n            const status = e1?.response?.status;\r\n            if (status === 400) {\r\n              try {\r\n                await tryPatchOrPut(method, url, payloads[1]);\r\n                setManualGuards((prev) => {\r\n                  if (!prev || !prev[l.id]) return prev;\r\n                  return { ...prev, [l.id]: { categoria: false, real: false } };\r\n                });\r\n                await reloadMes();\r\n                setSnack({ open: true, message: 'Lnea actualizada', severity: 'success' });\r\n                return;\r\n              } catch (e2) {\r\n                lastErr = e2;\r\n              }\r\n            }\r\n            // si 404/405 seguimos probando con otra URL o mtodo\r\n          }\r\n        }\r\n      }\r\n\r\n      const serverMsg =\r\n        lastErr?.response?.data?.message ||\r\n        lastErr?.response?.data?.error ||\r\n        lastErr?.message ||\r\n        'Error al actualizar';\r\n\r\n      setSnack({ open: true, message: serverMsg, severity: 'error' });\r\n      console.error('patchLinea error:', lastErr?.response || lastErr);\r\n    } catch (e) {\r\n      console.error(e);\r\n      setSnack({ open: true, message: 'Error al actualizar', severity: 'error' });\r\n    }\r\n  };\r\n\r\n\r\n  const openDeletePrompt = (item) => {\r\n    setDeletePrompt({ open: true, id: item.id, categoria: item.categoria, tipo: item.tipo });\r\n  };\r\n\r\n  const closeDeletePrompt = () => {\r\n    setDeletePrompt((prev) => ({ ...prev, open: false }));\r\n  };\r\n\r\n\r\n  const deleteLinea = async (lineaId) => {\r\n    try {\r\n      if (!presupuestoId || !ym || !lineaId) return;\r\n      await http.delete(`${baseURL}/api/presupuestos/${presupuestoId}/mes/${ym}/lineas/${lineaId}`);\r\n      await reloadMes();\r\n      setSnack({ open: true, message: 'Lnea eliminada', severity: 'success' });\r\n    } catch (e) {\r\n      console.error(e);\r\n      setSnack({ open: true, message: 'Error al eliminar', severity: 'error' });\r\n    }\r\n  };\r\n  const confirmDeletePrompt = async () => {\r\n    const targetId = deletePrompt.id;\r\n    setDeletePrompt({ open: false, id: null, categoria: '', tipo: '' });\r\n    if (targetId != null) {\r\n      await deleteLinea(targetId);\r\n    }\r\n  };\r\n\r\n\r\n\r\n  const addLinea = async () => {\r\n    try {\r\n      if (!presupuestoId || !ym) return;\r\n      if (!nueva.categoria || !nueva.tipo) {\r\n        setSnack({ open: true, message: 'Complet Categora y tipo', severity: 'warning' });\r\n        return;\r\n      }\r\n      const payload = {\r\n        categoria: nueva.categoria,\r\n        tipo: nueva.tipo,\r\n        montoEstimado: Number(nueva.montoEstimado || 0),\r\n      };\r\n      await http.post(`${baseURL}/api/presupuestos/${presupuestoId}/mes/${ym}/lineas`, payload);\r\n      setNueva({ categoria: '', tipo: 'Egreso', montoEstimado: '' });\r\n      setAgregando(false);\r\n      await reloadMes();\r\n      setSnack({ open: true, message: 'Lnea agregada', severity: 'success' });\r\n  } catch (e) {\r\n    console.error(e);\r\n    setSnack({ open: true, message: 'Error al agregar', severity: 'error' });\r\n  }\r\n};\r\n\r\n  const crearLineaDesdeReal = async (l) => {\r\n    try {\r\n      if (!presupuestoId || !ym) return;\r\n      const payload = {\r\n        categoria: l.categoria,\r\n        tipo: l.tipo,\r\n        montoEstimado: safeNumber(l.montoEstimado),\r\n        real: l.real === '' || l.real == null ? null : safeNumber(l.real),\r\n      };\r\n      await http.post(`${baseURL}/api/presupuestos/${presupuestoId}/mes/${ym}/lineas`, payload);\r\n      setSnack({ open: true, message: 'Lnea agregada desde movimiento real.', severity: 'success' });\r\n      await reloadMes();\r\n    } catch (e) {\r\n      console.error(e);\r\n      const msg = e?.response?.data?.message || 'Error al crear lnea';\r\n      setSnack({ open: true, message: msg, severity: 'error' });\r\n    }\r\n  };\r\n\r\n  // ===== Bulk en varios meses =====\r\n  const abrirDlgVariosConFila = (idx) => {\r\n    const idxEfectivo = (typeof idx === 'number') ? idx : rowMenuIdx;\r\n    if (idxEfectivo == null) return;\r\n    setRowMenuIdx(idxEfectivo); // asegura que quede seteado\r\n    setBulkCfg((c) => ({ ...c, accion: 'replicar', desde: ym || '', hasta: ym || '' }));\r\n    setDlgVarios(true);\r\n  };\r\n\r\n  const ejecutarBulk = async () => {\r\n    try {\r\n      if (rowMenuIdx == null) return;\r\n      const l = lineas[rowMenuIdx];\r\n      if (!l || !presupuestoId) return;\r\n\r\n      const { accion, desde, hasta } = bulkCfg;\r\n      if (!desde || !hasta) {\r\n        setSnack({ open: true, message: 'Complet rango de meses', severity: 'warning' });\r\n        return;\r\n      }\r\n      const meses = mesesEntre(desde, hasta);\r\n      if (meses.length === 0) {\r\n        setSnack({ open: true, message: 'Rango invlido', severity: 'warning' });\r\n        return;\r\n      }\r\n\r\n      if (accion === 'replicar') {\r\n        const payload = {\r\n          categoria: l.categoria,\r\n          tipo: l.tipo,\r\n          montoEstimado: Number(l.montoEstimado || 0),\r\n          real: l.real === '' || l.real == null ? null : Number(l.real),\r\n        };\r\n        for (const ymX of meses) {\r\n          await http.post(`${baseURL}/api/presupuestos/${presupuestoId}/mes/${ymX}/lineas`, payload);\r\n        }\r\n        setSnack({ open: true, message: `Replicado en ${meses.length} mes(es)`, severity: 'success' });\r\n      } else if (accion === 'eliminar') {\r\n        for (const ymX of meses) {\r\n          // tolerante con los dos formatos\r\n          const urls = [\r\n            `${baseURL}/api/presupuestos/${presupuestoId}/mes/${ymX}`,\r\n            `${baseURL}/api/presupuestos/${presupuestoId}/mes/${ymToYmd(ymX)}`\r\n          ];\r\n          let ls = [];\r\n          for (const u of urls) {\r\n            try {\r\n              const res = await http.get(u);\r\n              const d = res?.data;\r\n              const arr = Array.isArray(d) ? d : Array.isArray(d?.lineas) ? d.lineas : Array.isArray(d?.categorias) ? d.categorias : [];\r\n              ls = arr.map(normalizeLine);\r\n              if (ls.length) break;\r\n            } catch { /* ignore */ }\r\n          }\r\n          const toDelete = ls.filter(ll =>\r\n            (ll.categoria || '').toLowerCase().trim() === (l.categoria || '').toLowerCase().trim() &&\r\n            ll.tipo === l.tipo\r\n          );\r\n          for (const d of toDelete) {\r\n            await http.delete(`${baseURL}/api/presupuestos/${presupuestoId}/mes/${ymX}/lineas/${d.id}`);\r\n          }\r\n        }\r\n        setSnack({ open: true, message: `Eliminado en ${meses.length} mes(es)`, severity: 'success' });\r\n      }\r\n      setDlgVarios(false);\r\n      await reloadMes();\r\n    } catch (e) {\r\n      console.error(e);\r\n      setSnack({ open: true, message: 'Error en operacin por mltiples meses', severity: 'error' });\r\n    }\r\n  };\r\n  // ===== Render =====\r\n  if (loading) {\r\n    return (\r\n      <Box sx={{ width: '100%', p: 3 }}>\r\n        <LoadingSpinner message=\"Cargando detalle del mes...\" />\r\n      </Box>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <Box id=\"mes-detalle-content\" sx={{ width: '100%', p: 3 }}>\r\n      <Box\r\n        sx={{\r\n          display: 'flex',\r\n          alignItems: 'center',\r\n          gap: 1.5,\r\n          mb: 1.5,\r\n          justifyContent: 'flex-start',\r\n        }}\r\n      >\r\n        <Box sx={{ width: 40, display: 'flex', justifyContent: 'flex-start' }}>\r\n          <IconButton\r\n            size=\"small\"\r\n            onClick={() => prevYm && handleCambiarMes(prevYm)}\r\n            aria-label=\"Mes anterior\"\r\n            disabled={!prevYm}\r\n            sx={{\r\n              color: '#04564c',\r\n              '&.Mui-disabled': { color: '#04564c', opacity: 0.5 },\r\n            }}\r\n          >\r\n            <ChevronLeftIcon fontSize=\"small\" />\r\n          </IconButton>\r\n        </Box>\r\n        <Typography\r\n          variant=\"h4\"\r\n          fontWeight=\"600\"\r\n          sx={{\r\n            flexGrow: 0,\r\n            flexShrink: 0,\r\n            textAlign: 'center',\r\n            minWidth: '14ch',\r\n            whiteSpace: 'nowrap',\r\n          }}\r\n        >\r\n          {nombreMes}\r\n        </Typography>\r\n        <Box sx={{ width: 40, display: 'flex', justifyContent: 'flex-start' }}>\r\n          <IconButton\r\n            size=\"small\"\r\n            onClick={() => nextYm && handleCambiarMes(nextYm)}\r\n            aria-label=\"Mes siguiente\"\r\n            disabled={!nextYm}\r\n            sx={{\r\n              color: '#04564c',\r\n              '&.Mui-disabled': { color: '#04564c', opacity: 0.5 },\r\n            }}\r\n          >\r\n            <ChevronRightIcon fontSize=\"small\" />\r\n          </IconButton>\r\n        </Box>\r\n      </Box>\r\n      <Typography variant=\"subtitle1\" sx={{ color: 'text.primary' }} gutterBottom>Detalle de {presupuestoNombre}</Typography>\r\n\r\n      <Paper sx={{ p: 2, mb: 2 }}>\r\n        <Stack direction=\"row\" alignItems=\"center\" justifyContent=\"space-between\" flexWrap=\"wrap\" gap={2}>\r\n          <Stack direction=\"row\" spacing={2} alignItems=\"center\">\r\n            <Chip label={`Cumplimiento: ${(cumplimiento * 100).toFixed(0)}%`} color={cumplimiento >= 0.95 ? 'success' : cumplimiento >= 0.8 ? 'warning' : 'error'} />\r\n            <Chip\r\n              icon={vencidosEstimados > 0 ? <WarningAmberOutlinedIcon /> : undefined}\r\n              label={`${vencidosEstimados} movimientos estimados sin registrar`}\r\n              variant=\"filled\"\r\n              color={vencidosEstimados === 0 ? 'success' : undefined}\r\n              sx={vencidosEstimados === 0 ? undefined : SIN_PRONOSTICO_CHIP_SX}\r\n            />\r\n          </Stack>\r\n          <Stack direction=\"row\" spacing={1} alignItems=\"center\">\r\n            <ExportadorSimple onExportPdf={handleExportPdf} onExportExcel={handleExportExcel} />\r\n          </Stack>\r\n        </Stack>\r\n      </Paper>\r\n\r\n      <Box sx={{ display: 'flex', justifyContent: 'flex-start', alignItems: 'center', mb: 2, mt: 1, gap: 1, flexWrap: 'wrap' }}>\r\n        <Tabs value={tab} onChange={(e, v) => setTab(v)} indicatorColor=\"primary\">\r\n          <Tab\r\n            label=\"Resumen\"\r\n            sx={{\r\n              color: tabsLabelColor,\r\n              '&.Mui-selected': { color: tabsLabelColor },\r\n              '& .MuiTab-wrapper': { color: tabsLabelColor },\r\n            }}\r\n          />\r\n          <Tab\r\n            label=\"Datos brutos (editar)\"\r\n            sx={{\r\n              color: tabsLabelColor,\r\n              '&.Mui-selected': { color: tabsLabelColor },\r\n              '& .MuiTab-wrapper': { color: tabsLabelColor },\r\n            }}\r\n          />\r\n        </Tabs>\r\n      </Box>\r\n\r\n      {/* === Pestaa 0 === */}\r\n      {tab === 0 && (\r\n        <>\r\n          <Grid container spacing={3} mb={2}>\r\n            <Grid item xs={12} sm={6} md={4}>\r\n              <Paper sx={{ p: 3, textAlign: 'center', bgcolor: kpiColors.ingresos, color: 'white', height: '100%' }}>\r\n                <Avatar sx={{ width: 56, height: 56, bgcolor: 'white', color: 'success.main', mx: 'auto', mb: 1 }}>+</Avatar>\r\n                <Typography variant=\"h6\">Ingresos</Typography>\r\n                <Typography variant=\"body2\" sx={{ display: 'block', color: 'rgba(255,255,255,0.9)' }}>Real del mes</Typography>\r\n                <Typography variant=\"h4\" fontWeight=\"bold\">{formatCurrency(totalIngresos)}</Typography>\r\n                <Typography variant=\"body2\" sx={{ color: 'rgba(255,255,255,0.9)' }}>\r\n                  Estimado: {formatCurrency(totalIngresoEst)}\r\n                </Typography>\r\n              </Paper>\r\n            </Grid>\r\n            <Grid item xs={12} sm={6} md={4}>\r\n              <Paper sx={{ p: 3, textAlign: 'center', bgcolor: kpiColors.egresos, color: 'white', height: '100%' }}>\r\n                <Avatar sx={{ width: 56, height: 56, bgcolor: 'white', color: 'error.main', mx: 'auto', mb: 1 }}>-</Avatar>\r\n                <Typography variant=\"h6\">Egresos</Typography>\r\n                <Typography variant=\"body2\" sx={{ display: 'block', color: 'rgba(255,255,255,0.9)' }}>Real del mes</Typography>\r\n                <Typography variant=\"h4\" fontWeight=\"bold\">{formatCurrency(totalEgresos)}</Typography>\r\n                <Typography variant=\"body2\" sx={{ color: 'rgba(255,255,255,0.9)' }}>\r\n                  Estimado: {formatCurrency(totalEgresoEst)}\r\n                </Typography>\r\n              </Paper>\r\n            </Grid>\r\n            <Grid item xs={12} sm={6} md={4}>\r\n              <Paper sx={{ p: 3, textAlign: 'center', bgcolor: resultado >= 0 ? kpiColors.resultadoPos : kpiColors.resultadoNeg, color: 'white', height: '100%' }}>\r\n                <Avatar sx={{ width: 56, height: 56, bgcolor: 'white', color: resultado >= 0 ? 'info.main' : 'warning.main', mx: 'auto', mb: 1 }}>\r\n                  {resultado >= 0 ? '' : ''}\r\n                </Avatar>\r\n                <Typography variant=\"h6\">Resultado</Typography>\r\n                <Typography variant=\"h4\" fontWeight=\"bold\">{formatCurrency(resultado)}</Typography>\r\n                <Typography variant=\"body2\" sx={{ color: 'rgba(255,255,255,0.9)' }}>\r\n                  {resultado >= 0 ? 'Supervit' : 'Dficit'}\r\n                </Typography>\r\n              </Paper>\r\n            </Grid>\r\n          </Grid>\r\n\r\n          {/* Grficos */}\r\n          {pieDataIngresos.length > 0 ? (\r\n            <Paper sx={{ p: 3, mb: 2 }}>\r\n              <Typography variant=\"h6\" gutterBottom fontWeight=\"600\">Distribucin de Ingresos por Categora</Typography>\r\n              <ResponsiveContainer width=\"100%\" height={300}>\r\n                <PieChart>\r\n                  <Pie data={pieDataIngresos} dataKey=\"value\" nameKey=\"name\" cx=\"50%\" cy=\"50%\" outerRadius={100}\r\n                       label={({ name, percent }) => `${name} ${(percent * 100).toFixed(0)}%`}>\r\n                    {pieDataIngresos.map((_, i) => <Cell key={`ing-${i}`} fill={INGRESO_COLOR} opacity={0.7 + i * 0.1} />)}\r\n                  </Pie>\r\n                  <RTooltip formatter={(value) => formatCurrency(value)} />\r\n                  <Legend />\r\n                </PieChart>\r\n              </ResponsiveContainer>\r\n            </Paper>\r\n          ) : (\r\n            <Paper sx={{ p: 3, mb: 2, textAlign: 'center' }}>\r\n              <Typography color=\"text.secondary\">No hay ingresos registrados este mes.</Typography>\r\n            </Paper>\r\n          )}\r\n\r\n          {barDataIngresos.length > 0 && (\r\n            <Paper sx={{ p: 3, mb: 2 }}>\r\n              <Typography variant=\"h6\" gutterBottom fontWeight=\"600\">Ingresos: Estimado vs Real por Categora</Typography>\r\n              <Box sx={{ mt: 2 }}>\r\n                {barDataIngresos.map((item, index) => {\r\n                  const estimadoN = safeNumber(item.estimado);\r\n                  const realN = safeNumber(item.real);\r\n                  const max = Math.max(estimadoN, realN) * 1.2 || 1;\r\n                  const sinPronostico = estimadoN === 0 && realN > 0;\r\n                  return (\r\n                    <Box key={`${item.name}-${index}`} sx={{ mb: 3 }}>\r\n                      <Stack direction=\"row\" spacing={1} alignItems=\"center\" mb={1}>\r\n                        <Typography variant=\"subtitle1\" fontWeight=\"600\">{item.name}</Typography>\r\n                        {sinPronostico && (\r\n                          <Tooltip\r\n                            title=\"Este movimiento no tiene un monto estimado. Hac clic para pronosticar.\"\r\n                            disableHoverListener={!sinPronostico}\r\n                          >\r\n                            <Chip\r\n                              icon={<WarningAmberOutlinedIcon />}\r\n                              size=\"small\"\r\n                              label=\"Movimiento sin pronosticar\"\r\n                              sx={{ ...SIN_PRONOSTICO_CHIP_SX, cursor: 'pointer' }}\r\n                              onClick={goToDatosBrutos}\r\n                            />\r\n                          </Tooltip>\r\n                        )}\r\n                      </Stack>\r\n                      <Box sx={{ display: 'flex', flexDirection: 'column', gap: 1 }}>\r\n                        <Box sx={{ display: 'flex', alignItems: 'center', gap: 2 }}>\r\n                          <Typography variant=\"body2\" sx={{ minWidth: 80 }}>Estimado:</Typography>\r\n                          <Box sx={{ flex: 1, height: 30 }}>\r\n                            <ResponsiveContainer width=\"100%\" height={30}>\r\n                              <BarChart data={[{ name: item.name, valor: item.estimado }]} layout=\"vertical\">\r\n                                <XAxis type=\"number\" domain={[0, max]} hide />\r\n                                <YAxis type=\"category\" dataKey=\"name\" hide />\r\n                                <RTooltip formatter={(value) => [formatCurrency(value), '']} />\r\n                                <Bar dataKey=\"valor\" fill={INGRESO_EST_COLOR} radius={[4,4,4,4]}\r\n                                     label={{ position: 'right', formatter: (v) => formatCurrency(v) }} />\r\n                              </BarChart>\r\n                            </ResponsiveContainer>\r\n                          </Box>\r\n                        </Box>\r\n                        <Box sx={{ display: 'flex', alignItems: 'center', gap: 2 }}>\r\n                          <Typography variant=\"body2\" sx={{ minWidth: 80 }}>Real:</Typography>\r\n                          <Box sx={{ flex: 1, height: 30 }}>\r\n                            <ResponsiveContainer width=\"100%\" height={30}>\r\n                              <BarChart data={[{ name: item.name, valor: item.real }]} layout=\"vertical\">\r\n                                <XAxis type=\"number\" domain={[0, max]} hide />\r\n                                <YAxis type=\"category\" dataKey=\"name\" hide />\r\n                                <RTooltip formatter={(value) => [formatCurrency(value), '']} />\r\n                                <Bar dataKey=\"valor\" fill={INGRESO_COLOR} radius={[4,4,4,4]}\r\n                                     label={{ position: 'right', formatter: (v) => formatCurrency(v) }} />\r\n                              </BarChart>\r\n                            </ResponsiveContainer>\r\n                          </Box>\r\n                        </Box>\r\n                      </Box>\r\n                    </Box>\r\n                  );\r\n                })}\r\n              </Box>\r\n            </Paper>\r\n          )}\r\n\r\n          {pieDataEgresos.length > 0 ? (\r\n            <Paper sx={{ p: 3, mb: 2 }}>\r\n              <Typography variant=\"h6\" gutterBottom fontWeight=\"600\">Distribucin de Egresos por Categora</Typography>\r\n              <ResponsiveContainer width=\"100%\" height={300}>\r\n                <PieChart>\r\n                  <Pie data={pieDataEgresos} dataKey=\"value\" nameKey=\"name\" cx=\"50%\" cy=\"50%\" outerRadius={100}\r\n                       label={({ name, percent }) => `${name} ${(percent * 100).toFixed(0)}%`}>\r\n                    {pieDataEgresos.map((_, i) => <Cell key={`egr-${i}`} fill={EGRESO_COLOR} opacity={0.7 + i * 0.1} />)}\r\n                  </Pie>\r\n                  <RTooltip formatter={(value) => formatCurrency(value)} />\r\n                  <Legend />\r\n                </PieChart>\r\n              </ResponsiveContainer>\r\n            </Paper>\r\n          ) : (\r\n            <Paper sx={{ p: 3, mb: 2, textAlign: 'center' }}>\r\n              <Typography color=\"text.secondary\">No hay egresos registrados este mes.</Typography>\r\n            </Paper>\r\n          )}\r\n\r\n          {barDataEgresos.length > 0 && (\r\n            <Paper sx={{ p: 3 }}>\r\n              <Typography variant=\"h6\" gutterBottom fontWeight=\"600\">Egresos: Estimado vs Real por Categora</Typography>\r\n              <Box sx={{ mt: 2 }}>\r\n                {barDataEgresos.map((item, index) => {\r\n                  const estimadoN = safeNumber(item.estimado);\r\n                  const realN = safeNumber(item.real);\r\n                  const max = Math.max(estimadoN, realN) * 1.2 || 1;\r\n                  const sinPronostico = estimadoN === 0 && realN > 0;\r\n                  return (\r\n                    <Box key={`${item.name}-${index}`} sx={{ mb: 3 }}>\r\n                      <Stack direction=\"row\" spacing={1} alignItems=\"center\" mb={1}>\r\n                        <Typography variant=\"subtitle1\" fontWeight=\"600\">{item.name}</Typography>\r\n                        {sinPronostico && (\r\n                          <Tooltip\r\n                            title=\"Este movimiento no tiene un monto estimado. Hac clic para pronosticar.\"\r\n                            disableHoverListener={!sinPronostico}\r\n                          >\r\n                            <Chip\r\n                              icon={<WarningAmberOutlinedIcon />}\r\n                              size=\"small\"\r\n                              label=\"Movimiento sin pronosticar\"\r\n                              sx={{ ...SIN_PRONOSTICO_CHIP_SX, cursor: 'pointer' }}\r\n                              onClick={goToDatosBrutos}\r\n                            />\r\n                          </Tooltip>\r\n                        )}\r\n                      </Stack>\r\n                      <Box sx={{ display: 'flex', flexDirection: 'column', gap: 1 }}>\r\n                        <Box sx={{ display: 'flex', alignItems: 'center', gap: 2 }}>\r\n                          <Typography variant=\"body2\" sx={{ minWidth: 80 }}>Estimado:</Typography>\r\n                          <Box sx={{ flex: 1, height: 30 }}>\r\n                            <ResponsiveContainer width=\"100%\" height={30}>\r\n                              <BarChart data={[{ name: item.name, valor: item.estimado }]} layout=\"vertical\">\r\n                                <XAxis type=\"number\" domain={[0, max]} hide />\r\n                                <YAxis type=\"category\" dataKey=\"name\" hide />\r\n                                <RTooltip formatter={(value) => [formatCurrency(value), '']} />\r\n                                <Bar dataKey=\"valor\" fill={EGRESO_EST_COLOR} radius={[4,4,4,4]}\r\n                                     label={{ position: 'right', formatter: (v) => formatCurrency(v) }} />\r\n                              </BarChart>\r\n                            </ResponsiveContainer>\r\n                          </Box>\r\n                        </Box>\r\n                        <Box sx={{ display: 'flex', alignItems: 'center', gap: 2 }}>\r\n                          <Typography variant=\"body2\" sx={{ minWidth: 80 }}>Real:</Typography>\r\n                          <Box sx={{ flex: 1, height: 30 }}>\r\n                            <ResponsiveContainer width=\"100%\" height={30}>\r\n                              <BarChart data={[{ name: item.name, valor: item.real }]} layout=\"vertical\">\r\n                                <XAxis type=\"number\" domain={[0, max]} hide />\r\n                                <YAxis type=\"category\" dataKey=\"name\" hide />\r\n                                <RTooltip formatter={(value) => [formatCurrency(value), '']} />\r\n                                <Bar dataKey=\"valor\" fill={EGRESO_COLOR} radius={[4,4,4,4]}\r\n                                     label={{ position: 'right', formatter: (v) => formatCurrency(v) }} />\r\n                              </BarChart>\r\n                            </ResponsiveContainer>\r\n                          </Box>\r\n                        </Box>\r\n                      </Box>\r\n                    </Box>\r\n                  );\r\n                })}\r\n              </Box>\r\n            </Paper>\r\n          )}\r\n        </>\r\n      )}\r\n\r\n      {/* === Pestaa 1: Tabla editable === */}\r\n      {tab === 1 && (\r\n        <Paper sx={{ p: 2 }}>\r\n          {/* Agregar nueva lnea */}\r\n          <Box sx={{ mb: 2 }}>\r\n            {!agregando ? (\r\n              <Button startIcon={<AddCircleOutlineIcon />} variant=\"contained\" onClick={() => setAgregando(true)}>\r\n                Agregar categora\r\n              </Button>\r\n            ) : (\r\n              <Grid container spacing={1} alignItems=\"center\">\r\n                <Grid item xs={12} md={4} sx={{ minWidth: 240 }}>\r\n                  <Autocomplete\r\n                    size=\"small\"\r\n                    fullWidth\r\n                    value={nueva.categoria || null}\r\n                    onChange={(_, newValue) => {\r\n                      setNueva((s) => ({ ...s, categoria: newValue || '' }));\r\n                    }}\r\n                    options={opcionesNuevaLinea}\r\n                    freeSolo={false}\r\n                    disableClearable\r\n                    forcePopupIcon\r\n                    popupIcon={<KeyboardArrowDownIcon />}\r\n                    componentsProps={{\r\n                      popupIndicator: {\r\n                        disableRipple: true,\r\n                        disableFocusRipple: true,\r\n                        sx: {\r\n                          p: 0,\r\n                          m: 0,\r\n                          bgcolor: 'transparent',\r\n                          border: 'none',\r\n                          boxShadow: 'none',\r\n                          '&:hover': { bgcolor: 'transparent' },\r\n                          '& .MuiTouchRipple-root': { display: 'none' },\r\n                          '& .MuiSvgIcon-root': { fontSize: 24 },\r\n                        },\r\n                      },\r\n                      clearIndicator: { sx: { display: 'none' } },\r\n                    }}\r\n                    sx={{\r\n                      '& .MuiAutocomplete-endAdornment': {\r\n                        right: 0,\r\n                        top: '50%',\r\n                        transform: 'translateY(-50%)',\r\n                      },\r\n                      '& .MuiAutocomplete-popupIndicator': { p: 0 },\r\n                      '& .MuiAutocomplete-popupIndicatorOpen .MuiSvgIcon-root': {\r\n                        transform: 'none',\r\n                      },\r\n                    }}\r\n                    renderInput={(params) => (\r\n                      <TextField\r\n                        {...params}\r\n                        label=\"Categora\"\r\n                        size=\"small\"\r\n                        fullWidth\r\n                        InputLabelProps={params.InputLabelProps}\r\n                      />\r\n                    )}\r\n                  />\r\n                </Grid>\r\n                <Grid item xs={12} md={2}>\r\n                  <FormControl fullWidth size=\"small\" sx={buildTipoSelectSx(nueva.tipo)}>\r\n                    <InputLabel>Tipo</InputLabel>\r\n                    <Select\r\n                      label=\"Tipo\"\r\n                      value={nueva.tipo}\r\n                      onChange={(e) => setNueva((s) => ({ ...s, tipo: e.target.value }))}\r\n                      size=\"small\"\r\n                    >\r\n                      <MenuItem value=\"Ingreso\">INGRESO</MenuItem>\r\n                      <MenuItem value=\"Egreso\">EGRESO</MenuItem>\r\n                    </Select>\r\n                  </FormControl>\r\n                </Grid>\r\n                <Grid item xs={12} md={3}>\r\n                  <TextField\r\n                    label=\"Estimado\"\r\n                    type=\"text\"\r\n                    fullWidth\r\n                    size=\"small\"\r\n                    InputLabelProps={{ sx: CENTERED_INPUT_LABEL_SX }}\r\n                    value={formatCurrencyInput(nueva.montoEstimado)}\r\n                    onChange={(e) => {\r\n                      const parsed = parseCurrency(e.target.value, { returnEmpty: true });\r\n                      setNueva((s) => ({ ...s, montoEstimado: parsed === '' ? '' : parsed }));\r\n                    }}\r\n                    inputProps={{ inputMode: 'numeric' }}\r\n                  />\r\n                </Grid>\r\n                <Grid item xs={12} md={3} display=\"flex\" gap={1} justifyContent=\"flex-end\">\r\n                  <Button variant=\"outlined\" onClick={() => { setAgregando(false); setNueva({ categoria: '', tipo: 'Egreso', montoEstimado: '' }); }}>\r\n                    Cancelar\r\n                  </Button>\r\n                  <Button variant=\"contained\" onClick={addLinea}>Guardar</Button>\r\n                </Grid>\r\n              </Grid>\r\n            )}\r\n          </Box>\r\n\r\n          <Divider sx={{ my: 2 }} />\r\n\r\n          <Box sx={{ overflowX: 'auto' }}>\r\n            <table style={{ width: '100%', borderCollapse: 'collapse' }}>\r\n              <thead>\r\n                <tr style={{ fontWeight: 'bold', borderBottom: '1px solid var(--mui-palette-divider)' }}>\r\n                  <th style={{ padding: 12, borderRight: '1px solid var(--mui-palette-divider)' }}>Categora</th>\r\n                  <th style={{ padding: 12, borderRight: '1px solid var(--mui-palette-divider)' }}>Tipo</th>\r\n                  <th style={{ padding: 12, borderRight: '1px solid var(--mui-palette-divider)' }}>Estimado</th>\r\n                  <th style={{ padding: 12, borderRight: '1px solid var(--mui-palette-divider)' }}>Real</th>\r\n                  <th style={{ padding: 12, borderRight: '1px solid var(--mui-palette-divider)' }}>Desvo</th>\r\n                  <th style={{ padding: 12 }}>Acciones</th>\r\n                </tr>\r\n              </thead>\r\n              <tbody>\r\n                {lineasCompleto.length > 0 ? (\r\n                  lineasCompleto.map((item, idx) => {\r\n                    const e = edits[item.id] || { categoria: '', tipo: 'Egreso', montoEstimado: 0, real: '' };\r\n                    const estimadoOriginal = safeNumber(item.montoEstimado);\r\n                    const estimadoRaw = e.montoEstimado;\r\n                    const estimadoN = estimadoRaw === '' ? 0 : safeNumber(estimadoRaw);\r\n                    const realN = e.real === '' ? 0 : safeNumber(e.real);\r\n                    const manualEnabled = isFieldUnlocked(item.id, 'categoria');\r\n                    const esSoloReal = Boolean(item._soloReal);\r\n                    const cambioPendienteEstimado = manualEnabled && (estimadoRaw === '' || estimadoN !== estimadoOriginal);\r\n                    const sinPronostico = esSoloReal && realN > 0 && !cambioPendienteEstimado;\r\n                    const desvio = e.tipo === 'Egreso' ? (estimadoN - realN) : (realN - estimadoN);\r\n                    const realMovementIds = Array.isArray(item.movimientoIds) ? item.movimientoIds : [];\r\n                    const baseIdx = lineas.findIndex((l) => l.id === item.id);\r\n\r\n                    const updateField = (field, value) =>\r\n                      setEdits((prev) => ({ ...prev, [item.id]: { ...prev[item.id], [field]: value } }));\r\n\r\n                    const handleGuardar = () => {\r\n                      const payload = {\r\n                        id: item.id,\r\n                        categoria: e.categoria,\r\n                        tipo: e.tipo,\r\n                        montoEstimado: safeNumber(e.montoEstimado),\r\n                        real: e.real === '' ? null : safeNumber(e.real),\r\n                      };\r\n                      if (esSoloReal) {\r\n                        crearLineaDesdeReal(payload);\r\n                      } else {\r\n                        patchLinea(payload);\r\n                      }\r\n                    };\r\n\r\n                    return (\r\n                      <tr key={item.id} style={{ borderBottom: '1px solid var(--mui-palette-divider)' }}>\r\n                        <td style={{ padding: 12, borderRight: '1px solid var(--mui-palette-divider)', minWidth: 215 }}>\r\n                          <Box display=\"flex\" alignItems=\"center\" gap={1}>\r\n                            {manualEnabled ? (\r\n                              (() => {\r\n                                // Oculta las categoras ya asignadas a otras lneas del mismo mes.\r\n                                const categoriaActual = e.categoria || '';\r\n                                const categoriaActualNorm = normCat(categoriaActual);\r\n                                const categoriasOcupadas = new Set(\r\n                                  lineasCompleto\r\n                                    .filter((otra) => otra.id !== item.id)\r\n                                    .map((otra) => (edits[otra.id]?.categoria ?? otra.categoria ?? ''))\r\n                                    .map((valor) => normCat(valor))\r\n                                    .filter(Boolean)\r\n                                );\r\n\r\n                                let opcionesDisponibles = categoriasOptions.filter((option) => {\r\n                                  if (typeof option !== 'string') return false;\r\n                                  const normalizada = normCat(option);\r\n                                  if (!normalizada) return false;\r\n                                  if (normalizada === categoriaActualNorm) return true;\r\n                                  return !categoriasOcupadas.has(normalizada);\r\n                                });\r\n\r\n                                if (categoriaActual && !opcionesDisponibles.some((opt) => normCat(opt) === categoriaActualNorm)) {\r\n                                  opcionesDisponibles = [categoriaActual, ...opcionesDisponibles];\r\n                                }\r\n\r\n                                return (\r\n                                  <Autocomplete\r\n                                    size=\"small\"\r\n                                    fullWidth\r\n                                    value={e.categoria || null}\r\n                                    onChange={(_, newValue) => {\r\n                                      updateField('categoria', newValue || '');\r\n                                    }}\r\n                                    options={opcionesDisponibles}\r\n                                    freeSolo={false}\r\n                                    disableClearable\r\n                                    forcePopupIcon\r\n                                    popupIcon={<KeyboardArrowDownIcon />}\r\n                                    componentsProps={{\r\n                                      popupIndicator: {\r\n                                        disableRipple: true,\r\n                                        disableFocusRipple: true,\r\n                                        sx: {\r\n                                          p: 0,\r\n                                          m: 0,\r\n                                          bgcolor: 'transparent',\r\n                                          border: 'none',\r\n                                          boxShadow: 'none',\r\n                                          '&:hover': { bgcolor: 'transparent' },\r\n                                          '& .MuiTouchRipple-root': { display: 'none' },\r\n                                          '& .MuiSvgIcon-root': { fontSize: 24 },\r\n                                        },\r\n                                      },\r\n                                      clearIndicator: { sx: { display: 'none' } },\r\n                                    }}\r\n                                    sx={{\r\n                                      '& .MuiAutocomplete-endAdornment': {\r\n                                        right: 0,\r\n                                        top: '50%',\r\n                                        transform: 'translateY(-50%)',\r\n                                      },\r\n                                      '& .MuiAutocomplete-popupIndicator': { p: 0 },\r\n                                      '& .MuiAutocomplete-popupIndicatorOpen .MuiSvgIcon-root': {\r\n                                        transform: 'none',\r\n                                      },\r\n                                    }}\r\n                                    renderInput={(params) => (\r\n                                      <TextField\r\n                                        {...params}\r\n                                        size=\"small\"\r\n                                        fullWidth\r\n                                      />\r\n                                    )}\r\n                                  />\r\n                                );\r\n                              })()\r\n                            ) : (\r\n                              <TextField\r\n                                size=\"small\"\r\n                                fullWidth\r\n                                value={e.categoria}\r\n                                InputProps={{ readOnly: true }}\r\n                              />\r\n                            )}\r\n                          </Box>\r\n                        </td>\r\n                        <td style={{ padding: 12, borderRight: '1px solid var(--mui-palette-divider)', minWidth: 100 }}>\r\n                          <FormControl size=\"small\" fullWidth disabled={!manualEnabled} sx={buildTipoSelectSx(e.tipo)}>\r\n                            <Select\r\n                              value={e.tipo}\r\n                              onChange={(ev) => {\r\n                                if (!manualEnabled) return;\r\n                                updateField('tipo', ev.target.value);\r\n                              }}\r\n                              size=\"small\"\r\n                              disabled={!manualEnabled}\r\n                            >\r\n                              <MenuItem value=\"Ingreso\">INGRESO</MenuItem>\r\n                              <MenuItem value=\"Egreso\">EGRESO</MenuItem>\r\n                            </Select>\r\n                          </FormControl>\r\n                        </td>\r\n                        <td style={{ padding: 12, borderRight: '1px solid var(--mui-palette-divider)', minWidth: 180 }}>\r\n                          <Box display=\"flex\" alignItems=\"center\" gap={1}>\r\n                            <TextField\r\n                              size=\"small\"\r\n                              type=\"text\"\r\n                              fullWidth\r\n                              value={formatCurrencyInput(e.montoEstimado)}\r\n                              onChange={(ev) => {\r\n                                if (!manualEnabled) return;\r\n                                updateField('montoEstimado', parseCurrency(ev.target.value));\r\n                              }}\r\n                              InputProps={{ readOnly: !manualEnabled }}\r\n                              inputProps={{ inputMode: 'numeric' }}\r\n                            />\r\n                            {manualEnabled ? (\r\n                              <Tooltip title=\"Deshabilitar edicin manual\">\r\n                                <IconButton size=\"small\" onClick={() => toggleManualGuard(item.id, 'categoria', false)}>\r\n                                  <EditOffOutlinedIcon fontSize=\"small\" color=\"warning\" />\r\n                                </IconButton>\r\n                              </Tooltip>\r\n                            ) : (\r\n                              <Tooltip title=\"Editar (categora, tipo y estimado)\">\r\n                                <IconButton size=\"small\" onClick={() => requestManualUnlock(item.id, 'categoria')}>\r\n                                  <EditOutlinedIcon fontSize=\"small\" />\r\n                                </IconButton>\r\n                              </Tooltip>\r\n                            )}\r\n                          </Box>\r\n                        </td>\r\n                        <td style={{ padding: 12, borderRight: '1px solid var(--mui-palette-divider)', minWidth: 180 }}>\r\n                          <Box display=\"flex\" alignItems=\"center\" gap={1}>\r\n                            <TextField\r\n                              size=\"small\"\r\n                              type=\"text\"\r\n                              fullWidth\r\n                              value={formatCurrencyInput(e.real)}\r\n                              InputProps={{ readOnly: true }}\r\n                              inputProps={{ inputMode: 'numeric' }}\r\n                            />\r\n                            <Tooltip title={realMovementIds.length ? 'Editar monto real' : 'No hay movimientos para editar'}>\r\n                              <IconButton size=\"small\" onClick={() => requestManualUnlock(item.id, 'real')}>\r\n                                <LockOutlinedIcon fontSize=\"small\" />\r\n                              </IconButton>\r\n                            </Tooltip>\r\n                          </Box>\r\n                        </td>\r\n                        <td style={{ padding: 12, borderRight: '1px solid var(--mui-palette-divider)', color: desvio >= 0 ? '#66bb6a' : '#ef5350' , minWidth: 100 }}>\r\n                          {desvio >= 0 ? '+' : '-'}{formatCurrency(Math.abs(desvio))}\r\n                        </td>\r\n                        <td style={{ padding: 12, whiteSpace: 'nowrap', textAlign: 'center' }}>\r\n                          <Box sx={{ display: 'flex', justifyContent: 'center', alignItems: 'center', gap: 1.5 }}>\r\n                            <Tooltip title={esSoloReal ? 'Crear linea de presupuesto con este movimiento' : 'Guardar cambios'}>\r\n                              <span>\r\n                                <IconButton size=\"small\" onClick={handleGuardar}>\r\n                                  <SaveOutlinedIcon />\r\n                                </IconButton>\r\n                              </span>\r\n                            </Tooltip>\r\n                            {sinPronostico && (\r\n                              <Tooltip title=\"Movimiento sin pronosticar: no tiene monto estimado.\">\r\n                                <Chip\r\n                                  size=\"small\"\r\n                                  icon={<WarningAmberOutlinedIcon fontSize=\"small\" />}\r\n                                  label=\"Sin pronosticar\"\r\n                                  variant=\"filled\"\r\n                                  sx={SIN_PRONOSTICO_CHIP_SX}\r\n                                />\r\n                              </Tooltip>\r\n                            )}\r\n                            {!esSoloReal && (\r\n                              <>\r\n                                <Tooltip title=\"Eliminar esta linea\">\r\n                                  <span>\r\n                                    <IconButton size=\"small\" onClick={() => openDeletePrompt(item)}>\r\n                                      <DeleteOutlineIcon />\r\n                                    </IconButton>\r\n                                  </span>\r\n                                </Tooltip>\r\n                                <Tooltip title=\"Aplicar esta linea a varios meses\">\r\n                                  <span>\r\n                                    <IconButton\r\n                                      size=\"small\"\r\n                                      onClick={() => {\r\n                                        if (baseIdx >= 0) abrirDlgVariosConFila(baseIdx);\r\n                                      }}\r\n                                    >\r\n                                      <ContentCopyIcon />\r\n                                    </IconButton>\r\n                                  </span>\r\n                                </Tooltip>\r\n                              </>\r\n                            )}\r\n                          </Box>\r\n                        </td>\r\n                      </tr>\r\n                    );\r\n                  })\r\n                ) : (\r\n                  <tr>\r\n                    <td colSpan={6} style={{ textAlign: 'center', padding: 20, color: 'var(--mui-palette-text-secondary)' }}>\r\n                      No hay datos disponibles.\r\n                    </td>\r\n                  </tr>\r\n                )}\r\n              </tbody>\r\n            </table>\r\n          </Box>\r\n        </Paper>\r\n      )}\r\n\r\n      {/* Volver */}\r\n      <Box mt={4} display=\"flex\" justifyContent=\"space-between\" alignItems=\"center\" flexWrap=\"wrap\" gap={1}>\r\n        <Button variant=\"outlined\" onClick={() => navigate(-1)}>Volver</Button>\r\n      </Box>\r\n\r\n      {/* Confirmar edicin manual */}\r\n      <Dialog open={guardPrompt.open} onClose={handleGuardCancel} maxWidth=\"sm\" fullWidth>\r\n        <DialogTitle>{guardPrompt.title || 'Confirmar edicin manual'}</DialogTitle>\r\n        <DialogContent dividers>\r\n          <Typography variant=\"body2\" color=\"text.secondary\">\r\n            {guardPrompt.message || 'Esta accin habilita la edicin manual.'}\r\n          </Typography>\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button onClick={handleGuardCancel}>Cancelar</Button>\r\n          <Button variant=\"contained\" color=\"warning\" onClick={handleGuardConfirm}>\r\n            {guardPrompt.confirmLabel || 'Confirmar'}\r\n          </Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n\r\n      <Dialog open={deletePrompt.open} onClose={closeDeletePrompt} maxWidth=\"xs\" fullWidth>\r\n        <DialogTitle>Eliminar movimiento</DialogTitle>\r\n        <DialogContent dividers>\r\n          <Typography variant=\"body2\" color=\"text.secondary\">\r\n            Se eliminar la categora <strong>{deletePrompt.categoria || 'sin nombre'}</strong> ({deletePrompt.tipo ? deletePrompt.tipo.toLowerCase() : 'movimiento'}) de este mes.\r\n          </Typography>\r\n          <Typography variant=\"body2\" color=\"text.secondary\" sx={{ mt: 1 }}>\r\n            Esta accin no se puede deshacer.\r\n          </Typography>\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button onClick={closeDeletePrompt}>Cancelar</Button>\r\n          <Button variant=\"contained\" color=\"error\" onClick={confirmDeletePrompt}>Eliminar</Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n\r\n      {/* Dilogo Reglas rpidas (visual) */}\r\n      <Dialog open={dlgReglas} onClose={() => setDlgReglas(false)} fullWidth maxWidth=\"sm\">\r\n        <DialogTitle>Reglas rpidas (simulacin)</DialogTitle>\r\n        <DialogContent dividers>\r\n          <Stack spacing={2} sx={{ mt: 1 }}>\r\n            <TextField select label=\"mbito\" value={regla.ambito} onChange={(e) => setRegla((r) => ({ ...r, ambito: e.target.value }))}>\r\n              <MenuItem value=\"este_mes\">Este mes</MenuItem>\r\n              <MenuItem value=\"hasta_fin\">Desde este mes hasta fin de ao</MenuItem>\r\n              <MenuItem value=\"rango\">Rango personalizado</MenuItem>\r\n            </TextField>\r\n            {regla.ambito === 'rango' && (\r\n              <Stack direction=\"row\" spacing={2}>\r\n                <TextField label=\"Desde (YYYY-MM)\" value={regla.rangoDesde} onChange={(e) => setRegla((r) => ({ ...r, rangoDesde: e.target.value }))} />\r\n                <TextField label=\"Hasta (YYYY-MM)\" value={regla.rangoHasta} onChange={(e) => setRegla((r) => ({ ...r, rangoHasta: e.target.value }))} />\r\n              </Stack>\r\n            )}\r\n            <TextField select label=\"Modo\" value={regla.modo} onChange={(e) => setRegla((r) => ({ ...r, modo: e.target.value }))}>\r\n              <MenuItem value=\"FIJO\">Monto fijo</MenuItem>\r\n              <MenuItem value=\"AJUSTE_PCT\">% Ajuste mensual</MenuItem>\r\n              <MenuItem value=\"UNICO\">nico (1 mes)</MenuItem>\r\n              <MenuItem value=\"CUOTAS\">En cuotas</MenuItem>\r\n            </TextField>\r\n            <TextField\r\n              label={regla.modo === 'AJUSTE_PCT' ? '% valor' : 'Monto'}\r\n              type={regla.modo === 'AJUSTE_PCT' ? 'number' : 'text'}\r\n              value={regla.modo === 'AJUSTE_PCT' ? regla.valor : formatCurrencyInput(regla.valor)}\r\n              onChange={(e) => {\r\n                if (regla.modo === 'AJUSTE_PCT') {\r\n                  setRegla((r) => ({ ...r, valor: Number(e.target.value) }));\r\n                } else {\r\n                  const parsed = parseCurrency(e.target.value, { returnEmpty: true });\r\n                  setRegla((r) => ({ ...r, valor: parsed === '' ? '' : parsed }));\r\n                }\r\n              }}\r\n              inputProps={regla.modo === 'AJUSTE_PCT' ? { step: 0.1, inputMode: 'decimal' } : { inputMode: 'numeric' }}\r\n            />\r\n            <TextField select label=\"Aplicar a\" value={regla.solo} onChange={(e) => setRegla((r) => ({ ...r, solo: e.target.value }))}>\r\n              <MenuItem value=\"todos\">Ingresos y egresos</MenuItem>\r\n              <MenuItem value=\"Ingresos\">Solo ingresos</MenuItem>\r\n              <MenuItem value=\"Egresos\">Solo egresos</MenuItem>\r\n            </TextField>\r\n            <Paper variant=\"outlined\" sx={{ p: 2 }}>\r\n              <Typography variant=\"subtitle2\" gutterBottom>Previsualizacin (conceptual)</Typography>\r\n              <Typography variant=\"body2\" color=\"text.secondary\">\r\n                Aqu mostraras una mini-grilla con las celdas impactadas antes de confirmar.\r\n              </Typography>\r\n            </Paper>\r\n            <FormControlLabel control={<Switch checked={simulacion} onChange={(_, v) => setSimulacion(v)} />} label=\"Simular cambios (no impacta datos reales)\" />\r\n          </Stack>\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button onClick={() => setDlgReglas(false)}>Cerrar</Button>\r\n          <Button variant=\"contained\" disabled={!simulacion} onClick={() => { setDlgReglas(false); window.alert('Simulacin: regla aplicada (visual).'); }}>\r\n            Aplicar (visual)\r\n          </Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n\r\n      {/* Dilogo varios meses */}\r\n      <Dialog open={dlgVarios} onClose={() => setDlgVarios(false)} fullWidth maxWidth=\"sm\">\r\n        <DialogTitle>Aplicar a varios meses</DialogTitle>\r\n        <DialogContent dividers>\r\n          <Stack spacing={2}>\r\n            <TextField select label=\"Accin\" value={bulkCfg.accion} onChange={(e) => setBulkCfg((s) => ({ ...s, accion: e.target.value }))}>\r\n              <MenuItem value=\"replicar\">Replicar esta lnea en un rango</MenuItem>\r\n              <MenuItem value=\"eliminar\">Eliminar esta categora (mismo tipo) en un rango</MenuItem>\r\n            </TextField>\r\n            <Stack direction=\"row\" spacing={2}>\r\n              <TextField label=\"Desde (YYYY-MM)\" value={bulkCfg.desde} onChange={(e) => setBulkCfg((s) => ({ ...s, desde: e.target.value }))} placeholder=\"2025-07\" />\r\n              <TextField label=\"Hasta (YYYY-MM)\" value={bulkCfg.hasta} onChange={(e) => setBulkCfg((s) => ({ ...s, hasta: e.target.value }))} placeholder=\"2025-12\" />\r\n            </Stack>\r\n            <Typography variant=\"body2\" color=\"text.secondary\">\r\n               Replicar: crea una lnea por cada mes con los mismos valores (no deduplica).<br />\r\n               Eliminar: busca por <b>categora + tipo</b> en cada mes y borra coincidencias.\r\n            </Typography>\r\n          </Stack>\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button onClick={() => setDlgVarios(false)}>Cancelar</Button>\r\n          <Button variant=\"contained\" onClick={ejecutarBulk}>Confirmar</Button>\r\n        </DialogActions>\r\n      </Dialog>      {/* Snackbar */}\r\n      <Snackbar\r\n        open={snack.open}\r\n        autoHideDuration={3000}\r\n        onClose={() => setSnack((s) => ({ ...s, open: false }))}\r\n        anchorOrigin={{ vertical: 'bottom', horizontal: 'center' }}\r\n      >\r\n        <Alert onClose={() => setSnack((s) => ({ ...s, open: false }))} severity={snack.severity} sx={{ width: '100%' }}>\r\n          {snack.message}\r\n        </Alert>\r\n      </Snackbar>\r\n    </Box>\r\n  );\r\n}\r\n","\"use client\";\n\nimport createSvgIcon from \"./utils/createSvgIcon.js\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon(/*#__PURE__*/_jsx(\"path\", {\n  d: \"M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2m0 16H8V7h11z\"\n}), 'ContentCopy');","export const numberFormatter = new Intl.NumberFormat('es-AR', {\r\n  minimumFractionDigits: 0,\r\n  maximumFractionDigits: 2,\r\n});\r\n\r\nexport const formatCurrency = (value, { allowEmpty = false } = {}) => {\r\n  if (value === '' || value === null || typeof value === 'undefined') {\r\n    return allowEmpty ? '' : '$ 0';\r\n  }\r\n  const num = Number(value);\r\n  if (Number.isNaN(num)) {\r\n    return allowEmpty ? '' : '$ 0';\r\n  }\r\n  const sign = num < 0 ? '-' : '';\r\n  return `${sign}$ ${numberFormatter.format(Math.abs(num))}`;\r\n};\r\n\r\nexport const formatCurrencyInput = (value) => formatCurrency(value, { allowEmpty: true });\r\n\r\nexport const parseCurrency = (raw, { returnEmpty = false } = {}) => {\r\n  if (raw == null) return returnEmpty ? '' : 0;\r\n  const str = raw.toString().trim();\r\n  if (!str) return returnEmpty ? '' : 0;\r\n  const cleaned = str.replace(/\\s+/g, '').replace(/\\$/g, '');\r\n  const negative = cleaned.startsWith('-');\r\n  const numeric = cleaned.replace(/[^0-9,.-]/g, '');\r\n  if (!numeric || numeric === '-') return returnEmpty ? '' : 0;\r\n  const normalized = numeric\r\n    .replace(/-/g, '')\r\n    .replace(/\\./g, '')\r\n    .replace(',', '.');\r\n  const num = Number(normalized);\r\n  if (Number.isNaN(num)) return returnEmpty ? '' : 0;\r\n  return negative ? -num : num;\r\n};\r\n","import * as React from 'react';\r\nimport { Box, IconButton, Tooltip } from '@mui/material';\r\nimport PictureAsPdfIcon from '@mui/icons-material/PictureAsPdf';\r\nimport GridOnIcon from '@mui/icons-material/GridOn'; // <-- Nuevo icono para Excel\r\n\r\nconst EXPORT_PDF_BG = '#FDE4E3';\r\nconst EXPORT_PDF_BG_HOVER = '#FACDCA';\r\nconst EXPORT_EXCEL_BG = '#E5F4E5';\r\nconst EXPORT_EXCEL_BG_HOVER = '#CAE7CB';\r\n\r\nexport default function ExportadorSimple({\r\n                                             onExportPdf,\r\n                                             onExportExcel,\r\n                                             sx = {},\r\n                                         }) {\r\n    return (\r\n        <Box\r\n            sx={{\r\n                display: 'flex',\r\n                gap: 1,\r\n                // NO posicin fija por defecto para mayor flexibilidad\r\n                ...sx,\r\n            }}\r\n        >\r\n            <Tooltip title=\"Exportar PDF\">\r\n                <IconButton\r\n                    onClick={onExportPdf}\r\n                    size=\"small\"\r\n                    color=\"error\"\r\n                    sx={(theme) => {\r\n                        const hoverStyles = {\r\n                            bgcolor: `${EXPORT_PDF_BG_HOVER} !important`,\r\n                            backgroundColor: `${EXPORT_PDF_BG_HOVER} !important`,\r\n                            borderColor: '#d32f2f',\r\n                            '& .MuiSvgIcon-root': {\r\n                                color: '#000 !important',\r\n                            },\r\n                        };\r\n                        return {\r\n                            border: '1px solid',\r\n                            borderColor: '#d32f2f',\r\n                            bgcolor: `${EXPORT_PDF_BG} !important`,\r\n                            backgroundColor: `${EXPORT_PDF_BG} !important`,\r\n                            '& .MuiSvgIcon-root': {\r\n                                color: '#000 !important',\r\n                            },\r\n                            '&:hover': hoverStyles,\r\n                            width: 36,\r\n                            height: 36,\r\n                            ...theme.applyStyles('dark', {\r\n                                borderColor: '#d32f2f',\r\n                                '&:hover': hoverStyles,\r\n                            }),\r\n                        };\r\n                    }}\r\n                    aria-label=\"Exportar PDF\"\r\n                >\r\n                    <PictureAsPdfIcon fontSize=\"small\" />\r\n                </IconButton>\r\n            </Tooltip>\r\n\r\n            <Tooltip title=\"Exportar Excel\">\r\n                <IconButton\r\n                    onClick={onExportExcel}\r\n                    size=\"small\"\r\n                    color=\"success\"\r\n                    sx={(theme) => {\r\n                        const hoverStyles = {\r\n                            bgcolor: `${EXPORT_EXCEL_BG_HOVER} !important`,\r\n                            backgroundColor: `${EXPORT_EXCEL_BG_HOVER} !important`,\r\n                            borderColor: '#2e7d32',\r\n                            '& .MuiSvgIcon-root': {\r\n                                color: '#000 !important',\r\n                            },\r\n                        };\r\n                        return {\r\n                            border: '1px solid',\r\n                            borderColor: '#2e7d32',\r\n                            bgcolor: `${EXPORT_EXCEL_BG} !important`,\r\n                            backgroundColor: `${EXPORT_EXCEL_BG} !important`,\r\n                            '& .MuiSvgIcon-root': {\r\n                                color: '#000 !important',\r\n                            },\r\n                            '&:hover': hoverStyles,\r\n                            width: 36,\r\n                            height: 36,\r\n                            ...theme.applyStyles('dark', {\r\n                                borderColor: '#2e7d32',\r\n                                '&:hover': hoverStyles,\r\n                            }),\r\n                        };\r\n                    }}\r\n                    aria-label=\"Exportar Excel\"\r\n                >\r\n                    <GridOnIcon fontSize=\"small\" /> {/* Icono de tabla tipo Excel */}\r\n                </IconButton>\r\n            </Tooltip>\r\n        </Box>\r\n    );\r\n}\r\n","import axios from \"axios\";\r\nimport {\r\n  CognitoUserPool,\r\n  CognitoUser,\r\n  CognitoRefreshToken,\r\n} from \"amazon-cognito-identity-js\";\r\nimport { sessionService } from \"../shared-services/sessionService\";\r\nimport URL_CONFIG from \"../config/api-config\";\r\n\r\nconst http = axios.create();\r\nconst PRONOSTICO_BASE_URL = URL_CONFIG.PRONOSTICO;\r\nconst cognitoPoolConfig = {\r\n  UserPoolId: process.env.REACT_APP_COGNITO_USER_POOL_ID,\r\n  ClientId: process.env.REACT_APP_COGNITO_CLIENT_ID,\r\n};\r\n\r\nlet refreshPromise = null;\r\nlet hasForcedLogout = false;\r\n\r\nconst isPronosticoRequest = (url) =>\r\n  Boolean(\r\n    url &&\r\n      PRONOSTICO_BASE_URL &&\r\n      String(url).startsWith(String(PRONOSTICO_BASE_URL)),\r\n  );\r\n\r\nconst safeSessionGet = (key) => {\r\n  try {\r\n    return sessionStorage.getItem(key);\r\n  } catch (err) {\r\n    console.warn(\"No se pudo leer sessionStorage:\", err);\r\n    return null;\r\n  }\r\n};\r\n\r\nconst safeSessionSet = (key, value) => {\r\n  try {\r\n    if (value !== undefined && value !== null) {\r\n      sessionStorage.setItem(key, value);\r\n    }\r\n  } catch (err) {\r\n    console.warn(\"No se pudo escribir en sessionStorage:\", err);\r\n  }\r\n};\r\n\r\nconst clearSessionAndRedirect = () => {\r\n  if (hasForcedLogout) {\r\n    return;\r\n  }\r\n  hasForcedLogout = true;\r\n  try {\r\n    sessionStorage.clear();\r\n  } catch {\r\n    /* noop */\r\n  }\r\n  if (sessionService?.limpiarSesion) {\r\n    sessionService.limpiarSesion();\r\n  }\r\n  if (typeof window !== \"undefined\") {\r\n    window.location.href = \"/#/signin\";\r\n  }\r\n};\r\n\r\nconst buildCognitoUser = () => {\r\n  const username = safeSessionGet(\"email\") || safeSessionGet(\"username\");\r\n  if (\r\n    !username ||\r\n    !cognitoPoolConfig.UserPoolId ||\r\n    !cognitoPoolConfig.ClientId\r\n  ) {\r\n    return null;\r\n  }\r\n  const pool = new CognitoUserPool(cognitoPoolConfig);\r\n  return new CognitoUser({\r\n    Username: username,\r\n    Pool: pool,\r\n  });\r\n};\r\n\r\nconst refreshTokens = () => {\r\n  const refreshTokenValue = safeSessionGet(\"refreshToken\");\r\n  const cognitoUser = buildCognitoUser();\r\n  if (!refreshTokenValue || !cognitoUser) {\r\n    return Promise.reject(new Error(\"No hay datos para renovar la sesin.\"));\r\n  }\r\n  const refreshToken = new CognitoRefreshToken({\r\n    RefreshToken: refreshTokenValue,\r\n  });\r\n  return new Promise((resolve, reject) => {\r\n    cognitoUser.refreshSession(refreshToken, (err, session) => {\r\n      if (err) {\r\n        reject(err);\r\n        return;\r\n      }\r\n      const nextAccessToken = session.getAccessToken().getJwtToken();\r\n      const nextIdToken = session.getIdToken().getJwtToken();\r\n      const nextRefreshToken = session.getRefreshToken().getToken();\r\n      safeSessionSet(\"accessToken\", nextAccessToken);\r\n      safeSessionSet(\"idToken\", nextIdToken);\r\n      if (nextRefreshToken) {\r\n        safeSessionSet(\"refreshToken\", nextRefreshToken);\r\n      }\r\n      resolve(nextAccessToken);\r\n    });\r\n  });\r\n};\r\n\r\nconst getRefreshPromise = () => {\r\n  if (!refreshPromise) {\r\n    refreshPromise = refreshTokens()\r\n      .then((token) => {\r\n        refreshPromise = null;\r\n        return token;\r\n      })\r\n      .catch((error) => {\r\n        refreshPromise = null;\r\n        throw error;\r\n      });\r\n  }\r\n  return refreshPromise;\r\n};\r\n\r\nhttp.interceptors.request.use((config) => {\r\n  const accessToken = sessionStorage.getItem(\"accessToken\");\r\n  if (isPronosticoRequest(config.url)) {\r\n    config.headers = config.headers ?? {};\r\n    if (accessToken) {\r\n      config.headers.Authorization = `Bearer ${accessToken}`;\r\n    }\r\n    const usuarioSub = sessionStorage.getItem(\"sub\");\r\n    if (usuarioSub) {\r\n      config.headers[\"X-Usuario-Sub\"] = usuarioSub;\r\n    }\r\n  }\r\n  return config;\r\n});\r\n\r\nhttp.interceptors.response.use(\r\n  (response) => response,\r\n  async (error) => {\r\n    const { config, response } = error;\r\n    if (\r\n      !config ||\r\n      !response ||\r\n      response.status !== 401 ||\r\n      !isPronosticoRequest(config.url)\r\n    ) {\r\n      return Promise.reject(error);\r\n    }\r\n\r\n    if (config.__isRetryRequest) {\r\n      clearSessionAndRedirect();\r\n      return Promise.reject(error);\r\n    }\r\n\r\n    try {\r\n      const newAccessToken = await getRefreshPromise();\r\n      if (!newAccessToken) {\r\n        throw new Error(\"No se obtuvo un token renovado.\");\r\n      }\r\n      config.__isRetryRequest = true;\r\n      config.headers = config.headers ?? {};\r\n      config.headers.Authorization = `Bearer ${newAccessToken}`;\r\n      return http(config);\r\n    } catch (refreshError) {\r\n      clearSessionAndRedirect();\r\n      return Promise.reject(refreshError);\r\n    }\r\n  },\r\n);\r\n\r\nexport default http;\r\n","import axios from 'axios';\r\nimport API_CONFIG from '../config/api-config';\r\n\r\nconst URL_REGISTRO = API_CONFIG.REGISTRO; \r\n\r\nfunction getUsuarioHeaders() {\r\n  const headers = {};\r\n  const sub = sessionStorage.getItem('sub');\r\n  const token = sessionStorage.getItem('accessToken');\r\n  if (sub) headers['X-Usuario-Sub'] = sub; // tenant\r\n  if (token) headers['Authorization'] = `Bearer ${token}`;\r\n  return headers;\r\n}\r\n\r\n/**\r\n * Llama a /movimientos en REGISTRO usando fecha_emision (fechaDesde/fechaHasta).\r\n * - tipos: string ('EGRESO' | 'INGRESO') o array => CSV.\r\n * - No enviar sortBy/sortDir (evita 400 por validacin).\r\n * - Devuelve `data` (puede venir paginado en `data.content` o como array).\r\n */\r\nexport async function getMovimientosPorRango({ fechaDesde, fechaHasta, tipos }) {\r\n  const params = new URLSearchParams();\r\n  params.set('page', 0);\r\n  params.set('size', 500);\r\n  if (fechaDesde) params.set('fechaDesde', fechaDesde); // YYYY-MM-DD\r\n  if (fechaHasta) params.set('fechaHasta', fechaHasta);\r\n\r\n  // CSV: evita &tipos=INGRESO&tipos=EGRESO  400\r\n  if (Array.isArray(tipos) && tipos.length > 0) {\r\n    params.set('tipos', tipos.join(','));\r\n  } else if (typeof tipos === 'string' && tipos) {\r\n    params.set('tipos', tipos);\r\n  }\r\n\r\n  const url = `${URL_REGISTRO}/movimientos?${params.toString()}`;\r\n  const { data } = await axios.get(url, { headers: getUsuarioHeaders() });\r\n  return data;\r\n}\r\n\r\n/**\r\n * Obtiene movimientos agrupados mensualmente para presupuestos (OPTIMIZADO).\r\n * Reemplaza las mltiples llamadas individuales por mes con una sola llamada.\r\n * - fechaDesde/fechaHasta: YYYY-MM-DD\r\n * - Devuelve datos agrupados por mes con totales y categoras\r\n * - Incluye cach en el servidor para mejor performance\r\n */\r\nexport async function getMovimientosParaPresupuesto({ fechaDesde, fechaHasta }) {\r\n  const params = new URLSearchParams();\r\n  if (fechaDesde) params.set('fechaDesde', fechaDesde);\r\n  if (fechaHasta) params.set('fechaHasta', fechaHasta);\r\n\r\n  const url = `${URL_REGISTRO}/movimientos/presupuesto/datos-completos?${params.toString()}`;\r\n  const { data } = await axios.get(url, { headers: getUsuarioHeaders() });\r\n  return data;\r\n}\r\n\r\n","!function(t,e){\"object\"==typeof exports&&\"undefined\"!=typeof module?module.exports=e():\"function\"==typeof define&&define.amd?define(e):(t=\"undefined\"!=typeof globalThis?globalThis:t||self).dayjs=e()}(this,(function(){\"use strict\";var t=1e3,e=6e4,n=36e5,r=\"millisecond\",i=\"second\",s=\"minute\",u=\"hour\",a=\"day\",o=\"week\",c=\"month\",f=\"quarter\",h=\"year\",d=\"date\",l=\"Invalid Date\",$=/^(\\d{4})[-/]?(\\d{1,2})?[-/]?(\\d{0,2})[Tt\\s]*(\\d{1,2})?:?(\\d{1,2})?:?(\\d{1,2})?[.:]?(\\d+)?$/,y=/\\[([^\\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,M={name:\"en\",weekdays:\"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday\".split(\"_\"),months:\"January_February_March_April_May_June_July_August_September_October_November_December\".split(\"_\"),ordinal:function(t){var e=[\"th\",\"st\",\"nd\",\"rd\"],n=t%100;return\"[\"+t+(e[(n-20)%10]||e[n]||e[0])+\"]\"}},m=function(t,e,n){var r=String(t);return!r||r.length>=e?t:\"\"+Array(e+1-r.length).join(n)+t},v={s:m,z:function(t){var e=-t.utcOffset(),n=Math.abs(e),r=Math.floor(n/60),i=n%60;return(e<=0?\"+\":\"-\")+m(r,2,\"0\")+\":\"+m(i,2,\"0\")},m:function t(e,n){if(e.date()<n.date())return-t(n,e);var r=12*(n.year()-e.year())+(n.month()-e.month()),i=e.clone().add(r,c),s=n-i<0,u=e.clone().add(r+(s?-1:1),c);return+(-(r+(n-i)/(s?i-u:u-i))||0)},a:function(t){return t<0?Math.ceil(t)||0:Math.floor(t)},p:function(t){return{M:c,y:h,w:o,d:a,D:d,h:u,m:s,s:i,ms:r,Q:f}[t]||String(t||\"\").toLowerCase().replace(/s$/,\"\")},u:function(t){return void 0===t}},g=\"en\",D={};D[g]=M;var p=\"$isDayjsObject\",S=function(t){return t instanceof _||!(!t||!t[p])},w=function t(e,n,r){var i;if(!e)return g;if(\"string\"==typeof e){var s=e.toLowerCase();D[s]&&(i=s),n&&(D[s]=n,i=s);var u=e.split(\"-\");if(!i&&u.length>1)return t(u[0])}else{var a=e.name;D[a]=e,i=a}return!r&&i&&(g=i),i||!r&&g},O=function(t,e){if(S(t))return t.clone();var n=\"object\"==typeof e?e:{};return n.date=t,n.args=arguments,new _(n)},b=v;b.l=w,b.i=S,b.w=function(t,e){return O(t,{locale:e.$L,utc:e.$u,x:e.$x,$offset:e.$offset})};var _=function(){function M(t){this.$L=w(t.locale,null,!0),this.parse(t),this.$x=this.$x||t.x||{},this[p]=!0}var m=M.prototype;return m.parse=function(t){this.$d=function(t){var e=t.date,n=t.utc;if(null===e)return new Date(NaN);if(b.u(e))return new Date;if(e instanceof Date)return new Date(e);if(\"string\"==typeof e&&!/Z$/i.test(e)){var r=e.match($);if(r){var i=r[2]-1||0,s=(r[7]||\"0\").substring(0,3);return n?new Date(Date.UTC(r[1],i,r[3]||1,r[4]||0,r[5]||0,r[6]||0,s)):new Date(r[1],i,r[3]||1,r[4]||0,r[5]||0,r[6]||0,s)}}return new Date(e)}(t),this.init()},m.init=function(){var t=this.$d;this.$y=t.getFullYear(),this.$M=t.getMonth(),this.$D=t.getDate(),this.$W=t.getDay(),this.$H=t.getHours(),this.$m=t.getMinutes(),this.$s=t.getSeconds(),this.$ms=t.getMilliseconds()},m.$utils=function(){return b},m.isValid=function(){return!(this.$d.toString()===l)},m.isSame=function(t,e){var n=O(t);return this.startOf(e)<=n&&n<=this.endOf(e)},m.isAfter=function(t,e){return O(t)<this.startOf(e)},m.isBefore=function(t,e){return this.endOf(e)<O(t)},m.$g=function(t,e,n){return b.u(t)?this[e]:this.set(n,t)},m.unix=function(){return Math.floor(this.valueOf()/1e3)},m.valueOf=function(){return this.$d.getTime()},m.startOf=function(t,e){var n=this,r=!!b.u(e)||e,f=b.p(t),l=function(t,e){var i=b.w(n.$u?Date.UTC(n.$y,e,t):new Date(n.$y,e,t),n);return r?i:i.endOf(a)},$=function(t,e){return b.w(n.toDate()[t].apply(n.toDate(\"s\"),(r?[0,0,0,0]:[23,59,59,999]).slice(e)),n)},y=this.$W,M=this.$M,m=this.$D,v=\"set\"+(this.$u?\"UTC\":\"\");switch(f){case h:return r?l(1,0):l(31,11);case c:return r?l(1,M):l(0,M+1);case o:var g=this.$locale().weekStart||0,D=(y<g?y+7:y)-g;return l(r?m-D:m+(6-D),M);case a:case d:return $(v+\"Hours\",0);case u:return $(v+\"Minutes\",1);case s:return $(v+\"Seconds\",2);case i:return $(v+\"Milliseconds\",3);default:return this.clone()}},m.endOf=function(t){return this.startOf(t,!1)},m.$set=function(t,e){var n,o=b.p(t),f=\"set\"+(this.$u?\"UTC\":\"\"),l=(n={},n[a]=f+\"Date\",n[d]=f+\"Date\",n[c]=f+\"Month\",n[h]=f+\"FullYear\",n[u]=f+\"Hours\",n[s]=f+\"Minutes\",n[i]=f+\"Seconds\",n[r]=f+\"Milliseconds\",n)[o],$=o===a?this.$D+(e-this.$W):e;if(o===c||o===h){var y=this.clone().set(d,1);y.$d[l]($),y.init(),this.$d=y.set(d,Math.min(this.$D,y.daysInMonth())).$d}else l&&this.$d[l]($);return this.init(),this},m.set=function(t,e){return this.clone().$set(t,e)},m.get=function(t){return this[b.p(t)]()},m.add=function(r,f){var d,l=this;r=Number(r);var $=b.p(f),y=function(t){var e=O(l);return b.w(e.date(e.date()+Math.round(t*r)),l)};if($===c)return this.set(c,this.$M+r);if($===h)return this.set(h,this.$y+r);if($===a)return y(1);if($===o)return y(7);var M=(d={},d[s]=e,d[u]=n,d[i]=t,d)[$]||1,m=this.$d.getTime()+r*M;return b.w(m,this)},m.subtract=function(t,e){return this.add(-1*t,e)},m.format=function(t){var e=this,n=this.$locale();if(!this.isValid())return n.invalidDate||l;var r=t||\"YYYY-MM-DDTHH:mm:ssZ\",i=b.z(this),s=this.$H,u=this.$m,a=this.$M,o=n.weekdays,c=n.months,f=n.meridiem,h=function(t,n,i,s){return t&&(t[n]||t(e,r))||i[n].slice(0,s)},d=function(t){return b.s(s%12||12,t,\"0\")},$=f||function(t,e,n){var r=t<12?\"AM\":\"PM\";return n?r.toLowerCase():r};return r.replace(y,(function(t,r){return r||function(t){switch(t){case\"YY\":return String(e.$y).slice(-2);case\"YYYY\":return b.s(e.$y,4,\"0\");case\"M\":return a+1;case\"MM\":return b.s(a+1,2,\"0\");case\"MMM\":return h(n.monthsShort,a,c,3);case\"MMMM\":return h(c,a);case\"D\":return e.$D;case\"DD\":return b.s(e.$D,2,\"0\");case\"d\":return String(e.$W);case\"dd\":return h(n.weekdaysMin,e.$W,o,2);case\"ddd\":return h(n.weekdaysShort,e.$W,o,3);case\"dddd\":return o[e.$W];case\"H\":return String(s);case\"HH\":return b.s(s,2,\"0\");case\"h\":return d(1);case\"hh\":return d(2);case\"a\":return $(s,u,!0);case\"A\":return $(s,u,!1);case\"m\":return String(u);case\"mm\":return b.s(u,2,\"0\");case\"s\":return String(e.$s);case\"ss\":return b.s(e.$s,2,\"0\");case\"SSS\":return b.s(e.$ms,3,\"0\");case\"Z\":return i}return null}(t)||i.replace(\":\",\"\")}))},m.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},m.diff=function(r,d,l){var $,y=this,M=b.p(d),m=O(r),v=(m.utcOffset()-this.utcOffset())*e,g=this-m,D=function(){return b.m(y,m)};switch(M){case h:$=D()/12;break;case c:$=D();break;case f:$=D()/3;break;case o:$=(g-v)/6048e5;break;case a:$=(g-v)/864e5;break;case u:$=g/n;break;case s:$=g/e;break;case i:$=g/t;break;default:$=g}return l?$:b.a($)},m.daysInMonth=function(){return this.endOf(c).$D},m.$locale=function(){return D[this.$L]},m.locale=function(t,e){if(!t)return this.$L;var n=this.clone(),r=w(t,e,!0);return r&&(n.$L=r),n},m.clone=function(){return b.w(this.$d,this)},m.toDate=function(){return new Date(this.valueOf())},m.toJSON=function(){return this.isValid()?this.toISOString():null},m.toISOString=function(){return this.$d.toISOString()},m.toString=function(){return this.$d.toUTCString()},M}(),k=_.prototype;return O.prototype=k,[[\"$ms\",r],[\"$s\",i],[\"$m\",s],[\"$H\",u],[\"$W\",a],[\"$M\",c],[\"$y\",h],[\"$D\",d]].forEach((function(t){k[t[1]]=function(e){return this.$g(e,t[0],t[1])}})),O.extend=function(t,e){return t.$i||(t(e,_,O),t.$i=!0),O},O.locale=w,O.isDayjs=S,O.unix=function(t){return O(1e3*t)},O.en=D[g],O.Ls=D,O.p={},O}));","import { alpha } from '@mui/material/styles';\r\n\r\nconst GREEN = '#2e7d32';\r\nconst RED = '#d32f2f';\r\n\r\nexport const buildTipoSelectSx = (tipo) => (theme) => {\r\n  const isIngreso = String(tipo).toLowerCase() === 'ingreso';\r\n  const base = isIngreso ? GREEN : RED;\r\n\r\n  const bg = alpha(base, 0.12);\r\n  const bgHover = alpha(base, 0.16);\r\n  const bgFocus = alpha(base, 0.20);\r\n\r\n  const palette = (theme.vars || theme).palette;\r\n  const textColor = palette.text.primary;\r\n  const textChannel =\r\n  palette.text?.primaryChannel ?? (theme.palette.mode === 'dark' ? '255 255 255' : '0 0 0');\r\n  \r\n  const rootSelector = '&& .MuiOutlinedInput-root';\r\n  //const textChannel = theme.palette.mode === 'dark' ? '255 255 255' : '0 0 0';\r\n  const inputSelectors = [\r\n    `${rootSelector} .MuiSelect-select`,\r\n    `${rootSelector} .MuiSelect-select.MuiSelect-outlined`,\r\n    `${rootSelector} .MuiSelect-select.MuiSelect-outlined.MuiInputBase-input`,\r\n    `${rootSelector} .MuiInputBase-input`,\r\n    `${rootSelector} .MuiOutlinedInput-input`,\r\n  ].join(', ');\r\n  const iconSelectors = [\r\n    `${rootSelector} .MuiSelect-icon`,\r\n    `${rootSelector} .MuiSelect-iconOutlined`,\r\n    `${rootSelector} .MuiSvgIcon-root`,\r\n  ].join(', ');\r\n\r\n  return {\r\n    [rootSelector]: {\r\n      borderRadius: 1,\r\n      color: textColor,\r\n      backgroundColor: bg,\r\n      '--mui-palette-text-primary': textColor,\r\n      '--mui-palette-text-secondary': textColor,\r\n      '--mui-palette-action-active': textColor,\r\n      '--mui-palette-text-primaryChannel': textChannel,\r\n      '--mui-palette-text-secondaryChannel': textChannel,\r\n      '--mui-palette-action-activeChannel': textChannel,\r\n      '&:hover': { backgroundColor: bgHover },\r\n      '&.Mui-focused': { backgroundColor: bgFocus },\r\n      '& fieldset': { borderColor: palette.divider },\r\n      '&:hover fieldset': { borderColor: palette.divider },\r\n      '&.Mui-focused fieldset': { borderColor: palette.divider },\r\n    },\r\n    [inputSelectors]: {\r\n      color: textColor,\r\n      WebkitTextFillColor: textColor,\r\n      fontWeight: 200,\r\n    },\r\n    [iconSelectors]: {\r\n      color: textColor,\r\n    },\r\n    '&& .MuiInputLabel-root, && .MuiInputLabel-root.Mui-focused': {\r\n      color: textColor,\r\n      WebkitTextFillColor: textColor,\r\n    },\r\n  };\r\n};\r\n","\"use client\";\n\nimport createSvgIcon from \"./utils/createSvgIcon.js\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon(/*#__PURE__*/_jsx(\"path\", {\n  d: \"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zM8 9h8v10H8zm7.5-5-1-1h-5l-1 1H5v2h14V4z\"\n}), 'DeleteOutline');","/**\r\n * Categoras unificadas para toda la aplicacin\r\n * Estas categoras estn sincronizadas con el backend\r\n */\r\n\r\n// Categoras de EGRESOS\r\nexport const CATEGORIAS_EGRESO = [\r\n  \"Alimentos y Bebidas\",\r\n  \"Transporte\",\r\n  \"Vivienda\",\r\n  \"Servicios Bsicos\",\r\n  \"Ocio y Entretenimiento\",\r\n  \"Compras Personales\",\r\n  \"Salud\",\r\n  \"Educacin\",\r\n  \"Impuestos y Tasas\",\r\n  \"Servicios Financieros\",\r\n  \"Compras de Negocio\",\r\n  \"Otros Egresos\",\r\n];\r\n\r\n// Categoras de INGRESOS\r\nexport const CATEGORIAS_INGRESO = [\r\n  \"Ventas de Productos\",\r\n  \"Prestacin de Servicios\",\r\n  \"Cobranzas\",\r\n  \"Transferencias Recibidas\",\r\n  \"Inversiones y Rendimientos\",\r\n  \"Otros Ingresos\",\r\n];\r\n\r\n// Todas las categoras (para uso genrico)\r\nexport const TODAS_LAS_CATEGORIAS = [\r\n  ...CATEGORIAS_EGRESO,\r\n  ...CATEGORIAS_INGRESO,\r\n];\r\n\r\n/**\r\n * Obtiene las categoras segn el tipo de registro\r\n * @param {string} tipo - 'Ingreso', 'Egreso', o null para todas\r\n * @returns {string[]} Array de categoras\r\n */\r\nexport function obtenerCategorias(tipo) {\r\n  if (!tipo) return TODAS_LAS_CATEGORIAS;\r\n  if (tipo === \"Ingreso\") return CATEGORIAS_INGRESO;\r\n  if (tipo === \"Egreso\") return CATEGORIAS_EGRESO;\r\n  return TODAS_LAS_CATEGORIAS;\r\n}\r\n"],"names":["createSvgIcon","_jsx","d","safeNumber","v","isNaN","Number","baseURL","API_CONFIG","PRONOSTICO","GUARD_MESSAGES","categoria","title","body","confirmLabel","real","GUARD_FIELD_LABELS","tipo","montoEstimado","INGRESO_COLOR","EGRESO_COLOR","INGRESO_EST_COLOR","EGRESO_EST_COLOR","SIN_PRONOSTICO_CHIP_SX","fontWeight","bgcolor","backgroundColor","color","border","CENTERED_INPUT_LABEL_SX","top","transform","mesANumero","enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre","formatearMes","ym","anio","mes","split","i","parseInt","concat","ymToYmd","mesesEntre","fromYM","toYM","out","fy","fm","map","ty","tm","y","m","guard","push","String","padStart","normalizeLine","x","_ref","_x$movimientoIds","_ref2","_ref3","_x$movimientoId","_ref4","_x$montoEstimado","rawMovementArray","movimientoIds","movimiento_ids","movementIds","rawMovementSingle","movimientoId","movimiento_id","movementId","Array","isArray","id","normalizeTipo","monto_estimado","normCat","value","normalize","replace","trim","toLowerCase","upper","toString","toUpperCase","MesDetalle","_theme$vars$palette","_theme$vars","_paletteVars$text$pri","_paletteVars$text","_paletteVars$common$w","_paletteVars$common","nombre","nombreUrl","mesNombre","mesNombreUrl","useParams","navigate","useNavigate","theme","useTheme","isLightMode","palette","mode","paletteVars","vars","kpiColors","React","ingresos","success","light","egresos","error","resultadoPos","info","resultadoNeg","warning","tabsLabelColor","text","primary","common","white","window","scrollTo","left","behavior","lineas","setLineas","lineasSoloReal","setLineasSoloReal","edits","setEdits","manualGuards","setManualGuards","guardPrompt","setGuardPrompt","open","field","message","nombreMes","setNombreMes","presupuestoNombre","setPresupuestoNombre","presupuestoId","setPresupuestoId","setYm","mesesDisponibles","setMesesDisponibles","tab","setTab","totalRealMes","setTotalRealMes","goToDatosBrutos","simulacion","setSimulacion","rowMenuIdx","setRowMenuIdx","snack","setSnack","severity","nueva","setNueva","agregando","setAgregando","dlgReglas","setDlgReglas","regla","setRegla","ambito","modo","valor","solo","rangoDesde","rangoHasta","dlgVarios","setDlgVarios","bulkCfg","setBulkCfg","accion","desde","hasta","deletePrompt","setDeletePrompt","categoriasOptions","setCategoriasOptions","TODAS_LAS_CATEGORIAS","loading","setLoading","categoriasPronosticadas","ocupadas","Set","linea","normalizada","add","opcionesNuevaLinea","disponibles","filter","option","has","categoriaActualNorm","some","opt","prevYm","nextYm","length","idx","findIndex","activo","async","response","http","get","REGISTRO","data","console","cargarCategorias","fetchMes","pid","ymStr","skipStateUpdate","arguments","undefined","url1","url2","tryFetch","res","url","arr","categorias","_unused","l","finalLineas","cargarLineasConReales","lineasBase","ymKey","slice","referencia","dayjs","isValid","sinReales","_objectSpread","refDate","toDate","fechaDesde","format","startOfMonth","fechaHasta","endOfMonth","respEgreso","respIngreso","Promise","all","getMovimientosPorRango","tipos","movimientosEgreso","content","movimientosIngreso","agruparPorCategoria","lista","reduce","acc","movimiento","_ref5","_ref6","_movimiento$monto","_ref7","_ref8","_ref9","_ref0","_movimiento$id","nombreOriginal","categoriaNombre","categoria_id_nombre","key","monto","Math","abs","montoTotal","monto_total","isFinite","total","label","rawMovimientoId","movimientoID","idMovimiento","includes","realesPorCategoriaEgreso","realesPorCategoriaIngreso","totalRealEgreso","Object","values","lineasConReales","tipoKey","baseMovementIds","extraIds","from","categoriasPorTipo","adicionales","registrarAdicionales","mapa","set","entries","forEach","_ref1","_soloReal","movErr","fallback","resPres","listaPayload","decodedNombre","decodeURIComponent","p","find","pp","Error","mesNumStr","resTot","totales","mesesLista","t","Boolean","sort","a","b","localeCompare","item","endsWith","err","cargar","handleCambiarMes","targetYm","lineasCompleto","nextEdits","prev","nextGuards","_prev$l$id","_prev$l$id2","_prev$l$id3","_prev$l$id4","requestManualUnlock","cfg","targetLine","handleGuardCancel","toggleManualGuard","enabled","fieldsToToggle","next","current","updated","handleGuardConfirm","combinedIds","params","URLSearchParams","state","editMovementId","editMovementMeta","isFieldUnlocked","_manualGuards$id","reloadMes","c","totalIngresos","totalEgresosCalculado","totalEgresos","totalIngresoEst","totalEgresoEst","resultado","estimadoTotal","cumplimiento","vencidosEstimados","pieDataIngresos","name","barDataIngresos","estimado","pieDataEgresos","e","barDataEgresos","toCamelPayload","_l$montoEstimado","toSnakePayload","_l$montoEstimado2","tryPatchOrPut","method","patch","put","closeDeletePrompt","Box","sx","width","children","LoadingSpinner","_jsxs","display","alignItems","gap","mb","justifyContent","IconButton","size","onClick","disabled","opacity","ChevronLeftIcon","fontSize","Typography","variant","flexGrow","flexShrink","textAlign","minWidth","whiteSpace","ChevronRightIcon","gutterBottom","Paper","Stack","direction","flexWrap","spacing","Chip","toFixed","icon","WarningAmberOutlinedIcon","ExportadorSimple","onExportPdf","handleExportPdf","then","html2pdf","element","document","getElementById","margin","filename","Date","now","image","type","quality","html2canvas","scale","jsPDF","unit","orientation","default","save","onExportExcel","handleExportExcel","_ref10","utils","writeFile","ws","aoa_to_sheet","cellStyles","wb","book_new","book_append_sheet","mt","Tabs","onChange","indicatorColor","Tab","_Fragment","Grid","container","xs","sm","md","height","Avatar","mx","formatCurrency","ResponsiveContainer","PieChart","Pie","dataKey","nameKey","cx","cy","outerRadius","_ref11","percent","_","Cell","fill","RTooltip","formatter","Legend","index","estimadoN","realN","max","sinPronostico","Tooltip","disableHoverListener","cursor","flexDirection","flex","BarChart","layout","XAxis","domain","hide","YAxis","Bar","radius","position","_ref12","Autocomplete","fullWidth","newValue","s","options","freeSolo","disableClearable","forcePopupIcon","popupIcon","KeyboardArrowDownIcon","componentsProps","popupIndicator","disableRipple","disableFocusRipple","boxShadow","clearIndicator","right","renderInput","TextField","InputLabelProps","FormControl","buildTipoSelectSx","InputLabel","Select","target","MenuItem","formatCurrencyInput","parsed","parseCurrency","returnEmpty","inputProps","inputMode","Button","payload","post","startIcon","AddCircleOutlineIcon","Divider","my","overflowX","style","borderCollapse","borderBottom","padding","borderRight","estimadoOriginal","estimadoRaw","manualEnabled","esSoloReal","desvio","realMovementIds","baseIdx","updateField","categoriaActual","categoriasOcupadas","otra","_ref13","_edits$otra$id$catego","_edits$otra$id","opcionesDisponibles","InputProps","readOnly","ev","EditOffOutlinedIcon","EditOutlinedIcon","LockOutlinedIcon","handleGuardar","_e$response","_e$response$data","msg","crearLineaDesdeReal","_lastErr","_lastErr$response","_lastErr$response$dat","_lastErr2","_lastErr2$response","_lastErr2$response$da","_lastErr3","_lastErr4","urls","methods","payloads","lastErr","e1","_e1$response","status","e2","serverMsg","patchLinea","SaveOutlinedIcon","openDeletePrompt","DeleteOutlineIcon","idxEfectivo","abrirDlgVariosConFila","ContentCopyIcon","colSpan","Dialog","onClose","maxWidth","DialogTitle","DialogContent","dividers","DialogActions","targetId","lineaId","delete","deleteLinea","select","r","step","FormControlLabel","control","Switch","checked","alert","placeholder","meses","ymX","ls","u","_unused2","toDelete","ll","Snackbar","autoHideDuration","anchorOrigin","vertical","horizontal","Alert","numberFormatter","Intl","NumberFormat","minimumFractionDigits","maximumFractionDigits","allowEmpty","num","raw","str","cleaned","negative","startsWith","numeric","normalized","EXPORT_PDF_BG","EXPORT_PDF_BG_HOVER","EXPORT_EXCEL_BG","EXPORT_EXCEL_BG_HOVER","hoverStyles","borderColor","applyStyles","PictureAsPdfIcon","GridOnIcon","axios","create","PRONOSTICO_BASE_URL","URL_CONFIG","cognitoPoolConfig","UserPoolId","process","ClientId","refreshPromise","hasForcedLogout","isPronosticoRequest","safeSessionGet","sessionStorage","getItem","warn","safeSessionSet","setItem","clearSessionAndRedirect","clear","sessionService","limpiarSesion","location","href","refreshTokens","refreshTokenValue","cognitoUser","buildCognitoUser","username","pool","CognitoUserPool","CognitoUser","Username","Pool","reject","refreshToken","CognitoRefreshToken","RefreshToken","resolve","refreshSession","session","nextAccessToken","getAccessToken","getJwtToken","nextIdToken","getIdToken","nextRefreshToken","getRefreshToken","getToken","interceptors","request","use","config","accessToken","_config$headers","headers","Authorization","usuarioSub","__isRetryRequest","_config$headers2","newAccessToken","token","catch","refreshError","URL_REGISTRO","getUsuarioHeaders","sub","join","getMovimientosParaPresupuesto","module","exports","n","o","f","h","$","M","weekdays","months","ordinal","z","utcOffset","floor","date","year","month","clone","ceil","w","D","ms","Q","g","S","O","args","locale","$L","utc","$u","$x","$offset","this","parse","prototype","$d","NaN","test","match","substring","UTC","init","$y","getFullYear","$M","getMonth","$D","getDate","$W","getDay","$H","getHours","$m","getMinutes","$s","getSeconds","$ms","getMilliseconds","$utils","isSame","startOf","endOf","isAfter","isBefore","$g","unix","valueOf","getTime","apply","$locale","weekStart","$set","min","daysInMonth","round","subtract","invalidDate","meridiem","monthsShort","weekdaysMin","weekdaysShort","getTimezoneOffset","diff","toJSON","toISOString","toUTCString","k","extend","$i","isDayjs","en","Ls","_palette$text$primary","_palette$text","base","bg","alpha","bgHover","bgFocus","textColor","textChannel","primaryChannel","rootSelector","inputSelectors","iconSelectors","borderRadius","divider","WebkitTextFillColor","CATEGORIAS_EGRESO","CATEGORIAS_INGRESO"],"sourceRoot":""}