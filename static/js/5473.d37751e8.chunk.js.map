{"version":3,"file":"static/js/5473.d37751e8.chunk.js","mappings":"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","sources":["conciliacion/components/MovimientoCard.js","conciliacion/components/DocumentoCard.js","conciliacion/api/conciliacionApi.js","conciliacion/ConciliacionPanel.js"],"sourcesContent":["import React from \"react\";\r\nimport {\r\n  Card,\r\n  CardContent,\r\n  Typography,\r\n  Chip,\r\n  Box,\r\n  IconButton,\r\n  Tooltip,\r\n  Stack,\r\n} from \"@mui/material\";\r\nimport CheckCircleIcon from \"@mui/icons-material/CheckCircle\";\r\nimport LinkOffIcon from \"@mui/icons-material/LinkOff\";\r\nimport ReceiptIcon from \"@mui/icons-material/Receipt\";\r\nimport TrendingUpIcon from \"@mui/icons-material/TrendingUp\";\r\nimport TrendingDownIcon from \"@mui/icons-material/TrendingDown\";\r\n\r\n/**\r\n * Card para mostrar un movimiento en el panel de conciliación\r\n */\r\nexport default function MovimientoCard({\r\n  movimiento,\r\n  selected = false,\r\n  onClick,\r\n  onDesvincular,\r\n}) {\r\n  const formatMonto = (monto) => {\r\n    if (!monto && monto !== 0) return \"$0\";\r\n    // Mantener el signo original (no usar Math.abs)\r\n    return new Intl.NumberFormat(\"es-AR\", {\r\n      style: \"currency\",\r\n      currency: \"ARS\",\r\n    }).format(monto);\r\n  };\r\n\r\n  const formatFecha = (fecha) => {\r\n    if (!fecha) return \"-\";\r\n\r\n    try {\r\n      // Caso LocalDate como array [yyyy, mm, dd]\r\n      if (Array.isArray(fecha) && fecha.length >= 3) {\r\n        const [year, month, day] = fecha;\r\n        const dd = String(day).padStart(2, \"0\");\r\n        const mm = String(month).padStart(2, \"0\");\r\n        return `${dd}/${mm}/${year}`;\r\n      }\r\n\r\n      // Caso string \"YYYY-MM-DD\" (LocalDate plano)\r\n      if (typeof fecha === \"string\") {\r\n        const match = fecha.match(/^(\\d{4})-(\\d{2})-(\\d{2})$/);\r\n        if (match) {\r\n          const [, year, month, day] = match;\r\n          return `${day}/${month}/${year}`;\r\n        }\r\n      }\r\n\r\n      // Fallback genérico para Date/ISO (mantiene compatibilidad)\r\n      const d = new Date(fecha);\r\n      if (Number.isNaN(d.getTime())) return \"-\";\r\n      return d.toLocaleDateString(\"es-AR\");\r\n    } catch {\r\n      return \"-\";\r\n    }\r\n  };\r\n\r\n  const getTipoColor = (tipo) => {\r\n    if (tipo === \"Ingreso\") return \"#2e7d32\";\r\n    if (tipo === \"Egreso\") return \"#d32f2f\";\r\n    return \"#757575\";\r\n  };\r\n\r\n  const getTipoIcon = (tipo) => {\r\n    if (tipo === \"Ingreso\") return <TrendingUpIcon fontSize=\"small\" />;\r\n    if (tipo === \"Egreso\") return <TrendingDownIcon fontSize=\"small\" />;\r\n    return <ReceiptIcon fontSize=\"small\" />;\r\n  };\r\n\r\n  const getFuenteColor = (fuente) => {\r\n    if (fuente === \"MERCADOPAGO\") return \"#00b0ff\";\r\n    if (fuente === \"EXCEL\") return \"#4caf50\";\r\n    return \"#9e9e9e\";\r\n  };\r\n\r\n  return (\r\n    <Card\r\n      sx={{\r\n        mb: 2,\r\n        cursor: \"pointer\",\r\n        border: selected ? \"2px solid #1976d2\" : \"1px solid #e0e0e0\",\r\n        backgroundColor: selected ? \"#e3f2fd\" : \"#fff\",\r\n        transition: \"all 0.2s ease\",\r\n        \"&:hover\": {\r\n          boxShadow: 4,\r\n          transform: \"translateY(-2px)\",\r\n        },\r\n      }}\r\n      onClick={onClick}\r\n    >\r\n      <CardContent>\r\n        <Box\r\n          sx={{\r\n            display: \"flex\",\r\n            justifyContent: \"space-between\",\r\n            alignItems: \"flex-start\",\r\n            mb: 1,\r\n          }}\r\n        >\r\n          <Box sx={{ flex: 1 }}>\r\n            {/* Tipo y Monto */}\r\n            <Stack\r\n              direction=\"row\"\r\n              spacing={1}\r\n              alignItems=\"center\"\r\n              sx={{ mb: 1 }}\r\n            >\r\n              <Chip\r\n                icon={getTipoIcon(movimiento.tipo)}\r\n                label={movimiento.tipo || \"Sin tipo\"}\r\n                size=\"small\"\r\n                sx={{\r\n                  backgroundColor: `${getTipoColor(movimiento.tipo)}15`,\r\n                  color: getTipoColor(movimiento.tipo),\r\n                  fontWeight: \"bold\",\r\n                  border: `1px solid ${getTipoColor(movimiento.tipo)}`,\r\n                }}\r\n              />\r\n              <Typography\r\n                variant=\"h6\"\r\n                sx={{\r\n                  color: getTipoColor(movimiento.tipo),\r\n                  fontWeight: \"bold\",\r\n                }}\r\n              >\r\n                {formatMonto(movimiento.montoTotal)}\r\n              </Typography>\r\n            </Stack>\r\n\r\n            {/* Descripción */}\r\n            <Typography\r\n              variant=\"body2\"\r\n              color=\"text.primary\"\r\n              sx={{ mb: 0.5, fontWeight: 500 }}\r\n            >\r\n              {movimiento.descripcion || \"Sin descripción\"}\r\n            </Typography>\r\n\r\n            {/* Origen/Destino */}\r\n            {(movimiento.origen || movimiento.destino) && (\r\n              <Typography variant=\"body2\" color=\"text.secondary\" sx={{ mb: 1 }}>\r\n                {movimiento.tipo === \"Egreso\" &&\r\n                  movimiento.destino &&\r\n                  `Para: ${movimiento.destino}`}\r\n                {movimiento.tipo === \"Ingreso\" &&\r\n                  movimiento.origen &&\r\n                  `De: ${movimiento.origen}`}\r\n                {movimiento.tipo !== \"Egreso\" &&\r\n                  movimiento.tipo !== \"Ingreso\" &&\r\n                  (movimiento.origen || movimiento.destino)}\r\n              </Typography>\r\n            )}\r\n\r\n            {/* Chips de información adicional */}\r\n            <Stack\r\n              direction=\"row\"\r\n              spacing={1}\r\n              sx={{ flexWrap: \"wrap\", gap: 0.5 }}\r\n            >\r\n              <Chip\r\n                label={formatFecha(movimiento.fechaEmision)}\r\n                size=\"small\"\r\n                variant=\"outlined\"\r\n                sx={{ fontSize: \"0.75rem\" }}\r\n              />\r\n              {movimiento.categoria && (\r\n                <Chip\r\n                  label={movimiento.categoria}\r\n                  size=\"small\"\r\n                  variant=\"outlined\"\r\n                  color=\"primary\"\r\n                  sx={{ fontSize: \"0.75rem\" }}\r\n                />\r\n              )}\r\n              {movimiento.fuenteOrigen && (\r\n                <Chip\r\n                  label={movimiento.fuenteOrigen}\r\n                  size=\"small\"\r\n                  sx={{\r\n                    fontSize: \"0.75rem\",\r\n                    backgroundColor: `${getFuenteColor(\r\n                      movimiento.fuenteOrigen\r\n                    )}15`,\r\n                    color: getFuenteColor(movimiento.fuenteOrigen),\r\n                    fontWeight: 500,\r\n                  }}\r\n                />\r\n              )}\r\n            </Stack>\r\n          </Box>\r\n\r\n          {/* Estado de conciliación */}\r\n          <Box\r\n            sx={{\r\n              ml: 2,\r\n              display: \"flex\",\r\n              flexDirection: \"column\",\r\n              alignItems: \"flex-end\",\r\n            }}\r\n          >\r\n            {movimiento.conciliado ? (\r\n              <>\r\n                <Tooltip\r\n                  title={`Conciliado con ${movimiento.tipoDocumentoConciliado} ${movimiento.numeroDocumentoConciliado}`}\r\n                >\r\n                  <CheckCircleIcon sx={{ color: \"#4caf50\", fontSize: 32 }} />\r\n                </Tooltip>\r\n                {onDesvincular && (\r\n                  <Tooltip title=\"Desvincular\">\r\n                    <IconButton\r\n                      size=\"small\"\r\n                      onClick={(e) => {\r\n                        e.stopPropagation();\r\n                        onDesvincular(movimiento.id);\r\n                      }}\r\n                      sx={{ mt: 0.5 }}\r\n                    >\r\n                      <LinkOffIcon fontSize=\"small\" color=\"error\" />\r\n                    </IconButton>\r\n                  </Tooltip>\r\n                )}\r\n              </>\r\n            ) : (\r\n              <Chip\r\n                label=\"Sin conciliar\"\r\n                size=\"small\"\r\n                color=\"warning\"\r\n                variant=\"outlined\"\r\n              />\r\n            )}\r\n          </Box>\r\n        </Box>\r\n\r\n        {/* Info del documento conciliado */}\r\n        {movimiento.conciliado && (\r\n          <Box\r\n            sx={{\r\n              mt: 1,\r\n              pt: 1,\r\n              borderTop: \"1px solid #e0e0e0\",\r\n              backgroundColor: \"#f5f5f5\",\r\n              p: 1,\r\n              borderRadius: 1,\r\n            }}\r\n          >\r\n            <Typography variant=\"caption\" color=\"text.secondary\">\r\n              Conciliado con:{\" \"}\r\n              <strong>\r\n                {movimiento.tipoDocumentoConciliado}{\" \"}\r\n                {movimiento.numeroDocumentoConciliado}\r\n              </strong>\r\n            </Typography>\r\n          </Box>\r\n        )}\r\n      </CardContent>\r\n    </Card>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport {\r\n  Card,\r\n  CardContent,\r\n  Typography,\r\n  Chip,\r\n  Box,\r\n  Button,\r\n  Stack,\r\n  Tooltip,\r\n} from \"@mui/material\";\r\nimport DescriptionIcon from \"@mui/icons-material/Description\";\r\nimport LinkIcon from \"@mui/icons-material/Link\";\r\nimport StarIcon from \"@mui/icons-material/Star\";\r\nimport StarHalfIcon from \"@mui/icons-material/StarHalf\";\r\nimport StarBorderIcon from \"@mui/icons-material/StarBorder\";\r\n\r\n/**\r\n * Card para mostrar un documento sugerido en el panel de conciliación\r\n */\r\nexport default function DocumentoCard({ documento, onVincular }) {\r\n  const formatMonto = (monto) => {\r\n    if (!monto) return \"$0\";\r\n    return new Intl.NumberFormat(\"es-AR\", {\r\n      style: \"currency\",\r\n      currency: \"ARS\",\r\n    }).format(Math.abs(monto));\r\n  };\r\n\r\n  const formatFecha = (fecha) => {\r\n    if (!fecha) return \"-\";\r\n\r\n    try {\r\n      // Caso LocalDate como array [yyyy, mm, dd]\r\n      if (Array.isArray(fecha) && fecha.length >= 3) {\r\n        const [year, month, day] = fecha;\r\n        const dd = String(day).padStart(2, \"0\");\r\n        const mm = String(month).padStart(2, \"0\");\r\n        return `${dd}/${mm}/${year}`;\r\n      }\r\n\r\n      // Caso string \"YYYY-MM-DD\" (LocalDate plano)\r\n      if (typeof fecha === \"string\") {\r\n        const match = fecha.match(/^(\\d{4})-(\\d{2})-(\\d{2})$/);\r\n        if (match) {\r\n          const [, year, month, day] = match;\r\n          return `${day}/${month}/${year}`;\r\n        }\r\n      }\r\n\r\n      // Fallback genérico para Date/ISO\r\n      const d = new Date(fecha);\r\n      if (Number.isNaN(d.getTime())) return \"-\";\r\n      return d.toLocaleDateString(\"es-AR\");\r\n    } catch {\r\n      return \"-\";\r\n    }\r\n  };\r\n\r\n  const getTipoDocumentoColor = (tipo) => {\r\n    if (tipo === \"FACTURA\") return \"#1976d2\";\r\n    if (tipo === \"PAGARE\") return \"#f57c00\";\r\n    if (tipo === \"RECIBO\") return \"#388e3c\";\r\n    return \"#757575\";\r\n  };\r\n\r\n  const getTipoDocumentoIcon = () => {\r\n    return <DescriptionIcon fontSize=\"small\" />;\r\n  };\r\n\r\n  const getNivelColor = (nivel) => {\r\n    if (nivel === \"ALTA\") return \"#4caf50\";\r\n    if (nivel === \"MEDIA\") return \"#ff9800\";\r\n    return \"#9e9e9e\";\r\n  };\r\n\r\n  const renderEstrellas = (score) => {\r\n    const numEstrellas = Math.round((score / 100) * 5);\r\n    const estrellas = [];\r\n\r\n    for (let i = 0; i < 5; i++) {\r\n      if (i < numEstrellas) {\r\n        estrellas.push(\r\n          <StarIcon key={i} sx={{ fontSize: 16, color: \"#ffc107\" }} />\r\n        );\r\n      } else {\r\n        estrellas.push(\r\n          <StarBorderIcon key={i} sx={{ fontSize: 16, color: \"#e0e0e0\" }} />\r\n        );\r\n      }\r\n    }\r\n\r\n    return <Box sx={{ display: \"flex\" }}>{estrellas}</Box>;\r\n  };\r\n\r\n  return (\r\n    <Card\r\n      sx={{\r\n        mb: 2,\r\n        border:\r\n          documento.nivelSugerencia === \"ALTA\"\r\n            ? \"2px solid #4caf50\"\r\n            : \"1px solid #e0e0e0\",\r\n        backgroundColor:\r\n          documento.nivelSugerencia === \"ALTA\" ? \"#f1f8e9\" : \"#fff\",\r\n        transition: \"all 0.2s ease\",\r\n        \"&:hover\": {\r\n          boxShadow: 4,\r\n          transform: \"translateY(-2px)\",\r\n        },\r\n      }}\r\n    >\r\n      <CardContent>\r\n        <Box\r\n          sx={{\r\n            display: \"flex\",\r\n            justifyContent: \"space-between\",\r\n            alignItems: \"flex-start\",\r\n            mb: 1,\r\n          }}\r\n        >\r\n          <Box sx={{ flex: 1 }}>\r\n            {/* Tipo de documento y score */}\r\n            <Stack\r\n              direction=\"row\"\r\n              spacing={1}\r\n              alignItems=\"center\"\r\n              sx={{ mb: 1 }}\r\n            >\r\n              <Chip\r\n                icon={getTipoDocumentoIcon()}\r\n                label={documento.tipoDocumento}\r\n                size=\"small\"\r\n                sx={{\r\n                  backgroundColor: `${getTipoDocumentoColor(\r\n                    documento.tipoDocumento\r\n                  )}15`,\r\n                  color: getTipoDocumentoColor(documento.tipoDocumento),\r\n                  fontWeight: \"bold\",\r\n                  border: `1px solid ${getTipoDocumentoColor(\r\n                    documento.tipoDocumento\r\n                  )}`,\r\n                }}\r\n              />\r\n              {documento.nivelSugerencia === \"ALTA\" && (\r\n                <Tooltip title=\"Alta coincidencia\">\r\n                  <StarIcon sx={{ color: \"#ffc107\", fontSize: 20 }} />\r\n                </Tooltip>\r\n              )}\r\n            </Stack>\r\n\r\n            {/* Número de documento */}\r\n            <Typography variant=\"body1\" sx={{ fontWeight: 600, mb: 0.5 }}>\r\n              {documento.numeroDocumento}\r\n            </Typography>\r\n\r\n            {/* Monto y Fecha */}\r\n            <Stack direction=\"row\" spacing={2} sx={{ mb: 1 }}>\r\n              <Typography\r\n                variant=\"body2\"\r\n                sx={{ fontWeight: 500, color: \"#1976d2\" }}\r\n              >\r\n                {formatMonto(documento.montoTotal)}\r\n              </Typography>\r\n              <Typography variant=\"body2\" color=\"text.secondary\">\r\n                {formatFecha(documento.fechaEmision)}\r\n              </Typography>\r\n            </Stack>\r\n\r\n            {/* Nombre relacionado */}\r\n            {documento.nombreRelacionado && (\r\n              <Typography variant=\"body2\" color=\"text.secondary\" sx={{ mb: 1 }}>\r\n                {documento.nombreRelacionado}\r\n              </Typography>\r\n            )}\r\n\r\n            {/* Categoría y CUIT */}\r\n            <Stack\r\n              direction=\"row\"\r\n              spacing={1}\r\n              sx={{ mb: 1, flexWrap: \"wrap\", gap: 0.5 }}\r\n            >\r\n              {documento.categoria && (\r\n                <Chip\r\n                  label={documento.categoria}\r\n                  size=\"small\"\r\n                  variant=\"outlined\"\r\n                  color=\"primary\"\r\n                  sx={{ fontSize: \"0.75rem\" }}\r\n                />\r\n              )}\r\n              {documento.cuit && (\r\n                <Chip\r\n                  label={`CUIT: ${documento.cuit}`}\r\n                  size=\"small\"\r\n                  variant=\"outlined\"\r\n                  sx={{ fontSize: \"0.75rem\" }}\r\n                />\r\n              )}\r\n            </Stack>\r\n\r\n            {/* Score de coincidencia */}\r\n            <Box\r\n              sx={{\r\n                mt: 1,\r\n                p: 1,\r\n                backgroundColor: `${getNivelColor(\r\n                  documento.nivelSugerencia\r\n                )}15`,\r\n                borderRadius: 1,\r\n                border: `1px solid ${getNivelColor(documento.nivelSugerencia)}`,\r\n              }}\r\n            >\r\n              <Stack\r\n                direction=\"row\"\r\n                spacing={1}\r\n                alignItems=\"center\"\r\n                sx={{ mb: 0.5 }}\r\n              >\r\n                {renderEstrellas(documento.scoreCoincidencia)}\r\n                <Typography\r\n                  variant=\"caption\"\r\n                  sx={{\r\n                    fontWeight: 600,\r\n                    color: getNivelColor(documento.nivelSugerencia),\r\n                  }}\r\n                >\r\n                  {documento.scoreCoincidencia}% coincidencia\r\n                </Typography>\r\n              </Stack>\r\n              <Typography variant=\"caption\" color=\"text.secondary\">\r\n                {documento.razonSugerencia}\r\n              </Typography>\r\n            </Box>\r\n          </Box>\r\n        </Box>\r\n\r\n        {/* Botón de vincular */}\r\n        <Button\r\n          variant={\r\n            documento.nivelSugerencia === \"ALTA\" ? \"contained\" : \"outlined\"\r\n          }\r\n          color=\"primary\"\r\n          startIcon={<LinkIcon />}\r\n          fullWidth\r\n          onClick={() => onVincular(documento.idDocumento)}\r\n          sx={{ mt: 1 }}\r\n        >\r\n          Vincular\r\n        </Button>\r\n      </CardContent>\r\n    </Card>\r\n  );\r\n}\r\n","import axios from \"axios\";\r\nimport API_CONFIG from \"../../config/api-config\";\r\n\r\nconst API_BASE_URL = `${API_CONFIG.REGISTRO}/api/conciliacion`;\r\n\r\n/**\r\n * API client para el módulo de conciliación\r\n */\r\nexport const conciliacionApi = {\r\n  /**\r\n   * Obtiene todos los movimientos sin conciliar\r\n   */\r\n  obtenerMovimientosSinConciliar: async () => {\r\n    const response = await axios.get(\r\n      `${API_BASE_URL}/movimientos/sin-conciliar`\r\n    );\r\n    return response.data;\r\n  },\r\n\r\n  /**\r\n   * Obtiene todos los movimientos (conciliados y sin conciliar)\r\n   */\r\n  obtenerTodosLosMovimientos: async () => {\r\n    const response = await axios.get(`${API_BASE_URL}/movimientos`);\r\n    return response.data;\r\n  },\r\n\r\n  /**\r\n   * Obtiene sugerencias de documentos para un movimiento\r\n   */\r\n  obtenerSugerencias: async (movimientoId) => {\r\n    const response = await axios.get(\r\n      `${API_BASE_URL}/movimientos/${movimientoId}/sugerencias`\r\n    );\r\n    return response.data;\r\n  },\r\n\r\n  /**\r\n   * Vincula un movimiento con un documento\r\n   */\r\n  vincularMovimiento: async (movimientoId, documentoId) => {\r\n    const response = await axios.post(`${API_BASE_URL}/vincular`, {\r\n      movimientoId,\r\n      documentoId,\r\n    });\r\n    return response.data;\r\n  },\r\n\r\n  /**\r\n   * Desvincula un movimiento de su documento\r\n   */\r\n  desvincularMovimiento: async (movimientoId) => {\r\n    const response = await axios.post(\r\n      `${API_BASE_URL}/desvincular/${movimientoId}`\r\n    );\r\n    return response.data;\r\n  },\r\n\r\n  /**\r\n   * Obtiene estadísticas de conciliación\r\n   */\r\n  obtenerEstadisticas: async () => {\r\n    const response = await axios.get(`${API_BASE_URL}/estadisticas`);\r\n    return response.data;\r\n  },\r\n};\r\n\r\nexport default conciliacionApi;\r\n","import React, { useState, useEffect, useCallback } from \"react\";\r\nimport {\r\n  Box,\r\n  Grid,\r\n  Typography,\r\n  Paper,\r\n  TextField,\r\n  InputAdornment,\r\n  FormControl,\r\n  InputLabel,\r\n  Select,\r\n  MenuItem,\r\n  Stack,\r\n  Alert,\r\n  CircularProgress,\r\n  Button,\r\n  ToggleButtonGroup,\r\n  ToggleButton,\r\n  Divider,\r\n  LinearProgress,\r\n  Pagination,\r\n} from \"@mui/material\";\r\nimport SearchIcon from \"@mui/icons-material/Search\";\r\nimport RefreshIcon from \"@mui/icons-material/Refresh\";\r\nimport CheckCircleIcon from \"@mui/icons-material/CheckCircle\";\r\nimport PendingIcon from \"@mui/icons-material/Pending\";\r\nimport MovimientoCard from \"./components/MovimientoCard\";\r\nimport DocumentoCard from \"./components/DocumentoCard\";\r\nimport conciliacionApi from \"./api/conciliacionApi\";\r\n\r\nconst MOVIMIENTOS_POR_PAGINA = 5;\r\nconst DOCUMENTOS_POR_PAGINA = 5;\r\n\r\nexport default function ConciliacionPanel() {\r\n  const [movimientos, setMovimientos] = useState([]);\r\n  const [movimientoSeleccionado, setMovimientoSeleccionado] = useState(null);\r\n  const [sugerencias, setSugerencias] = useState([]);\r\n  const [loading, setLoading] = useState(false);\r\n  const [loadingSugerencias, setLoadingSugerencias] = useState(false);\r\n  const [estadisticas, setEstadisticas] = useState(null);\r\n  const [error, setError] = useState(null);\r\n\r\n  // Filtros\r\n  const [filtroEstado, setFiltroEstado] = useState(\"sin-conciliar\"); // 'todos', 'sin-conciliar', 'conciliados'\r\n  const [filtroTipo, setFiltroTipo] = useState(\"todos\"); // 'todos', 'Ingreso', 'Egreso'\r\n  const [filtroBusqueda, setFiltroBusqueda] = useState(\"\");\r\n  const [paginaMovimientos, setPaginaMovimientos] = useState(1);\r\n  const [paginaSugerencias, setPaginaSugerencias] = useState(1);\r\n\r\n  useEffect(() => {\r\n    setPaginaMovimientos(1);\r\n  }, [filtroEstado, filtroTipo, filtroBusqueda]);\r\n\r\n  const cargarMovimientos = useCallback(async () => {\r\n    setLoading(true);\r\n    setError(null);\r\n    try {\r\n      let data;\r\n      if (filtroEstado === \"sin-conciliar\") {\r\n        data = await conciliacionApi.obtenerMovimientosSinConciliar();\r\n      } else {\r\n        data = await conciliacionApi.obtenerTodosLosMovimientos();\r\n      }\r\n      setMovimientos(data);\r\n    } catch (err) {\r\n      console.error(\"Error cargando movimientos:\", err);\r\n      setError(\"Error al cargar los movimientos\");\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  }, [filtroEstado]);\r\n\r\n  const cargarEstadisticas = useCallback(async () => {\r\n    try {\r\n      const stats = await conciliacionApi.obtenerEstadisticas();\r\n      setEstadisticas(stats);\r\n    } catch (err) {\r\n      console.error(\"Error cargando estadísticas:\", err);\r\n    }\r\n  }, []);\r\n\r\n  const cargarDatos = useCallback(async () => {\r\n    await Promise.all([cargarMovimientos(), cargarEstadisticas()]);\r\n  }, [cargarMovimientos, cargarEstadisticas]);\r\n\r\n  // Cargar movimientos y estadísticas al montar el componente\r\n  useEffect(() => {\r\n    cargarDatos();\r\n  }, [cargarDatos]);\r\n\r\n  // Recargar cuando cambia el filtro de estado\r\n  useEffect(() => {\r\n    cargarMovimientos();\r\n  }, [cargarMovimientos]);\r\n\r\n  const cargarSugerencias = async (movimientoId) => {\r\n    setLoadingSugerencias(true);\r\n    try {\r\n      const response = await conciliacionApi.obtenerSugerencias(movimientoId);\r\n      setSugerencias(response.sugerencias || []);\r\n      setPaginaSugerencias(1);\r\n    } catch (err) {\r\n      console.error(\"Error cargando sugerencias:\", err);\r\n      setSugerencias([]);\r\n      setPaginaSugerencias(1);\r\n    } finally {\r\n      setLoadingSugerencias(false);\r\n    }\r\n  };\r\n\r\n  const handleSeleccionarMovimiento = (movimiento) => {\r\n    setMovimientoSeleccionado(movimiento);\r\n    setPaginaSugerencias(1);\r\n    if (!movimiento.conciliado) {\r\n      cargarSugerencias(movimiento.id);\r\n    } else {\r\n      setSugerencias([]);\r\n      setPaginaSugerencias(1);\r\n    }\r\n  };\r\n\r\n  const handleVincular = async (documentoId) => {\r\n    if (!movimientoSeleccionado) return;\r\n\r\n    try {\r\n      await conciliacionApi.vincularMovimiento(\r\n        movimientoSeleccionado.id,\r\n        documentoId\r\n      );\r\n\r\n      // Recargar datos\r\n      await cargarDatos();\r\n\r\n      // Actualizar el movimiento seleccionado\r\n      const movimientoActualizado = movimientos.find(\r\n        (m) => m.id === movimientoSeleccionado.id\r\n      );\r\n      if (movimientoActualizado) {\r\n        setMovimientoSeleccionado({\r\n          ...movimientoActualizado,\r\n          conciliado: true,\r\n        });\r\n      }\r\n\r\n      // Limpiar sugerencias\r\n      setSugerencias([]);\r\n\r\n      // Deseleccionar movimiento\r\n      setMovimientoSeleccionado(null);\r\n    } catch (err) {\r\n      console.error(\"Error vinculando movimiento:\", err);\r\n      alert(\"Error al vincular el movimiento\");\r\n    }\r\n  };\r\n\r\n  const handleDesvincular = async (movimientoId) => {\r\n    try {\r\n      await conciliacionApi.desvincularMovimiento(movimientoId);\r\n\r\n      // Recargar datos\r\n      await cargarDatos();\r\n\r\n      // Si es el movimiento seleccionado, actualizarlo\r\n      if (movimientoSeleccionado?.id === movimientoId) {\r\n        setMovimientoSeleccionado(null);\r\n        setSugerencias([]);\r\n        setPaginaSugerencias(1);\r\n      }\r\n    } catch (err) {\r\n      console.error(\"Error desvinculando movimiento:\", err);\r\n      alert(\"Error al desvincular el movimiento\");\r\n    }\r\n  };\r\n\r\n  // Filtrar movimientos\r\n  const movimientosFiltrados = movimientos.filter((mov) => {\r\n    // Filtro de estado\r\n    if (filtroEstado === \"sin-conciliar\" && mov.conciliado) return false;\r\n    if (filtroEstado === \"conciliados\" && !mov.conciliado) return false;\r\n\r\n    // Filtro de tipo\r\n    if (filtroTipo !== \"todos\" && mov.tipo !== filtroTipo) return false;\r\n\r\n    // Filtro de búsqueda\r\n    if (filtroBusqueda) {\r\n      const busqueda = filtroBusqueda.toLowerCase();\r\n      const descripcion = (mov.descripcion || \"\").toLowerCase();\r\n      const origen = (mov.origen || \"\").toLowerCase();\r\n      const destino = (mov.destino || \"\").toLowerCase();\r\n      const categoria = (mov.categoria || \"\").toLowerCase();\r\n\r\n      if (\r\n        !descripcion.includes(busqueda) &&\r\n        !origen.includes(busqueda) &&\r\n        !destino.includes(busqueda) &&\r\n        !categoria.includes(busqueda)\r\n      ) {\r\n        return false;\r\n      }\r\n    }\r\n\r\n    return true;\r\n  });\r\n\r\n  const totalPaginasMovimientos = Math.max(\r\n    1,\r\n    Math.ceil(movimientosFiltrados.length / MOVIMIENTOS_POR_PAGINA)\r\n  );\r\n  const totalPaginasSugerencias = Math.max(\r\n    1,\r\n    Math.ceil(sugerencias.length / DOCUMENTOS_POR_PAGINA)\r\n  );\r\n\r\n  useEffect(() => {\r\n    if (paginaMovimientos > totalPaginasMovimientos) {\r\n      setPaginaMovimientos(totalPaginasMovimientos || 1);\r\n    }\r\n  }, [paginaMovimientos, totalPaginasMovimientos]);\r\n\r\n  useEffect(() => {\r\n    if (paginaSugerencias > totalPaginasSugerencias) {\r\n      setPaginaSugerencias(totalPaginasSugerencias || 1);\r\n    }\r\n  }, [paginaSugerencias, totalPaginasSugerencias]);\r\n\r\n  const paginaMovimientosActiva = Math.min(\r\n    paginaMovimientos,\r\n    totalPaginasMovimientos\r\n  );\r\n  const paginaSugerenciasActiva = Math.min(\r\n    paginaSugerencias,\r\n    totalPaginasSugerencias\r\n  );\r\n\r\n  const movimientosPaginados = movimientosFiltrados.slice(\r\n    (paginaMovimientosActiva - 1) * MOVIMIENTOS_POR_PAGINA,\r\n    paginaMovimientosActiva * MOVIMIENTOS_POR_PAGINA\r\n  );\r\n\r\n  const sugerenciasPaginadas = sugerencias.slice(\r\n    (paginaSugerenciasActiva - 1) * DOCUMENTOS_POR_PAGINA,\r\n    paginaSugerenciasActiva * DOCUMENTOS_POR_PAGINA\r\n  );\r\n\r\n  return (\r\n    <Box\r\n      sx={{\r\n        width: \"100%\",\r\n        maxWidth: { sm: \"100%\", md: \"1700px\" },\r\n        mx: \"auto\",\r\n        p: 3,\r\n        minHeight: \"100vh\",\r\n        display: \"flex\",\r\n        flexDirection: \"column\",\r\n        gap: 2,\r\n      }}\r\n    >\r\n      {/* Header */}\r\n      <Box sx={{ mb: 3 }}>\r\n        <Typography\r\n          variant=\"h4\"\r\n          gutterBottom\r\n          sx={{ fontWeight: 600, color: 'text.primary' }}\r\n        >\r\n          Conciliación de Movimientos\r\n        </Typography>\r\n        <Typography variant=\"body2\" sx={{ color: 'text.primary' }}>\r\n          Vincula tus movimientos bancarios con documentos comerciales\r\n        </Typography>\r\n      </Box>\r\n\r\n      {/* Estadísticas */}\r\n      {estadisticas && (\r\n        <Paper\r\n          sx={{\r\n            p: 2,\r\n            mb: 3,\r\n            backgroundColor: (theme) =>\r\n              (theme.vars || theme).palette.background.level1 ??\r\n              (theme.vars || theme).palette.background.paper,\r\n            border: (theme) =>\r\n              `1px solid ${(theme.vars || theme).palette.divider}`,\r\n          }}\r\n        >\r\n          <Stack direction=\"row\" spacing={3} alignItems=\"center\">\r\n            <Box sx={{ flex: 1 }}>\r\n              <Typography variant=\"caption\" color=\"text.primary\">\r\n                Total de movimientos\r\n              </Typography>\r\n              <Typography variant=\"h5\" sx={{ fontWeight: 600 }}>\r\n                {estadisticas.total}\r\n              </Typography>\r\n            </Box>\r\n            <Divider orientation=\"vertical\" flexItem />\r\n            <Box sx={{ flex: 1 }}>\r\n              <Typography variant=\"caption\" color=\"text.primary\">\r\n                Sin conciliar\r\n              </Typography>\r\n              <Typography\r\n                variant=\"h5\"\r\n                sx={{\r\n                  fontWeight: 600,\r\n                  color: (theme) => (theme.vars || theme).palette.warning.main,\r\n                }}\r\n              >\r\n                {estadisticas.sinConciliar}\r\n              </Typography>\r\n            </Box>\r\n            <Divider orientation=\"vertical\" flexItem />\r\n            <Box sx={{ flex: 1 }}>\r\n              <Typography variant=\"caption\" color=\"text.primary\">\r\n                Conciliados\r\n              </Typography>\r\n              <Typography\r\n                variant=\"h5\"\r\n                sx={{\r\n                  fontWeight: 600,\r\n                  color: (theme) => (theme.vars || theme).palette.success.main,\r\n                }}\r\n              >\r\n                {estadisticas.conciliados}\r\n              </Typography>\r\n            </Box>\r\n            <Divider orientation=\"vertical\" flexItem />\r\n            <Box sx={{ flex: 1 }}>\r\n              <Typography variant=\"caption\" color=\"text.primary\">\r\n                Progreso\r\n              </Typography>\r\n              <Box sx={{ display: \"flex\", alignItems: \"center\", gap: 1 }}>\r\n                <LinearProgress\r\n                  variant=\"determinate\"\r\n                  value={estadisticas.porcentajeConciliado}\r\n                  sx={{ flex: 1, height: 8, borderRadius: 4 }}\r\n                />\r\n                <Typography variant=\"body2\" sx={{ fontWeight: 600 }}>\r\n                  {Math.round(estadisticas.porcentajeConciliado)}%\r\n                </Typography>\r\n              </Box>\r\n            </Box>\r\n          </Stack>\r\n        </Paper>\r\n      )}\r\n\r\n      {/* Filtros */}\r\n      <Paper sx={{ p: 2, mb: 2 }}>\r\n        <Stack\r\n          direction=\"row\"\r\n          spacing={2}\r\n          alignItems=\"center\"\r\n          sx={{ flexWrap: \"wrap\", gap: 2 }}\r\n        >\r\n          {/* Filtro de estado */}\r\n          <ToggleButtonGroup\r\n            value={filtroEstado}\r\n            exclusive\r\n            onChange={(e, value) => value && setFiltroEstado(value)}\r\n            size=\"small\"\r\n          >\r\n            <ToggleButton value=\"sin-conciliar\">\r\n              <PendingIcon sx={{ mr: 0.5, fontSize: 18 }} />\r\n              Sin conciliar\r\n            </ToggleButton>\r\n            <ToggleButton value=\"conciliados\">\r\n              <CheckCircleIcon sx={{ mr: 0.5, fontSize: 18 }} />\r\n              Conciliados\r\n            </ToggleButton>\r\n            <ToggleButton value=\"todos\">Todos</ToggleButton>\r\n          </ToggleButtonGroup>\r\n\r\n          <Divider orientation=\"vertical\" flexItem />\r\n\r\n          {/* Filtro de tipo */}\r\n          <FormControl size=\"small\" sx={{ minWidth: 120 }}>\r\n            <InputLabel>Tipo</InputLabel>\r\n            <Select\r\n              value={filtroTipo}\r\n              onChange={(e) => setFiltroTipo(e.target.value)}\r\n              label=\"Tipo\"\r\n            >\r\n              <MenuItem value=\"todos\">Todos</MenuItem>\r\n              <MenuItem value=\"Ingreso\">Ingreso</MenuItem>\r\n              <MenuItem value=\"Egreso\">Egreso</MenuItem>\r\n            </Select>\r\n          </FormControl>\r\n\r\n          {/* Búsqueda */}\r\n          <TextField\r\n            size=\"small\"\r\n            placeholder=\"Buscar...\"\r\n            value={filtroBusqueda}\r\n            onChange={(e) => setFiltroBusqueda(e.target.value)}\r\n            InputProps={{\r\n              startAdornment: (\r\n                <InputAdornment position=\"start\">\r\n                  <SearchIcon />\r\n                </InputAdornment>\r\n              ),\r\n            }}\r\n            sx={{ flex: 1, minWidth: 200 }}\r\n          />\r\n\r\n          {/* Botón recargar */}\r\n          <Button\r\n            variant=\"outlined\"\r\n            startIcon={<RefreshIcon />}\r\n            onClick={cargarDatos}\r\n            size=\"small\"\r\n          >\r\n            Recargar\r\n          </Button>\r\n        </Stack>\r\n\r\n        {/* Contador de resultados */}\r\n        <Box sx={{ mt: 1 }}>\r\n          <Typography variant=\"caption\" color=\"text.primary\">\r\n            Mostrando {movimientosPaginados.length} de{\" \"}\r\n            {movimientosFiltrados.length} movimientos filtrados (pagina{\" \"}\r\n            {paginaMovimientosActiva}/{totalPaginasMovimientos})\r\n          </Typography>\r\n        </Box>\r\n      </Paper>\r\n\r\n      {/* Error */}\r\n      {error && (\r\n        <Alert severity=\"error\" sx={{ mb: 2 }}>\r\n          {error}\r\n        </Alert>\r\n      )}\r\n\r\n      {/* Panel de dos columnas */}\r\n      <Box sx={{ flex: 1, overflow: \"hidden\" }}>\r\n        <Grid container spacing={2} sx={{ height: \"100%\" }}>\r\n          {/* Columna izquierda: Movimientos */}\r\n          <Grid item xs={12} md={6} sx={{ height: \"100%\" }}>\r\n            <Paper\r\n              sx={{\r\n                p: 2,\r\n                height: \"100%\",\r\n                minHeight: { xs: 160, sm: 180, md: 210 },\r\n                display: \"flex\",\r\n                flexDirection: \"column\",\r\n              }}\r\n            >\r\n              <Typography variant=\"h6\" gutterBottom>\r\n                Movimientos\r\n              </Typography>\r\n              <Divider sx={{ mb: 2 }} />\r\n\r\n              {loading ? (\r\n                <Box\r\n                  sx={{\r\n                    display: \"flex\",\r\n                    justifyContent: \"center\",\r\n                    alignItems: \"center\",\r\n                    flex: 1,\r\n                  }}\r\n                >\r\n                  <CircularProgress />\r\n                </Box>\r\n              ) : movimientosFiltrados.length === 0 ? (\r\n                <Box sx={{ textAlign: \"center\", py: 4 }}>\r\n                  <Typography variant=\"body2\" color=\"text.secondary\">\r\n                    No hay movimientos que coincidan con los filtros\r\n                  </Typography>\r\n                </Box>\r\n              ) : (\r\n                <>\r\n                  <Box sx={{ flex: 1, overflow: \"auto\", pr: 1 }}>\r\n                    {movimientosPaginados.map((mov) => (\r\n                      <MovimientoCard\r\n                        key={mov.id}\r\n                        movimiento={mov}\r\n                        selected={movimientoSeleccionado?.id === mov.id}\r\n                        onClick={() => handleSeleccionarMovimiento(mov)}\r\n                        onDesvincular={handleDesvincular}\r\n                      />\r\n                    ))}\r\n                  </Box>\r\n                  {totalPaginasMovimientos > 1 && (\r\n                    <Box\r\n                      sx={{\r\n                        display: \"flex\",\r\n                        justifyContent: \"center\",\r\n                        mt: 2,\r\n                      }}\r\n                    >\r\n                      <Pagination\r\n                        count={totalPaginasMovimientos}\r\n                        page={paginaMovimientosActiva}\r\n                        onChange={(_, value) => setPaginaMovimientos(value)}\r\n                        color=\"primary\"\r\n                        size=\"small\"\r\n                      />\r\n                    </Box>\r\n                  )}\r\n                </>\r\n              )}\r\n            </Paper>\r\n          </Grid>\r\n\r\n          {/* Columna derecha: Sugerencias */}\r\n          <Grid item xs={12} md={6} sx={{ height: \"100%\" }}>\r\n            <Paper\r\n              sx={{\r\n                p: 2,\r\n                height: \"100%\",\r\n                minHeight: { xs: 160, sm: 180, md: 210 },\r\n                display: \"flex\",\r\n                flexDirection: \"column\",\r\n              }}\r\n            >\r\n              <Typography variant=\"h6\" gutterBottom>\r\n                💡 Documentos Sugeridos\r\n              </Typography>\r\n              <Divider sx={{ mb: 2 }} />\r\n\r\n              {!movimientoSeleccionado ? (\r\n                <Box sx={{ textAlign: \"center\", py: 4 }}>\r\n                  <Typography variant=\"body2\" color=\"text.primary\">\r\n                    Selecciona un movimiento de la izquierda para ver\r\n                    sugerencias de documentos\r\n                  </Typography>\r\n                </Box>\r\n              ) : movimientoSeleccionado.conciliado ? (\r\n                <Box sx={{ textAlign: \"center\", py: 4 }}>\r\n                  <CheckCircleIcon\r\n                    sx={{ fontSize: 64, color: \"#4caf50\", mb: 2 }}\r\n                  />\r\n                  <Typography variant=\"h6\" gutterBottom>\r\n                    Movimiento ya conciliado\r\n                  </Typography>\r\n                  <Typography variant=\"body2\" color=\"text.secondary\">\r\n                    Este movimiento ya está vinculado con{\" \"}\r\n                    <strong>\r\n                      {movimientoSeleccionado.tipoDocumentoConciliado}{\" \"}\r\n                      {movimientoSeleccionado.numeroDocumentoConciliado}\r\n                    </strong>\r\n                  </Typography>\r\n                </Box>\r\n              ) : loadingSugerencias ? (\r\n                <Box\r\n                  sx={{\r\n                    display: \"flex\",\r\n                    justifyContent: \"center\",\r\n                    alignItems: \"center\",\r\n                    flex: 1,\r\n                  }}\r\n                >\r\n                  <CircularProgress />\r\n                </Box>\r\n              ) : sugerencias.length === 0 ? (\r\n                <Box sx={{ textAlign: \"center\", py: 4 }}>\r\n                  <Typography variant=\"body2\" color=\"text.secondary\">\r\n                    No se encontraron documentos sugeridos para este movimiento\r\n                  </Typography>\r\n                  <Typography\r\n                    variant=\"caption\"\r\n                    color=\"text.secondary\"\r\n                    sx={{ mt: 1, display: \"block\" }}\r\n                  >\r\n                    Puedes buscar manualmente un documento o crear uno nuevo\r\n                  </Typography>\r\n                </Box>\r\n              ) : (\r\n                <>\r\n                  <Alert severity=\"info\" sx={{ mb: 2 }}>\r\n                    Se encontraron <strong>{sugerencias.length}</strong>{\" \"}\r\n                    documento(s) que podrían corresponder a este movimiento\r\n                  </Alert>\r\n                  <Box sx={{ flex: 1, overflow: \"auto\", pr: 1 }}>\r\n                    {sugerenciasPaginadas.map((doc) => (\r\n                      <DocumentoCard\r\n                        key={doc.idDocumento}\r\n                        documento={doc}\r\n                        onVincular={handleVincular}\r\n                      />\r\n                    ))}\r\n                  </Box>\r\n                  {totalPaginasSugerencias > 1 && (\r\n                    <Box\r\n                      sx={{\r\n                        display: \"flex\",\r\n                        justifyContent: \"center\",\r\n                        mt: 2,\r\n                      }}\r\n                    >\r\n                      <Pagination\r\n                        count={totalPaginasSugerencias}\r\n                        page={paginaSugerenciasActiva}\r\n                        onChange={(_, value) => setPaginaSugerencias(value)}\r\n                        color=\"primary\"\r\n                        size=\"small\"\r\n                      />\r\n                    </Box>\r\n                  )}\r\n                </>\r\n              )}\r\n            </Paper>\r\n          </Grid>\r\n        </Grid>\r\n      </Box>\r\n    </Box>\r\n  );\r\n}\r\n"],"names":["MovimientoCard","_ref","movimiento","selected","onClick","onDesvincular","getTipoColor","tipo","getFuenteColor","fuente","_jsx","Card","sx","mb","cursor","border","backgroundColor","transition","boxShadow","transform","children","_jsxs","CardContent","Box","display","justifyContent","alignItems","flex","Stack","direction","spacing","Chip","icon","TrendingUpIcon","fontSize","TrendingDownIcon","ReceiptIcon","label","size","concat","color","fontWeight","Typography","variant","monto","montoTotal","Intl","NumberFormat","style","currency","format","descripcion","origen","destino","flexWrap","gap","fecha","Array","isArray","length","year","month","day","dd","String","padStart","mm","match","d","Date","Number","isNaN","getTime","toLocaleDateString","_unused","formatFecha","fechaEmision","categoria","fuenteOrigen","ml","flexDirection","conciliado","_Fragment","Tooltip","title","tipoDocumentoConciliado","numeroDocumentoConciliado","CheckCircleIcon","IconButton","e","stopPropagation","id","mt","LinkOffIcon","pt","borderTop","p","borderRadius","DocumentoCard","documento","onVincular","getTipoDocumentoColor","getNivelColor","nivel","nivelSugerencia","DescriptionIcon","tipoDocumento","StarIcon","numeroDocumento","Math","abs","nombreRelacionado","cuit","score","numEstrellas","round","estrellas","i","push","StarBorderIcon","renderEstrellas","scoreCoincidencia","razonSugerencia","Button","startIcon","LinkIcon","fullWidth","idDocumento","API_BASE_URL","API_CONFIG","REGISTRO","obtenerMovimientosSinConciliar","async","axios","get","data","obtenerTodosLosMovimientos","obtenerSugerencias","movimientoId","vincularMovimiento","documentoId","post","desvincularMovimiento","obtenerEstadisticas","MOVIMIENTOS_POR_PAGINA","DOCUMENTOS_POR_PAGINA","ConciliacionPanel","movimientos","setMovimientos","useState","movimientoSeleccionado","setMovimientoSeleccionado","sugerencias","setSugerencias","loading","setLoading","loadingSugerencias","setLoadingSugerencias","estadisticas","setEstadisticas","error","setError","filtroEstado","setFiltroEstado","filtroTipo","setFiltroTipo","filtroBusqueda","setFiltroBusqueda","paginaMovimientos","setPaginaMovimientos","paginaSugerencias","setPaginaSugerencias","useEffect","cargarMovimientos","useCallback","conciliacionApi","err","console","cargarEstadisticas","stats","cargarDatos","Promise","all","handleSeleccionarMovimiento","response","cargarSugerencias","handleVincular","movimientoActualizado","find","m","_objectSpread","alert","handleDesvincular","movimientosFiltrados","filter","mov","busqueda","toLowerCase","includes","totalPaginasMovimientos","max","ceil","totalPaginasSugerencias","paginaMovimientosActiva","min","paginaSugerenciasActiva","movimientosPaginados","slice","sugerenciasPaginadas","width","maxWidth","sm","md","mx","minHeight","gutterBottom","Paper","theme","_palette$background$l","vars","palette","background","level1","paper","divider","total","Divider","orientation","flexItem","warning","main","sinConciliar","success","conciliados","LinearProgress","value","porcentajeConciliado","height","ToggleButtonGroup","exclusive","onChange","ToggleButton","PendingIcon","mr","FormControl","minWidth","InputLabel","Select","target","MenuItem","TextField","placeholder","InputProps","startAdornment","InputAdornment","position","SearchIcon","RefreshIcon","Alert","severity","overflow","Grid","container","item","xs","CircularProgress","textAlign","py","pr","map","Pagination","count","page","_","doc"],"sourceRoot":""}