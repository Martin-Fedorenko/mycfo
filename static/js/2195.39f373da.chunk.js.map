{"version":3,"file":"static/js/2195.39f373da.chunk.js","mappings":"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","sources":["api/http.js","pronostico/pronostico-fijo/CrearForecastConfig.js"],"sourcesContent":["import axios from \"axios\";\r\nimport {\r\n  CognitoUserPool,\r\n  CognitoUser,\r\n  CognitoRefreshToken,\r\n} from \"amazon-cognito-identity-js\";\r\nimport { sessionService } from \"../shared-services/sessionService\";\r\nimport URL_CONFIG from \"../config/api-config\";\r\n\r\nconst http = axios.create();\r\nconst PRONOSTICO_BASE_URL = URL_CONFIG.PRONOSTICO;\r\nconst cognitoPoolConfig = {\r\n  UserPoolId: process.env.REACT_APP_COGNITO_USER_POOL_ID,\r\n  ClientId: process.env.REACT_APP_COGNITO_CLIENT_ID,\r\n};\r\n\r\nlet refreshPromise = null;\r\nlet hasForcedLogout = false;\r\n\r\nconst isPronosticoRequest = (url) =>\r\n  Boolean(\r\n    url &&\r\n      PRONOSTICO_BASE_URL &&\r\n      String(url).startsWith(String(PRONOSTICO_BASE_URL)),\r\n  );\r\n\r\nconst safeSessionGet = (key) => {\r\n  try {\r\n    return sessionStorage.getItem(key);\r\n  } catch (err) {\r\n    console.warn(\"No se pudo leer sessionStorage:\", err);\r\n    return null;\r\n  }\r\n};\r\n\r\nconst safeSessionSet = (key, value) => {\r\n  try {\r\n    if (value !== undefined && value !== null) {\r\n      sessionStorage.setItem(key, value);\r\n    }\r\n  } catch (err) {\r\n    console.warn(\"No se pudo escribir en sessionStorage:\", err);\r\n  }\r\n};\r\n\r\nconst clearSessionAndRedirect = () => {\r\n  if (hasForcedLogout) {\r\n    return;\r\n  }\r\n  hasForcedLogout = true;\r\n  try {\r\n    sessionStorage.clear();\r\n  } catch {\r\n    /* noop */\r\n  }\r\n  if (sessionService?.limpiarSesion) {\r\n    sessionService.limpiarSesion();\r\n  }\r\n  if (typeof window !== \"undefined\") {\r\n    window.location.href = \"/#/signin\";\r\n  }\r\n};\r\n\r\nconst buildCognitoUser = () => {\r\n  const username = safeSessionGet(\"email\") || safeSessionGet(\"username\");\r\n  if (\r\n    !username ||\r\n    !cognitoPoolConfig.UserPoolId ||\r\n    !cognitoPoolConfig.ClientId\r\n  ) {\r\n    return null;\r\n  }\r\n  const pool = new CognitoUserPool(cognitoPoolConfig);\r\n  return new CognitoUser({\r\n    Username: username,\r\n    Pool: pool,\r\n  });\r\n};\r\n\r\nconst refreshTokens = () => {\r\n  const refreshTokenValue = safeSessionGet(\"refreshToken\");\r\n  const cognitoUser = buildCognitoUser();\r\n  if (!refreshTokenValue || !cognitoUser) {\r\n    return Promise.reject(new Error(\"No hay datos para renovar la sesión.\"));\r\n  }\r\n  const refreshToken = new CognitoRefreshToken({\r\n    RefreshToken: refreshTokenValue,\r\n  });\r\n  return new Promise((resolve, reject) => {\r\n    cognitoUser.refreshSession(refreshToken, (err, session) => {\r\n      if (err) {\r\n        reject(err);\r\n        return;\r\n      }\r\n      const nextAccessToken = session.getAccessToken().getJwtToken();\r\n      const nextIdToken = session.getIdToken().getJwtToken();\r\n      const nextRefreshToken = session.getRefreshToken().getToken();\r\n      safeSessionSet(\"accessToken\", nextAccessToken);\r\n      safeSessionSet(\"idToken\", nextIdToken);\r\n      if (nextRefreshToken) {\r\n        safeSessionSet(\"refreshToken\", nextRefreshToken);\r\n      }\r\n      resolve(nextAccessToken);\r\n    });\r\n  });\r\n};\r\n\r\nconst getRefreshPromise = () => {\r\n  if (!refreshPromise) {\r\n    refreshPromise = refreshTokens()\r\n      .then((token) => {\r\n        refreshPromise = null;\r\n        return token;\r\n      })\r\n      .catch((error) => {\r\n        refreshPromise = null;\r\n        throw error;\r\n      });\r\n  }\r\n  return refreshPromise;\r\n};\r\n\r\nhttp.interceptors.request.use((config) => {\r\n  const accessToken = sessionStorage.getItem(\"accessToken\");\r\n  if (isPronosticoRequest(config.url)) {\r\n    config.headers = config.headers ?? {};\r\n    if (accessToken) {\r\n      config.headers.Authorization = `Bearer ${accessToken}`;\r\n    }\r\n    const usuarioSub = sessionStorage.getItem(\"sub\");\r\n    if (usuarioSub) {\r\n      config.headers[\"X-Usuario-Sub\"] = usuarioSub;\r\n    }\r\n  }\r\n  return config;\r\n});\r\n\r\nhttp.interceptors.response.use(\r\n  (response) => response,\r\n  async (error) => {\r\n    const { config, response } = error;\r\n    if (\r\n      !config ||\r\n      !response ||\r\n      response.status !== 401 ||\r\n      !isPronosticoRequest(config.url)\r\n    ) {\r\n      return Promise.reject(error);\r\n    }\r\n\r\n    if (config.__isRetryRequest) {\r\n      clearSessionAndRedirect();\r\n      return Promise.reject(error);\r\n    }\r\n\r\n    try {\r\n      const newAccessToken = await getRefreshPromise();\r\n      if (!newAccessToken) {\r\n        throw new Error(\"No se obtuvo un token renovado.\");\r\n      }\r\n      config.__isRetryRequest = true;\r\n      config.headers = config.headers ?? {};\r\n      config.headers.Authorization = `Bearer ${newAccessToken}`;\r\n      return http(config);\r\n    } catch (refreshError) {\r\n      clearSessionAndRedirect();\r\n      return Promise.reject(refreshError);\r\n    }\r\n  },\r\n);\r\n\r\nexport default http;\r\n","import * as React from 'react';\r\nimport {\r\n  Box,\r\n  Typography,\r\n  Button,\r\n  Paper,\r\n  TextField,\r\n  MenuItem,\r\n  Alert,\r\n  CircularProgress\r\n} from '@mui/material';\r\nimport { useNavigate, useParams } from 'react-router-dom';\r\nimport API_CONFIG from '../../config/api-config';\r\nimport http from '../../api/http';\r\n\r\nexport default function CrearForecastConfig() {\r\n  const { id } = useParams(); // Si existe, estamos editando\r\n  const navigate = useNavigate();\r\n  const [loading, setLoading] = React.useState(false);\r\n  const [loadingData, setLoadingData] = React.useState(!!id);\r\n  const [error, setError] = React.useState(null);\r\n  const [success, setSuccess] = React.useState(null);\r\n  \r\n  const [formData, setFormData] = React.useState({\r\n    nombre: '',\r\n    horizonteMeses: 6,\r\n    mesesFrecuencia: 6\r\n  });\r\n\r\n  React.useEffect(() => {\r\n    if (id) {\r\n      cargarConfiguracion();\r\n    }\r\n  }, [id]);\r\n\r\n  const cargarConfiguracion = async () => {\r\n    setLoadingData(true);\r\n    try {\r\n      const response = await http.get(`${API_CONFIG.PRONOSTICO}/api/forecast-config/${id}`);\r\n      setFormData({\r\n        nombre: response.data.nombre || '',\r\n        horizonteMeses: response.data.horizonteMeses || 6,\r\n        mesesFrecuencia: response.data.mesesFrecuencia || 6\r\n      });\r\n    } catch (err) {\r\n      console.error('Error cargando configuración:', err);\r\n      setError(err.response?.data?.message || 'Error al cargar la configuración.');\r\n    } finally {\r\n      setLoadingData(false);\r\n    }\r\n  };\r\n\r\n  const handleChange = (field) => (event) => {\r\n    setFormData({\r\n      ...formData,\r\n      [field]: event.target.value\r\n    });\r\n    setError(null);\r\n    setSuccess(null);\r\n  };\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    setLoading(true);\r\n    setError(null);\r\n    setSuccess(null);\r\n\r\n    // Validaciones\r\n    if (!formData.nombre || formData.nombre.trim() === '') {\r\n      setError('El nombre es requerido');\r\n      setLoading(false);\r\n      return;\r\n    }\r\n\r\n    if (formData.horizonteMeses <= 0 || formData.mesesFrecuencia <= 0) {\r\n      setError('El horizonte y la frecuencia deben ser mayores a 0');\r\n      setLoading(false);\r\n      return;\r\n    }\r\n\r\n    try {\r\n      if (id) {\r\n        // Actualizar\r\n        await http.put(`${API_CONFIG.PRONOSTICO}/api/forecast-config/${id}`, formData);\r\n        setSuccess('Configuración actualizada exitosamente');\r\n        setTimeout(() => {\r\n          navigate('/pronostico-fijo');\r\n        }, 1500);\r\n      } else {\r\n        // Crear\r\n        await http.post(`${API_CONFIG.PRONOSTICO}/api/forecast-config`, formData);\r\n        setSuccess('Configuración creada exitosamente');\r\n        setTimeout(() => {\r\n          navigate('/pronostico-fijo');\r\n        }, 1500);\r\n      }\r\n    } catch (err) {\r\n      console.error('Error guardando configuración:', err);\r\n      setError(err.response?.data?.message || 'Error al guardar la configuración. Por favor intenta nuevamente.');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleCancel = () => {\r\n    navigate('/pronostico-fijo');\r\n  };\r\n\r\n  if (loadingData) {\r\n    return (\r\n      <Box sx={{ display: 'flex', justifyContent: 'center', alignItems: 'center', minHeight: '400px' }}>\r\n        <CircularProgress />\r\n      </Box>\r\n    );\r\n  }\r\n\r\n  const mesesOptions = Array.from({ length: 24 }, (_, i) => i + 1);\r\n\r\n  return (\r\n    <Box sx={{ p: 3, maxWidth: 600, mx: 'auto' }}>\r\n      <Typography variant=\"h4\" component=\"h1\" sx={{ mb: 3 }}>\r\n        {id ? 'Editar Configuración' : 'Nueva Configuración de Pronóstico'}\r\n      </Typography>\r\n\r\n      {error && (\r\n        <Alert severity=\"error\" sx={{ mb: 2 }} onClose={() => setError(null)}>\r\n          {error}\r\n        </Alert>\r\n      )}\r\n\r\n      {success && (\r\n        <Alert severity=\"success\" sx={{ mb: 2 }}>\r\n          {success}\r\n        </Alert>\r\n      )}\r\n\r\n      <Paper sx={{ p: 3 }}>\r\n        <form onSubmit={handleSubmit}>\r\n          <TextField\r\n            fullWidth\r\n            label=\"Nombre de la Configuración\"\r\n            value={formData.nombre}\r\n            onChange={handleChange('nombre')}\r\n            margin=\"normal\"\r\n            required\r\n            helperText=\"Ej: Pronóstico Semestral\"\r\n          />\r\n\r\n          <TextField\r\n            fullWidth\r\n            select\r\n            label=\"Frecuencia de Generación\"\r\n            value={formData.mesesFrecuencia}\r\n            onChange={handleChange('mesesFrecuencia')}\r\n            margin=\"normal\"\r\n            required\r\n            helperText=\"Cada cuántos meses se generará el pronóstico automáticamente\"\r\n          >\r\n            {mesesOptions.map((mes) => (\r\n              <MenuItem key={mes} value={mes}>\r\n                Cada {mes} {mes === 1 ? 'mes' : 'meses'}\r\n              </MenuItem>\r\n            ))}\r\n          </TextField>\r\n\r\n          <TextField\r\n            fullWidth\r\n            select\r\n            label=\"Horizonte de Pronóstico\"\r\n            value={formData.horizonteMeses}\r\n            onChange={handleChange('horizonteMeses')}\r\n            margin=\"normal\"\r\n            required\r\n            helperText=\"Cantidad de meses a pronosticar hacia adelante\"\r\n          >\r\n            {mesesOptions.map((mes) => (\r\n              <MenuItem key={mes} value={mes}>\r\n                {mes} {mes === 1 ? 'mes' : 'meses'}\r\n              </MenuItem>\r\n            ))}\r\n          </TextField>\r\n\r\n          <Box sx={{ display: 'flex', gap: 2, mt: 3, justifyContent: 'flex-end' }}>\r\n            <Button\r\n              variant=\"outlined\"\r\n              onClick={handleCancel}\r\n              disabled={loading}\r\n            >\r\n              Cancelar\r\n            </Button>\r\n            <Button\r\n              type=\"submit\"\r\n              variant=\"contained\"\r\n              disabled={loading}\r\n            >\r\n              {loading ? <CircularProgress size={24} /> : id ? 'Actualizar' : 'Crear'}\r\n            </Button>\r\n          </Box>\r\n        </form>\r\n      </Paper>\r\n    </Box>\r\n  );\r\n}\r\n"],"names":["http","axios","create","PRONOSTICO_BASE_URL","URL_CONFIG","PRONOSTICO","cognitoPoolConfig","UserPoolId","process","ClientId","refreshPromise","hasForcedLogout","isPronosticoRequest","url","Boolean","String","startsWith","safeSessionGet","key","sessionStorage","getItem","err","console","warn","safeSessionSet","value","undefined","setItem","clearSessionAndRedirect","clear","_unused","sessionService","limpiarSesion","window","location","href","refreshTokens","refreshTokenValue","cognitoUser","buildCognitoUser","username","pool","CognitoUserPool","CognitoUser","Username","Pool","Promise","reject","Error","refreshToken","CognitoRefreshToken","RefreshToken","resolve","refreshSession","session","nextAccessToken","getAccessToken","getJwtToken","nextIdToken","getIdToken","nextRefreshToken","getRefreshToken","getToken","interceptors","request","use","config","accessToken","_config$headers","headers","Authorization","concat","usuarioSub","response","async","error","status","__isRetryRequest","_config$headers2","newAccessToken","then","token","catch","refreshError","CrearForecastConfig","id","useParams","navigate","useNavigate","loading","setLoading","React","loadingData","setLoadingData","setError","success","setSuccess","formData","setFormData","nombre","horizonteMeses","mesesFrecuencia","cargarConfiguracion","get","API_CONFIG","data","_err$response","_err$response$data","message","handleChange","field","event","_objectSpread","target","_jsx","Box","sx","display","justifyContent","alignItems","minHeight","children","CircularProgress","mesesOptions","Array","from","length","_","i","_jsxs","p","maxWidth","mx","Typography","variant","component","mb","Alert","severity","onClose","Paper","onSubmit","e","preventDefault","trim","put","setTimeout","post","_err$response2","_err$response2$data","TextField","fullWidth","label","onChange","margin","required","helperText","select","map","mes","MenuItem","gap","mt","Button","onClick","handleCancel","disabled","type","size"],"sourceRoot":""}