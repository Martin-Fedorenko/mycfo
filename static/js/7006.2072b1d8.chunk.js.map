{"version":3,"file":"static/js/7006.2072b1d8.chunk.js","mappings":"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","sources":["utils/currency.js","shared-components/ExportadorSimple.js","api/http.js","../node_modules/date-fns/eachMonthOfInterval.mjs","../node_modules/@mui/icons-material/esm/FilterAltOutlined.js","../node_modules/@mui/icons-material/esm/RuleOutlined.js","../node_modules/@mui/icons-material/esm/HistoryOutlined.js","../node_modules/@mui/icons-material/esm/SettingsOutlined.js","pronostico/presupuesto/components/PresupuestoDetalle.js","reportes/reportes.service.js"],"sourcesContent":["export const numberFormatter = new Intl.NumberFormat('es-AR', {\r\n  minimumFractionDigits: 0,\r\n  maximumFractionDigits: 2,\r\n});\r\n\r\nexport const formatCurrency = (value, { allowEmpty = false } = {}) => {\r\n  if (value === '' || value === null || typeof value === 'undefined') {\r\n    return allowEmpty ? '' : '$ 0';\r\n  }\r\n  const num = Number(value);\r\n  if (Number.isNaN(num)) {\r\n    return allowEmpty ? '' : '$ 0';\r\n  }\r\n  const sign = num < 0 ? '-' : '';\r\n  return `${sign}$ ${numberFormatter.format(Math.abs(num))}`;\r\n};\r\n\r\nexport const formatCurrencyInput = (value) => formatCurrency(value, { allowEmpty: true });\r\n\r\nexport const parseCurrency = (raw, { returnEmpty = false } = {}) => {\r\n  if (raw == null) return returnEmpty ? '' : 0;\r\n  const str = raw.toString().trim();\r\n  if (!str) return returnEmpty ? '' : 0;\r\n  const cleaned = str.replace(/\\s+/g, '').replace(/\\$/g, '');\r\n  const negative = cleaned.startsWith('-');\r\n  const numeric = cleaned.replace(/[^0-9,.-]/g, '');\r\n  if (!numeric || numeric === '-') return returnEmpty ? '' : 0;\r\n  const normalized = numeric\r\n    .replace(/-/g, '')\r\n    .replace(/\\./g, '')\r\n    .replace(',', '.');\r\n  const num = Number(normalized);\r\n  if (Number.isNaN(num)) return returnEmpty ? '' : 0;\r\n  return negative ? -num : num;\r\n};\r\n","import * as React from 'react';\r\nimport { Box, IconButton, Tooltip } from '@mui/material';\r\nimport PictureAsPdfIcon from '@mui/icons-material/PictureAsPdf';\r\nimport GridOnIcon from '@mui/icons-material/GridOn'; // <-- Nuevo icono para Excel\r\n\r\nconst EXPORT_PDF_BG = '#FDE4E3';\r\nconst EXPORT_PDF_BG_HOVER = '#FACDCA';\r\nconst EXPORT_EXCEL_BG = '#E5F4E5';\r\nconst EXPORT_EXCEL_BG_HOVER = '#CAE7CB';\r\n\r\nexport default function ExportadorSimple({\r\n                                             onExportPdf,\r\n                                             onExportExcel,\r\n                                             sx = {},\r\n                                         }) {\r\n    return (\r\n        <Box\r\n            sx={{\r\n                display: 'flex',\r\n                gap: 1,\r\n                // NO posición fija por defecto para mayor flexibilidad\r\n                ...sx,\r\n            }}\r\n        >\r\n            <Tooltip title=\"Exportar PDF\">\r\n                <IconButton\r\n                    onClick={onExportPdf}\r\n                    size=\"small\"\r\n                    color=\"error\"\r\n                    sx={(theme) => {\r\n                        const hoverStyles = {\r\n                            bgcolor: `${EXPORT_PDF_BG_HOVER} !important`,\r\n                            backgroundColor: `${EXPORT_PDF_BG_HOVER} !important`,\r\n                            borderColor: '#d32f2f',\r\n                            '& .MuiSvgIcon-root': {\r\n                                color: '#000 !important',\r\n                            },\r\n                        };\r\n                        return {\r\n                            border: '1px solid',\r\n                            borderColor: '#d32f2f',\r\n                            bgcolor: `${EXPORT_PDF_BG} !important`,\r\n                            backgroundColor: `${EXPORT_PDF_BG} !important`,\r\n                            '& .MuiSvgIcon-root': {\r\n                                color: '#000 !important',\r\n                            },\r\n                            '&:hover': hoverStyles,\r\n                            width: 36,\r\n                            height: 36,\r\n                            ...theme.applyStyles('dark', {\r\n                                borderColor: '#d32f2f',\r\n                                '&:hover': hoverStyles,\r\n                            }),\r\n                        };\r\n                    }}\r\n                    aria-label=\"Exportar PDF\"\r\n                >\r\n                    <PictureAsPdfIcon fontSize=\"small\" />\r\n                </IconButton>\r\n            </Tooltip>\r\n\r\n            <Tooltip title=\"Exportar Excel\">\r\n                <IconButton\r\n                    onClick={onExportExcel}\r\n                    size=\"small\"\r\n                    color=\"success\"\r\n                    sx={(theme) => {\r\n                        const hoverStyles = {\r\n                            bgcolor: `${EXPORT_EXCEL_BG_HOVER} !important`,\r\n                            backgroundColor: `${EXPORT_EXCEL_BG_HOVER} !important`,\r\n                            borderColor: '#2e7d32',\r\n                            '& .MuiSvgIcon-root': {\r\n                                color: '#000 !important',\r\n                            },\r\n                        };\r\n                        return {\r\n                            border: '1px solid',\r\n                            borderColor: '#2e7d32',\r\n                            bgcolor: `${EXPORT_EXCEL_BG} !important`,\r\n                            backgroundColor: `${EXPORT_EXCEL_BG} !important`,\r\n                            '& .MuiSvgIcon-root': {\r\n                                color: '#000 !important',\r\n                            },\r\n                            '&:hover': hoverStyles,\r\n                            width: 36,\r\n                            height: 36,\r\n                            ...theme.applyStyles('dark', {\r\n                                borderColor: '#2e7d32',\r\n                                '&:hover': hoverStyles,\r\n                            }),\r\n                        };\r\n                    }}\r\n                    aria-label=\"Exportar Excel\"\r\n                >\r\n                    <GridOnIcon fontSize=\"small\" /> {/* Icono de tabla tipo Excel */}\r\n                </IconButton>\r\n            </Tooltip>\r\n        </Box>\r\n    );\r\n}\r\n","import axios from \"axios\";\r\nimport {\r\n  CognitoUserPool,\r\n  CognitoUser,\r\n  CognitoRefreshToken,\r\n} from \"amazon-cognito-identity-js\";\r\nimport { sessionService } from \"../shared-services/sessionService\";\r\nimport URL_CONFIG from \"../config/api-config\";\r\n\r\nconst http = axios.create();\r\nconst PRONOSTICO_BASE_URL = URL_CONFIG.PRONOSTICO;\r\nconst cognitoPoolConfig = {\r\n  UserPoolId: process.env.REACT_APP_COGNITO_USER_POOL_ID,\r\n  ClientId: process.env.REACT_APP_COGNITO_CLIENT_ID,\r\n};\r\n\r\nlet refreshPromise = null;\r\nlet hasForcedLogout = false;\r\n\r\nconst isPronosticoRequest = (url) =>\r\n  Boolean(\r\n    url &&\r\n      PRONOSTICO_BASE_URL &&\r\n      String(url).startsWith(String(PRONOSTICO_BASE_URL)),\r\n  );\r\n\r\nconst safeSessionGet = (key) => {\r\n  try {\r\n    return sessionStorage.getItem(key);\r\n  } catch (err) {\r\n    console.warn(\"No se pudo leer sessionStorage:\", err);\r\n    return null;\r\n  }\r\n};\r\n\r\nconst safeSessionSet = (key, value) => {\r\n  try {\r\n    if (value !== undefined && value !== null) {\r\n      sessionStorage.setItem(key, value);\r\n    }\r\n  } catch (err) {\r\n    console.warn(\"No se pudo escribir en sessionStorage:\", err);\r\n  }\r\n};\r\n\r\nconst clearSessionAndRedirect = () => {\r\n  if (hasForcedLogout) {\r\n    return;\r\n  }\r\n  hasForcedLogout = true;\r\n  try {\r\n    sessionStorage.clear();\r\n  } catch {\r\n    /* noop */\r\n  }\r\n  if (sessionService?.limpiarSesion) {\r\n    sessionService.limpiarSesion();\r\n  }\r\n  if (typeof window !== \"undefined\") {\r\n    window.location.href = \"/#/signin\";\r\n  }\r\n};\r\n\r\nconst buildCognitoUser = () => {\r\n  const username = safeSessionGet(\"email\") || safeSessionGet(\"username\");\r\n  if (\r\n    !username ||\r\n    !cognitoPoolConfig.UserPoolId ||\r\n    !cognitoPoolConfig.ClientId\r\n  ) {\r\n    return null;\r\n  }\r\n  const pool = new CognitoUserPool(cognitoPoolConfig);\r\n  return new CognitoUser({\r\n    Username: username,\r\n    Pool: pool,\r\n  });\r\n};\r\n\r\nconst refreshTokens = () => {\r\n  const refreshTokenValue = safeSessionGet(\"refreshToken\");\r\n  const cognitoUser = buildCognitoUser();\r\n  if (!refreshTokenValue || !cognitoUser) {\r\n    return Promise.reject(new Error(\"No hay datos para renovar la sesión.\"));\r\n  }\r\n  const refreshToken = new CognitoRefreshToken({\r\n    RefreshToken: refreshTokenValue,\r\n  });\r\n  return new Promise((resolve, reject) => {\r\n    cognitoUser.refreshSession(refreshToken, (err, session) => {\r\n      if (err) {\r\n        reject(err);\r\n        return;\r\n      }\r\n      const nextAccessToken = session.getAccessToken().getJwtToken();\r\n      const nextIdToken = session.getIdToken().getJwtToken();\r\n      const nextRefreshToken = session.getRefreshToken().getToken();\r\n      safeSessionSet(\"accessToken\", nextAccessToken);\r\n      safeSessionSet(\"idToken\", nextIdToken);\r\n      if (nextRefreshToken) {\r\n        safeSessionSet(\"refreshToken\", nextRefreshToken);\r\n      }\r\n      resolve(nextAccessToken);\r\n    });\r\n  });\r\n};\r\n\r\nconst getRefreshPromise = () => {\r\n  if (!refreshPromise) {\r\n    refreshPromise = refreshTokens()\r\n      .then((token) => {\r\n        refreshPromise = null;\r\n        return token;\r\n      })\r\n      .catch((error) => {\r\n        refreshPromise = null;\r\n        throw error;\r\n      });\r\n  }\r\n  return refreshPromise;\r\n};\r\n\r\nhttp.interceptors.request.use((config) => {\r\n  const accessToken = sessionStorage.getItem(\"accessToken\");\r\n  if (isPronosticoRequest(config.url)) {\r\n    config.headers = config.headers ?? {};\r\n    if (accessToken) {\r\n      config.headers.Authorization = `Bearer ${accessToken}`;\r\n    }\r\n    const usuarioSub = sessionStorage.getItem(\"sub\");\r\n    if (usuarioSub) {\r\n      config.headers[\"X-Usuario-Sub\"] = usuarioSub;\r\n    }\r\n  }\r\n  return config;\r\n});\r\n\r\nhttp.interceptors.response.use(\r\n  (response) => response,\r\n  async (error) => {\r\n    const { config, response } = error;\r\n    if (\r\n      !config ||\r\n      !response ||\r\n      response.status !== 401 ||\r\n      !isPronosticoRequest(config.url)\r\n    ) {\r\n      return Promise.reject(error);\r\n    }\r\n\r\n    if (config.__isRetryRequest) {\r\n      clearSessionAndRedirect();\r\n      return Promise.reject(error);\r\n    }\r\n\r\n    try {\r\n      const newAccessToken = await getRefreshPromise();\r\n      if (!newAccessToken) {\r\n        throw new Error(\"No se obtuvo un token renovado.\");\r\n      }\r\n      config.__isRetryRequest = true;\r\n      config.headers = config.headers ?? {};\r\n      config.headers.Authorization = `Bearer ${newAccessToken}`;\r\n      return http(config);\r\n    } catch (refreshError) {\r\n      clearSessionAndRedirect();\r\n      return Promise.reject(refreshError);\r\n    }\r\n  },\r\n);\r\n\r\nexport default http;\r\n","import { toDate } from \"./toDate.mjs\";\n\n/**\n * The {@link eachMonthOfInterval} function options.\n */\n\n/**\n * @name eachMonthOfInterval\n * @category Interval Helpers\n * @summary Return the array of months within the specified time interval.\n *\n * @description\n * Return the array of months within the specified time interval.\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n *\n * @param interval - The interval\n *\n * @returns The array with starts of months from the month of the interval start to the month of the interval end\n *\n * @example\n * // Each month between 6 February 2014 and 10 August 2014:\n * const result = eachMonthOfInterval({\n *   start: new Date(2014, 1, 6),\n *   end: new Date(2014, 7, 10)\n * })\n * //=> [\n * //   Sat Feb 01 2014 00:00:00,\n * //   Sat Mar 01 2014 00:00:00,\n * //   Tue Apr 01 2014 00:00:00,\n * //   Thu May 01 2014 00:00:00,\n * //   Sun Jun 01 2014 00:00:00,\n * //   Tue Jul 01 2014 00:00:00,\n * //   Fri Aug 01 2014 00:00:00\n * // ]\n */\nexport function eachMonthOfInterval(interval, options) {\n  const startDate = toDate(interval.start);\n  const endDate = toDate(interval.end);\n\n  let reversed = +startDate > +endDate;\n  const endTime = reversed ? +startDate : +endDate;\n  const currentDate = reversed ? endDate : startDate;\n  currentDate.setHours(0, 0, 0, 0);\n  currentDate.setDate(1);\n\n  let step = options?.step ?? 1;\n  if (!step) return [];\n  if (step < 0) {\n    step = -step;\n    reversed = !reversed;\n  }\n\n  const dates = [];\n\n  while (+currentDate <= endTime) {\n    dates.push(toDate(currentDate));\n    currentDate.setMonth(currentDate.getMonth() + step);\n  }\n\n  return reversed ? dates.reverse() : dates;\n}\n\n// Fallback for modularized imports:\nexport default eachMonthOfInterval;\n","\"use client\";\n\nimport createSvgIcon from \"./utils/createSvgIcon.js\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon(/*#__PURE__*/_jsx(\"path\", {\n  d: \"M7 6h10l-5.01 6.3zm-2.75-.39C6.27 8.2 10 13 10 13v6c0 .55.45 1 1 1h2c.55 0 1-.45 1-1v-6s3.72-4.8 5.74-7.39c.51-.66.04-1.61-.79-1.61H5.04c-.83 0-1.3.95-.79 1.61\"\n}), 'FilterAltOutlined');","\"use client\";\n\nimport createSvgIcon from \"./utils/createSvgIcon.js\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon(/*#__PURE__*/_jsx(\"path\", {\n  d: \"M16.54 11 13 7.46l1.41-1.41 2.12 2.12 4.24-4.24 1.41 1.41zM11 7H2v2h9zm10 6.41L19.59 12 17 14.59 14.41 12 13 13.41 15.59 16 13 18.59 14.41 20 17 17.41 19.59 20 21 18.59 18.41 16zM11 15H2v2h9z\"\n}), 'RuleOutlined');","\"use client\";\n\nimport createSvgIcon from \"./utils/createSvgIcon.js\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon(/*#__PURE__*/_jsx(\"path\", {\n  d: \"M13 3c-4.97 0-9 4.03-9 9H1l3.89 3.89.07.14L9 12H6c0-3.87 3.13-7 7-7s7 3.13 7 7-3.13 7-7 7c-1.93 0-3.68-.79-4.94-2.06l-1.42 1.42C8.27 19.99 10.51 21 13 21c4.97 0 9-4.03 9-9s-4.03-9-9-9m-1 5v5l4.25 2.52.77-1.28-3.52-2.09V8z\"\n}), 'HistoryOutlined');","\"use client\";\n\nimport createSvgIcon from \"./utils/createSvgIcon.js\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon(/*#__PURE__*/_jsx(\"path\", {\n  d: \"M19.43 12.98c.04-.32.07-.64.07-.98s-.03-.66-.07-.98l2.11-1.65c.19-.15.24-.42.12-.64l-2-3.46c-.09-.16-.26-.25-.44-.25-.06 0-.12.01-.17.03l-2.49 1c-.52-.4-1.08-.73-1.69-.98l-.38-2.65C14.46 2.18 14.25 2 14 2h-4c-.25 0-.46.18-.49.42l-.38 2.65c-.61.25-1.17.59-1.69.98l-2.49-1q-.09-.03-.18-.03c-.17 0-.34.09-.43.25l-2 3.46c-.13.22-.07.49.12.64l2.11 1.65c-.04.32-.07.65-.07.98s.03.66.07.98l-2.11 1.65c-.19.15-.24.42-.12.64l2 3.46c.09.16.26.25.44.25.06 0 .12-.01.17-.03l2.49-1c.52.4 1.08.73 1.69.98l.38 2.65c.03.24.24.42.49.42h4c.25 0 .46-.18.49-.42l.38-2.65c.61-.25 1.17-.59 1.69-.98l2.49 1q.09.03.18.03c.17 0 .34-.09.43-.25l2-3.46c.12-.22.07-.49-.12-.64zm-1.98-1.71c.04.31.05.52.05.73s-.02.43-.05.73l-.14 1.13.89.7 1.08.84-.7 1.21-1.27-.51-1.04-.42-.9.68c-.43.32-.84.56-1.25.73l-1.06.43-.16 1.13-.2 1.35h-1.4l-.19-1.35-.16-1.13-1.06-.43c-.43-.18-.83-.41-1.23-.71l-.91-.7-1.06.43-1.27.51-.7-1.21 1.08-.84.89-.7-.14-1.13c-.03-.31-.05-.54-.05-.74s.02-.43.05-.73l.14-1.13-.89-.7-1.08-.84.7-1.21 1.27.51 1.04.42.9-.68c.43-.32.84-.56 1.25-.73l1.06-.43.16-1.13.2-1.35h1.39l.19 1.35.16 1.13 1.06.43c.43.18.83.41 1.23.71l.91.7 1.06-.43 1.27-.51.7 1.21-1.07.85-.89.7zM12 8c-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4-1.79-4-4-4m0 6c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2\"\n}), 'SettingsOutlined');","import * as React from 'react';\r\nimport {\r\n  Box, Typography, Paper, Grid, Button, Tabs, Tab, Avatar, Chip, Stack, Tooltip,\r\n  IconButton, Divider, Drawer, List, ListItem, ListItemText, TextField, MenuItem, Switch,\r\n  FormControlLabel, Menu, Table, TableHead, TableRow, TableCell, TableBody\r\n} from '@mui/material';\r\nimport { useTheme } from '@mui/material/styles';\r\nimport { useParams, useNavigate } from 'react-router-dom';\r\nimport ExportadorSimple from '../../../shared-components/ExportadorSimple';\r\nimport http from '../../../api/http';\r\nimport { formatCurrency } from '../../../utils/currency';\r\nimport { eachMonthOfInterval, startOfMonth, endOfMonth, format as formatDate } from 'date-fns';\r\nimport { getMovimientosPorRango } from '../../../reportes/reportes.service';\r\nimport {\r\n  ResponsiveContainer, BarChart, Bar, XAxis, YAxis, Tooltip as RTooltip, Legend,\r\n  LineChart, Line, Area, ReferenceLine\r\n} from 'recharts';\r\nimport InfoOutlinedIcon from '@mui/icons-material/InfoOutlined';\r\nimport FilterAltOutlinedIcon from '@mui/icons-material/FilterAltOutlined';\r\nimport RuleOutlinedIcon from '@mui/icons-material/RuleOutlined';\r\nimport HistoryOutlinedIcon from '@mui/icons-material/HistoryOutlined';\r\nimport SettingsOutlinedIcon from '@mui/icons-material/SettingsOutlined';\r\nimport CloseIcon from '@mui/icons-material/Close';\r\nimport WarningAmberOutlinedIcon from '@mui/icons-material/WarningAmberOutlined';\r\nimport API_CONFIG from '../../../config/api-config';\r\n\r\n// Helper seguro para números\r\nconst safeNumber = (v) =>\r\n  typeof v === 'number' ? v : v != null && !isNaN(Number(v)) ? Number(v) : 0;\r\n\r\n// Colores\r\nconst INGRESO_EST_COLOR = '#a5d6a7';\r\nconst INGRESO_REAL_COLOR = '#4caf50';\r\nconst EGRESO_EST_COLOR = '#ef9a9a';\r\nconst EGRESO_REAL_COLOR = '#f44336';\r\nconst SUPERAVIT_COLOR = '#4caf50';\r\nconst DEFICIT_COLOR = '#f44336';\r\nconst DEFICIT_CHIP_SX = {\r\n  fontWeight: 500,\r\n  bgcolor: '#FFDE70',\r\n  backgroundColor: '#FFDE70',\r\n  color: '#000',\r\n  border: '1px solid #F5C16C',\r\n  '& .MuiChip-label': { color: '#000' },\r\n  '& .MuiChip-icon': { color: '#000' },\r\n  '&.MuiChip-filled': { backgroundColor: '#FFDE70' },\r\n};\r\n\r\nconst datosBrutosTableSx = (theme) => ({\r\n  borderCollapse: 'collapse',\r\n  border: `1px solid ${(theme.vars || theme).palette.divider}`,\r\n});\r\n\r\nconst datosBrutosCellSx = (theme) => ({\r\n  border: `1px solid ${(theme.vars || theme).palette.divider}`,\r\n  padding: '12px',\r\n});\r\n\r\nconst datosBrutosHeaderCellSx = (theme) => ({\r\n  ...datosBrutosCellSx(theme),\r\n  fontWeight: 700,\r\n});\r\n\r\n// Mapeo de número de mes a nombre corto\r\nconst mesCorto = (numStr) => {\r\n  const nombres = ['Enero', 'Febrero', 'Marzo', 'Abril', 'Mayo', 'Junio', 'Julio', 'Agosto', 'Septiembre', 'Octubre', 'Noviembre', 'Diciembre'];\r\n  const idx = parseInt(numStr, 10) - 1;\r\n  return nombres[idx] || numStr;\r\n};\r\n\r\n// Semáforo de salud presupuestaria por % cumplimiento\r\nfunction semaforoPorCumplimiento(pct) {\r\n  if (pct >= 0.95) return { label: 'Salud: Verde', color: 'success' };\r\n  if (pct >= 0.8) return { label: 'Salud: Amarillo', color: 'warning' };\r\n  return { label: 'Salud: Rojo', color: 'error' };\r\n}\r\n\r\n// Formatear diferencia\r\nconst formatDiff = (est, real) => {\r\n  const diff = safeNumber(real) - safeNumber(est);\r\n  const formatted = formatCurrency(Math.abs(diff));\r\n  return diff >= 0 ? `+${formatted}` : `-${formatted}`;\r\n};\r\n\r\nconst isValidDate = (value) => value instanceof Date && !Number.isNaN(value.getTime());\r\n\r\nconst toDateSafe = (value) => {\r\n  if (!value || typeof value !== 'string') return null;\r\n  const [yearStr, monthStr, dayStr] = value.split('-');\r\n  const year = Number(yearStr);\r\n  const month = Number(monthStr);\r\n  const day = Number(dayStr);\r\n  if (!Number.isFinite(year) || !Number.isFinite(month) || !Number.isFinite(day)) return null;\r\n  const date = new Date(year, month - 1, day);\r\n  return isValidDate(date) ? date : null;\r\n};\r\n\r\nasync function getRealPorMes(meses, tipo) {\r\n  const out = {};\r\n\r\n  for (const d of meses) {\r\n    const desde = formatDate(startOfMonth(d), 'yyyy-MM-dd');\r\n    const hasta = formatDate(endOfMonth(d), 'yyyy-MM-dd');\r\n    const mesKey = formatDate(d, 'yyyy-MM');\r\n    try {\r\n      const resp = await getMovimientosPorRango({ fechaDesde: desde, fechaHasta: hasta, tipos: tipo });\r\n      const movimientos = Array.isArray(resp?.content) ? resp.content : (Array.isArray(resp) ? resp : []);\r\n      const totalMes = movimientos.reduce((acc, movimiento) => {\r\n        const monto = Math.abs(Number(movimiento?.monto ?? movimiento?.montoTotal ?? 0));\r\n        return Number.isFinite(monto) ? acc + monto : acc;\r\n      }, 0);\r\n      out[mesKey] = totalMes;\r\n    } catch (error) {\r\n      console.error(`Error al obtener movimientos del mes ${mesKey} (${tipo}):`, error);\r\n      out[mesKey] = 0;\r\n    }\r\n  }\r\n\r\n  return out;\r\n}\r\n\r\nexport default function PresupuestoDetalle() {\r\n  const { nombre: nombreUrl } = useParams();\r\n  const navigate = useNavigate();\r\n  const theme = useTheme();\r\n  const isLightMode = theme.palette.mode === 'light';\r\n  const paletteVars = theme.vars?.palette ?? theme.palette;\r\n  const kpiColors = React.useMemo(\r\n    () => ({\r\n      ingresos: isLightMode ? 'hsl(120, 44%, 53%)' : paletteVars.success.light,\r\n      egresos: isLightMode ? 'hsl(0, 90%, 40%)' : paletteVars.error.light,\r\n      resultadoPos: isLightMode ? 'hsl(210, 98%, 42%)' : paletteVars.info.light,\r\n      resultadoNeg: isLightMode ? 'hsl(45, 90%, 40%)' : paletteVars.warning.light,\r\n    }),\r\n    [isLightMode, paletteVars.error.light, paletteVars.info.light, paletteVars.success.light, paletteVars.warning.light]\r\n  );\r\n  const tabsLabelColor = isLightMode\r\n    ? paletteVars.text?.primary ?? '#000'\r\n    : paletteVars.common?.white ?? '#fff';\r\n\r\n  const [presupuesto, setPresupuesto] = React.useState({\r\n    id: null,\r\n    nombre: '',\r\n    detalleMensual: [],\r\n  });\r\n  const [loading, setLoading] = React.useState(true);\r\n  const [error, setError] = React.useState(null);\r\n\r\n  const [tab, setTab] = React.useState(0); // 0: resumen, 1: tabla\r\n\r\n  // Filtros UI\r\n  const [verSoloDeficit, setVerSoloDeficit] = React.useState(false);\r\n  const [verSoloEstimados, setVerSoloEstimados] = React.useState(false);\r\n  const [umbralDesvio, setUmbralDesvio] = React.useState(0); // %\r\n  const [anchorFiltros, setAnchorFiltros] = React.useState(null);\r\n\r\n  // Panel lateral (KPIs clicables)\r\n  const [drawerOpen, setDrawerOpen] = React.useState(false);\r\n  const [drawerTipo, setDrawerTipo] = React.useState('Ingresos'); // 'ingresos' | 'egresos' | 'resultado'\r\n\r\n  React.useEffect(() => {\r\n    const cargar = async () => {\r\n      try {\r\n        setLoading(true);\r\n        setError(null);\r\n\r\n        // 1) Buscar presupuesto por nombre\r\n        const res = await http.get(`${API_CONFIG.PRONOSTICO}/api/presupuestos`);\r\n        const listaPayload = res?.data;\r\n        let lista = [];\r\n        if (Array.isArray(listaPayload)) {\r\n          lista = listaPayload;\r\n        } else if (Array.isArray(listaPayload?.content)) {\r\n          lista = listaPayload.content;\r\n        }\r\n\r\n        const slug = decodeURIComponent(nombreUrl || '')\r\n          .trim()\r\n          .toLowerCase()\r\n          .replace(/\\s+/g, '-');\r\n\r\n        const encontrado = lista.find(\r\n          (p) => (p?.nombre || '').trim().toLowerCase().replace(/\\s+/g, '-') === slug\r\n        );\r\n\r\n        if (!encontrado?.id) {\r\n          setPresupuesto({ id: null, nombre: 'No encontrado', detalleMensual: [] });\r\n          setLoading(false);\r\n          return;\r\n        }\r\n\r\n        // 2) (opcional) obtener nombre \"oficial\" desde header\r\n        let nombreOficial = encontrado.nombre;\r\n        try {\r\n          const resHeader = await http.get(`${API_CONFIG.PRONOSTICO}/api/presupuestos/${encontrado.id}`);\r\n          if (resHeader?.data?.nombre) nombreOficial = resHeader.data.nombre;\r\n        } catch { /* no crítico */ }\r\n\r\n        // 3) Traer TOTALES mensuales del backend nuevo\r\n        const resTot = await http.get(`${API_CONFIG.PRONOSTICO}/api/presupuestos/${encontrado.id}/totales`);\r\n        const totales = Array.isArray(resTot.data) ? resTot.data : [];\r\n\r\n        // 4) Mapear a la forma que usa el front\r\n        const detalleMensual = totales.map((t, idx) => {\r\n          const ingresoEst = safeNumber(t.ingresoEstimado);\r\n          const egresoEst = safeNumber(t.egresoEstimado);\r\n          return {\r\n            id: idx + 1,\r\n            mes: t.mes, // \"YYYY-MM\"\r\n            ingresoEst,\r\n            ingresoReal: 0, // Inicializar en 0\r\n            egresoEst,\r\n            egresoReal: 0, // Inicializar en 0\r\n            totalEst: ingresoEst - egresoEst,\r\n            totalReal: 0,\r\n          };\r\n        });\r\n\r\n        let realesIngresoPorMes = {};\r\n        let realesEgresoPorMes = {};\r\n        try {\r\n          const fechasDisponibles = detalleMensual\r\n            .map((detalle) => {\r\n              const mesKey = (detalle?.mes || '').slice(0, 7);\r\n              if (!mesKey) return null;\r\n              return toDateSafe(`${mesKey}-01`);\r\n            })\r\n            .filter(Boolean);\r\n\r\n          if (fechasDisponibles.length > 0) {\r\n            const minTime = Math.min(...fechasDisponibles.map((d) => d.getTime()));\r\n            const maxTime = Math.max(...fechasDisponibles.map((d) => d.getTime()));\r\n            const rangoInicioDate = startOfMonth(new Date(minTime));\r\n            const rangoFinDate = endOfMonth(new Date(maxTime));\r\n            const meses = eachMonthOfInterval({ start: rangoInicioDate, end: rangoFinDate });\r\n\r\n            const [egresosPorMes, ingresosPorMes] = await Promise.all([\r\n              getRealPorMes(meses, 'Egreso'),\r\n              getRealPorMes(meses, 'Ingreso'),\r\n            ]);\r\n            realesEgresoPorMes = egresosPorMes;\r\n            realesIngresoPorMes = ingresosPorMes;\r\n          }\r\n        } catch (movError) {\r\n          console.error('Error al obtener datos reales del presupuesto:', movError);\r\n          setError((prev) => prev ?? 'No se pudieron cargar los datos reales del presupuesto.');\r\n        }\r\n\r\n        const detalleMensualCompleto = detalleMensual.map((detalle) => {\r\n          const mesKey = (detalle?.mes || '').slice(0, 7);\r\n          const egresoReal = safeNumber(realesEgresoPorMes[mesKey] || 0);\r\n          const ingresoReal = safeNumber(realesIngresoPorMes[mesKey] || 0);\r\n\r\n          return {\r\n            ...detalle,\r\n            ingresoReal,\r\n            egresoReal,\r\n            totalReal: ingresoReal - egresoReal,\r\n          };\r\n        });\r\n\r\n        setPresupuesto({\r\n          id: encontrado.id,\r\n          nombre: nombreOficial,\r\n          detalleMensual: detalleMensualCompleto,\r\n        });\r\n\r\n      } catch (error) {\r\n        console.error('Error al cargar presupuesto:', error);\r\n        setError('Error al cargar el presupuesto');\r\n        setPresupuesto({ id: null, nombre: 'Error', detalleMensual: [] });\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    };\r\n\r\n    if (nombreUrl) cargar();\r\n  }, [nombreUrl]);\r\n\r\n  // ⚠️ Antes filtrabas por fila.id != null → vaciaba todo porque el endpoint no trae id.\r\n  // Ahora solo validamos que exista \"mes\".\r\n  const datosMensualesRaw = Array.isArray(presupuesto.detalleMensual)\r\n    ? presupuesto.detalleMensual.filter((fila) => !!fila?.mes)\r\n    : [];\r\n\r\n  // Transformaciones + filtros (sin tocar datos originales)\r\n  const datosMensuales = React.useMemo(() => {\r\n    let rows = [...datosMensualesRaw];\r\n\r\n    // Calcular % desvío por mes (en base a total Estimado vs Real)\r\n    rows = rows.map((fila) => {\r\n      const est = safeNumber(fila.totalEst ?? (safeNumber(fila.ingresoEst) - safeNumber(fila.egresoEst)));\r\n      const real = safeNumber(fila.totalReal ?? (safeNumber(fila.ingresoReal) - safeNumber(fila.egresoReal)));\r\n      const base = Math.abs(est) > 0 ? Math.abs(est) : 1;\r\n      const pctDesvio = (real - est) / base; // + = mejor que estimado, - = peor\r\n      const deficit = real < 0;\r\n      return { ...fila, _estTotal: est, _realTotal: real, _pctDesvio: pctDesvio, _deficit: deficit };\r\n    });\r\n\r\n    if (verSoloDeficit) {\r\n      rows = rows.filter((r) => r._realTotal < 0);\r\n    }\r\n\r\n    // Aplicar filtro por umbral de desvío\r\n    if (Number.isFinite(umbralDesvio) && umbralDesvio > 0) {\r\n      const thr = umbralDesvio / 100;\r\n      rows = rows.filter((r) => Math.abs(r._pctDesvio) >= thr || !Number.isFinite(r._pctDesvio));\r\n    }\r\n\r\n    return rows;\r\n  }, [datosMensualesRaw, verSoloDeficit, umbralDesvio]);\r\n\r\n  // Totales (sobre no-filtrados para KPIs globales)\r\n  const totalIngresoEst = datosMensualesRaw.reduce((acc, fila) => acc + safeNumber(fila.ingresoEst), 0);\r\n  const totalIngresoReal = datosMensualesRaw.reduce((acc, fila) => acc + safeNumber(fila.ingresoReal), 0);\r\n  const totalEgresoEst = datosMensualesRaw.reduce((acc, fila) => acc + safeNumber(fila.egresoEst), 0);\r\n  const totalEgresoReal = datosMensualesRaw.reduce((acc, fila) => acc + safeNumber(fila.egresoReal), 0);\r\n  const resultadoReal = totalIngresoReal - totalEgresoReal;\r\n  const resultadoEstimado = totalIngresoEst - totalEgresoEst;\r\n\r\n  const pctCumplimientoGlobal = (() => {\r\n    const base = Math.abs(resultadoEstimado) > 0 ? Math.abs(resultadoEstimado) : 1;\r\n    // cap 120% para pintar semáforo\r\n    return Math.max(0, Math.min(1.2, resultadoReal / base));\r\n  })();\r\n\r\n  const salud = semaforoPorCumplimiento(pctCumplimientoGlobal);\r\n\r\n  // Datos para gráficos separados (respetan filtros visuales por meses)\r\n  const ingresosData = datosMensuales.map((fila) => {\r\n    const mm = (fila?.mes || '0000-01').split('-')[1];\r\n    return {\r\n      mes: mesCorto(mm),\r\n      estimado: safeNumber(fila.ingresoEst),\r\n      real: safeNumber(fila.ingresoReal),\r\n    };\r\n  });\r\n\r\n  const egresosData = datosMensuales.map((fila) => {\r\n    const mm = (fila?.mes || '0000-01').split('-')[1];\r\n    return {\r\n      mes: mesCorto(mm),\r\n      estimado: safeNumber(fila.egresoEst),\r\n      real: safeNumber(fila.egresoReal),\r\n    };\r\n  });\r\n\r\n  // Desvío/superávit mensual\r\n  const desvioData = datosMensuales.map((fila) => {\r\n    const superavit = safeNumber(fila.totalReal ?? (safeNumber(fila.ingresoReal) - safeNumber(fila.egresoReal)));\r\n    const mm = (fila?.mes || '0000-01').split('-')[1];\r\n    return {\r\n      mes: mesCorto(mm),\r\n      superavit,\r\n      fill: superavit >= 0 ? SUPERAVIT_COLOR : DEFICIT_COLOR,\r\n    };\r\n  });\r\n\r\n  // Navegación al detalle del mes\r\n  const goToMes = (fila) => {\r\n    // ⚠️ Antes exigías fila.id → muchos casos no lo traen.\r\n    // Con \"mes\" alcanza para derivar el nombre del mes.\r\n    if (!fila?.mes) {\r\n      alert('Mes no válido');\r\n      return;\r\n    }\r\n    const nombreNormalizado = encodeURIComponent((presupuesto.nombre || '').trim().toLowerCase().replace(/\\s+/g, '-'));\r\n    const parts = (fila.mes || '0000-01').split('-');\r\n    const mesNum = parseInt(parts[1] || '1', 10);\r\n    const mesNombre = new Intl.DateTimeFormat('es-ES', { month: 'long' }).format(new Date(2025, (mesNum || 1) - 1));\r\n    navigate(`/presupuestos/${nombreNormalizado}/detalle/${mesNombre}`);\r\n  };\r\n\r\n  // EXPORTS (igual)\r\n  const handleExportExcel = () => {\r\n    const data = [\r\n      ['Mes', 'Ingreso Estimado', 'Ingreso Real', 'Desvío Ingresos', 'Egreso Estimado', 'Egreso Real', 'Desvío Egresos', 'Total Estimado', 'Total Real', 'Total Desvío'],\r\n      ...datosMensualesRaw.map((fila) => [\r\n        fila.mes ?? '—',\r\n        safeNumber(fila.ingresoEst),\r\n        safeNumber(fila.ingresoReal),\r\n        safeNumber(fila.ingresoReal) - safeNumber(fila.ingresoEst),\r\n        safeNumber(fila.egresoEst),\r\n        safeNumber(fila.egresoReal),\r\n        safeNumber(fila.egresoReal) - safeNumber(fila.egresoEst),\r\n        safeNumber(fila.totalEst),\r\n        safeNumber(fila.totalReal),\r\n        safeNumber(fila.totalReal) - safeNumber(fila.totalEst),\r\n      ]),\r\n    ];\r\n\r\n    data.push(['', '', '', '', '', '', '', '', '', '']);\r\n    data.push(['Totales:', '', '', '', '', '', '', '', '', '']);\r\n    data.push([\r\n      '',\r\n      totalIngresoEst,\r\n      totalIngresoReal,\r\n      totalIngresoReal - totalIngresoEst,\r\n      totalEgresoEst,\r\n      totalEgresoReal,\r\n      totalEgresoReal - totalEgresoEst,\r\n      resultadoEstimado,\r\n      resultadoReal,\r\n      resultadoReal - resultadoEstimado,\r\n    ]);\r\n\r\n    import('xlsx').then(({ utils, writeFile }) => {\r\n      const ws = utils.aoa_to_sheet(data, { cellStyles: true });\r\n      const wb = utils.book_new();\r\n      utils.book_append_sheet(wb, ws, 'Detalle Presupuesto');\r\n      writeFile(wb, `Presupuesto_${presupuesto.nombre || ''}_${presupuesto.id || ''}.xlsx`, { cellStyles: true });\r\n    });\r\n  };\r\n\r\n  const handleExportPdf = () => {\r\n    import('html2pdf.js').then((html2pdf) => {\r\n      const element = document.getElementById('presupuesto-detalle-content');\r\n      const opt = {\r\n        margin: 0.5,\r\n        filename: `Presupuesto_${presupuesto.nombre || ''}_${presupuesto.id || ''}.pdf`,\r\n        image: { type: 'jpeg', quality: 0.95 },\r\n        html2canvas: { scale: 2 },\r\n        jsPDF: { unit: 'in', format: 'letter', orientation: 'landscape' },\r\n      };\r\n      html2pdf.default().from(element).set(opt).save();\r\n    });\r\n  };\r\n\r\n  // Drawer contenido: lista de meses ordenados por mayor desvío (absoluto)\r\n  const mesesOrdenadosPorDesvio = React.useMemo(() => {\r\n    const arr = datosMensualesRaw.map((fila) => {\r\n      const est = safeNumber(fila.totalEst ?? (safeNumber(fila.ingresoEst) - safeNumber(fila.egresoEst)));\r\n      const real = safeNumber(fila.totalReal ?? (safeNumber(fila.ingresoReal) - safeNumber(fila.egresoReal)));\r\n      const delta = real - est;\r\n      return { ...fila, _delta: delta, _absDelta: Math.abs(delta) };\r\n    });\r\n    return arr.sort((a, b) => b._absDelta - a._absDelta);\r\n  }, [datosMensualesRaw]);\r\n\r\n  const openMenu = Boolean(anchorFiltros);\r\n  const handleOpenMenu = (e) => setAnchorFiltros(e.currentTarget);\r\n  const handleCloseMenu = () => setAnchorFiltros(null);\r\n\r\n  return (\r\n    <Box id=\"presupuesto-detalle-content\" sx={{ width: '100%', p: 3 }}>\r\n      {/* Breadcrumbs simples */}\r\n      <Typography variant=\"h4\" gutterBottom fontWeight=\"600\">\r\n        Detalle de {presupuesto.nombre}\r\n      </Typography>\r\n      <Typography variant=\"subtitle1\" gutterBottom sx={{ color: 'text.primary' }}>\r\n        Compará tu planificación con lo real\r\n      </Typography>\r\n\r\n      <Box sx={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', mb: 2, mt: 1, gap: 1, flexWrap: 'wrap' }}>\r\n        <Tabs value={tab} onChange={(e, v) => setTab(v)} indicatorColor=\"primary\">\r\n          <Tab\r\n            label=\"Resumen\"\r\n            sx={{\r\n              color: tabsLabelColor,\r\n              '&.Mui-selected': { color: tabsLabelColor },\r\n              '& .MuiTab-wrapper': { color: tabsLabelColor },\r\n            }}\r\n          />\r\n          <Tab\r\n            label=\"Datos brutos\"\r\n            sx={{\r\n              color: tabsLabelColor,\r\n              '&.Mui-selected': { color: tabsLabelColor },\r\n              '& .MuiTab-wrapper': { color: tabsLabelColor },\r\n            }}\r\n          />\r\n        </Tabs>\r\n\r\n        <Stack direction=\"row\" spacing={1} alignItems=\"center\">\r\n          <Tooltip title=\"Filtros\">\r\n            <IconButton onClick={handleOpenMenu}><FilterAltOutlinedIcon /></IconButton>\r\n          </Tooltip>\r\n          <ExportadorSimple onExportPdf={handleExportPdf} onExportExcel={handleExportExcel} />\r\n        </Stack>\r\n      </Box>\r\n\r\n      {/* Menú de Filtros */}\r\n      <Menu anchorEl={anchorFiltros} open={openMenu} onClose={handleCloseMenu}>\r\n        <Box sx={{ p: 2, width: 280 }}>\r\n          <Stack spacing={1.5}>\r\n            <FormControlLabel\r\n              control={<Switch checked={verSoloDeficit} onChange={(_, v) => setVerSoloDeficit(v)} />}\r\n              label=\"Ver solo meses con déficit\"\r\n            />\r\n            <FormControlLabel\r\n              control={<Switch checked={verSoloEstimados} onChange={(_, v) => setVerSoloEstimados(v)} />}\r\n              label=\"Mostrar foco en estimados (oculta ‘Real’ en gráficas)\"\r\n            />\r\n            <TextField\r\n              label=\"Umbral de desvío (%)\"\r\n              type=\"number\"\r\n              size=\"small\"\r\n              value={umbralDesvio}\r\n              onChange={(e) => setUmbralDesvio(Math.max(0, Number(e.target.value)))}\r\n            />\r\n          </Stack>\r\n        </Box>\r\n      </Menu>\r\n\r\n      {/* === PESTAÑA 0: RESUMEN VISUAL === */}\r\n      {tab === 0 && (\r\n        <>\r\n          {/* KPIs con acciones rápidas */}\r\n          <Grid container spacing={2} mb={2}>\r\n            <Grid item xs={12} sm={6} md={3}>\r\n              <Paper sx={{ p: 3, textAlign: 'center', bgcolor: kpiColors.ingresos, color: 'white', position: 'relative', height: '100%' }}>\r\n                <Avatar sx={{ width: 56, height: 56, bgcolor: 'white', color: 'success.main', mx: 'auto', mb: 1 }}>+</Avatar>\r\n                <Typography variant=\"h6\">Ingresos</Typography>\r\n                <Typography variant=\"body2\" sx={{ display: 'block', color: 'rgba(255,255,255,0.9)' }}>\r\n                  Real acumulado\r\n                </Typography>\r\n                <Typography variant=\"h4\" fontWeight=\"bold\">\r\n                  {formatCurrency(totalIngresoReal)}\r\n                </Typography>\r\n                <Typography variant=\"body2\" sx={{ color: 'rgba(255,255,255,0.9)' }}>\r\n                  Estimado: {formatCurrency(totalIngresoEst)}\r\n                </Typography>\r\n                <Tooltip title=\"Ver meses con mayor desvío en ingresos\">\r\n                  <IconButton\r\n                    size=\"small\"\r\n                    onClick={() => setDrawerOpen(true) || setDrawerTipo('Ingresos')}\r\n                    sx={{ position: 'absolute', top: 8, right: 8, bgcolor: 'rgba(255,255,255,0.9)' }}\r\n                  >\r\n                    <RuleOutlinedIcon fontSize=\"small\" />\r\n                  </IconButton>\r\n                </Tooltip>\r\n              </Paper>\r\n            </Grid>\r\n\r\n            <Grid item xs={12} sm={6} md={3}>\r\n              <Paper sx={{ p: 3, textAlign: 'center', bgcolor: kpiColors.egresos, color: 'white', position: 'relative', height: '100%' }}>\r\n                <Avatar sx={{ width: 56, height: 56, bgcolor: 'white', color: 'error.main', mx: 'auto', mb: 1 }}>-</Avatar>\r\n                <Typography variant=\"h6\">Egresos</Typography>\r\n                <Typography variant=\"body2\" sx={{ display: 'block', color: 'rgba(255,255,255,0.9)' }}>\r\n                  Real acumulado\r\n                </Typography>\r\n                <Typography variant=\"h4\" fontWeight=\"bold\">\r\n                  {formatCurrency(totalEgresoReal)}\r\n                </Typography>\r\n                <Typography variant=\"body2\" sx={{ color: 'rgba(255,255,255,0.9)' }}>\r\n                  Estimado: {formatCurrency(totalEgresoEst)}\r\n                </Typography>\r\n                <Tooltip title=\"Ver meses con mayor desvío en egresos\">\r\n                  <IconButton\r\n                    size=\"small\"\r\n                    onClick={() => setDrawerOpen(true) || setDrawerTipo('egresos')}\r\n                    sx={{ position: 'absolute', top: 8, right: 8, bgcolor: 'rgba(255,255,255,0.9)' }}\r\n                  >\r\n                    <SettingsOutlinedIcon fontSize=\"small\" />\r\n                  </IconButton>\r\n                </Tooltip>\r\n              </Paper>\r\n            </Grid>\r\n\r\n            <Grid item xs={12} sm={6} md={3}>\r\n              <Paper\r\n                sx={{\r\n                  p: 3,\r\n                  textAlign: 'center',\r\n                  bgcolor: resultadoReal >= 0 ? kpiColors.resultadoPos : kpiColors.resultadoNeg,\r\n                  color: 'white',\r\n                  position: 'relative',\r\n                  height: '100%'\r\n                }}\r\n              >\r\n                <Avatar\r\n                  sx={{\r\n                    width: 56,\r\n                    height: 56,\r\n                    bgcolor: 'white',\r\n                    color: resultadoReal >= 0 ? 'info.main' : 'warning.main',\r\n                    mx: 'auto',\r\n                    mb: 1,\r\n                  }}\r\n                >\r\n                  {resultadoReal >= 0 ? '✓' : '⚠'}\r\n                </Avatar>\r\n                <Typography variant=\"h6\">Resultado</Typography>\r\n                <Typography variant=\"h4\" fontWeight=\"bold\">\r\n                  {formatCurrency(resultadoReal)}\r\n                </Typography>\r\n                <Typography variant=\"body2\">\r\n                  {resultadoReal >= 0 ? 'Superávit' : 'Déficit'}\r\n                </Typography>\r\n                <Tooltip title=\"Ver meses ordenados por impacto en resultado\">\r\n                  <IconButton\r\n                    size=\"small\"\r\n                    onClick={() => setDrawerOpen(true) || setDrawerTipo('resultado')}\r\n                    sx={{ position: 'absolute', top: 8, right: 8, bgcolor: 'rgba(255,255,255,0.9)' }}\r\n                  >\r\n                    <HistoryOutlinedIcon fontSize=\"small\" />\r\n                  </IconButton>\r\n                </Tooltip>\r\n              </Paper>\r\n            </Grid>\r\n\r\n            <Grid item xs={12} sm={6} md={3}>\r\n              <Paper sx={{ p: 3, textAlign: 'center' }}>\r\n                <Typography variant=\"overline\">Marcador de salud</Typography>\r\n                <Stack alignItems=\"center\" spacing={1}>\r\n                  <Chip label={`${salud.label}`} color={salud.color} />\r\n                  <Typography variant=\"body2\" color=\"text.secondary\">\r\n                    Cumplimiento: {(pctCumplimientoGlobal * 100).toFixed(0)}%\r\n                  </Typography>\r\n                </Stack>\r\n              </Paper>\r\n            </Grid>\r\n          </Grid>\r\n\r\n          <Divider sx={{ mb: 2 }} />\r\n\r\n          {/* === GRÁFICO 1: Ingresos Estimado vs Real por mes === */}\r\n          <Paper sx={{ p: 3, mb: 3 }}>\r\n            <Stack direction=\"row\" alignItems=\"center\" justifyContent=\"space-between\">\r\n              <Typography variant=\"h6\" fontWeight=\"600\">Ingresos: Estimado vs Real</Typography>\r\n              <Chip size=\"small\" label={verSoloEstimados ? 'Foco: Estimados' : 'Todos'} />\r\n            </Stack>\r\n            <Box sx={{ mt: 2 }}>\r\n              {ingresosData.map((item, index) => {\r\n                const max = Math.max(item.estimado, item.real) * 1.2 || 1;\r\n                const fila = datosMensuales[index];\r\n                return (\r\n                  <Box key={`${item.mes}-${index}`} sx={{ mb: 3 }}>\r\n                    <Typography variant=\"subtitle1\" fontWeight=\"600\" gutterBottom>\r\n                      {item.mes}\r\n                    </Typography>\r\n                    <Box sx={{ display: 'flex', flexDirection: 'column', gap: 1 }}>\r\n                      {/* Estimado */}\r\n                      <Box sx={{ display: 'flex', alignItems: 'center', gap: 2, cursor: 'pointer' }}\r\n                           onClick={() => fila && goToMes(fila)}>\r\n                        <Typography variant=\"body2\" sx={{ minWidth: 80 }}>Estimado:</Typography>\r\n                        <Box sx={{ flex: 1, height: 30 }}>\r\n                          <ResponsiveContainer width=\"100%\" height={30}>\r\n                            <BarChart data={[{ name: item.mes, valor: item.estimado }]} layout=\"vertical\">\r\n                              <XAxis type=\"number\" domain={[0, max]} hide />\r\n                              <YAxis type=\"category\" dataKey=\"name\" hide />\r\n                              <RTooltip formatter={(value) => [formatCurrency(value), '']} />\r\n                              <Bar dataKey=\"valor\" fill={INGRESO_EST_COLOR} radius={[4, 4, 4, 4]}\r\n                                   label={{ position: 'right', formatter: (v) => formatCurrency(v) }} />\r\n                            </BarChart>\r\n                          </ResponsiveContainer>\r\n                        </Box>\r\n                      </Box>\r\n\r\n                      {/* Real */}\r\n                      {!verSoloEstimados && (\r\n                        <Box sx={{ display: 'flex', alignItems: 'center', gap: 2, cursor: 'pointer' }}\r\n                             onClick={() => fila && goToMes(fila)}>\r\n                          <Typography variant=\"body2\" sx={{ minWidth: 80 }}>Real:</Typography>\r\n                          <Box sx={{ flex: 1, height: 30 }}>\r\n                            <ResponsiveContainer width=\"100%\" height={30}>\r\n                              <BarChart data={[{ name: item.mes, valor: item.real }]} layout=\"vertical\">\r\n                                <XAxis type=\"number\" domain={[0, max]} hide />\r\n                                <YAxis type=\"category\" dataKey=\"name\" hide />\r\n                                <RTooltip formatter={(value) => [formatCurrency(value), '']} />\r\n                                <Bar dataKey=\"valor\" fill={INGRESO_REAL_COLOR} radius={[4, 4, 4, 4]}\r\n                                     label={{ position: 'right', formatter: (v) => formatCurrency(v) }} />\r\n                              </BarChart>\r\n                            </ResponsiveContainer>\r\n                          </Box>\r\n                        </Box>\r\n                      )}\r\n                    </Box>\r\n                  </Box>\r\n                );\r\n              })}\r\n            </Box>\r\n          </Paper>\r\n\r\n          {/* === GRÁFICO 2: Egresos Estimado vs Real por mes === */}\r\n          <Paper sx={{ p: 3, mb: 3 }}>\r\n            <Typography variant=\"h6\" gutterBottom fontWeight=\"600\">\r\n              Egresos: Estimado vs Real\r\n            </Typography>\r\n            <Box sx={{ mt: 2 }}>\r\n              {egresosData.map((item, index) => {\r\n                const max = Math.max(item.estimado, item.real) * 1.2 || 1;\r\n                const fila = datosMensuales[index];\r\n                return (\r\n                  <Box key={`${item.mes}-${index}`} sx={{ mb: 3 }}>\r\n                    <Typography variant=\"subtitle1\" fontWeight=\"600\" gutterBottom>\r\n                      {item.mes}\r\n                    </Typography>\r\n                    <Box sx={{ display: 'flex', flexDirection: 'column', gap: 1 }}>\r\n                      {/* Estimado */}\r\n                      <Box sx={{ display: 'flex', alignItems: 'center', gap: 2, cursor: 'pointer' }}\r\n                           onClick={() => fila && goToMes(fila)}>\r\n                        <Typography variant=\"body2\" sx={{ minWidth: 80 }}>Estimado:</Typography>\r\n                        <Box sx={{ flex: 1, height: 30 }}>\r\n                          <ResponsiveContainer width=\"100%\" height={30}>\r\n                            <BarChart data={[{ name: item.mes, valor: item.estimado }]} layout=\"vertical\">\r\n                              <XAxis type=\"number\" domain={[0, max]} hide />\r\n                              <YAxis type=\"category\" dataKey=\"name\" hide />\r\n                              <RTooltip formatter={(value) => [formatCurrency(value), '']} />\r\n                              <Bar dataKey=\"valor\" fill={EGRESO_EST_COLOR} radius={[4, 4, 4, 4]}\r\n                                   label={{ position: 'right', formatter: (v) => formatCurrency(v) }} />\r\n                            </BarChart>\r\n                          </ResponsiveContainer>\r\n                        </Box>\r\n                      </Box>\r\n\r\n                      {/* Real */}\r\n                      {!verSoloEstimados && (\r\n                        <Box sx={{ display: 'flex', alignItems: 'center', gap: 2, cursor: 'pointer' }}\r\n                             onClick={() => fila && goToMes(fila)}>\r\n                          <Typography variant=\"body2\" sx={{ minWidth: 80 }}>Real:</Typography>\r\n                          <Box sx={{ flex: 1, height: 30 }}>\r\n                            <ResponsiveContainer width=\"100%\" height={30}>\r\n                              <BarChart data={[{ name: item.mes, valor: item.real }]} layout=\"vertical\">\r\n                                <XAxis type=\"number\" domain={[0, max]} hide />\r\n                                <YAxis type=\"category\" dataKey=\"name\" hide />\r\n                                <RTooltip formatter={(value) => [formatCurrency(value), '']} />\r\n                                <Bar dataKey=\"valor\" fill={EGRESO_REAL_COLOR} radius={[4, 4, 4, 4]}\r\n                                     label={{ position: 'right', formatter: (v) => formatCurrency(v) }} />\r\n                              </BarChart>\r\n                            </ResponsiveContainer>\r\n                          </Box>\r\n                        </Box>\r\n                      )}\r\n                    </Box>\r\n                  </Box>\r\n                );\r\n              })}\r\n            </Box>\r\n          </Paper>\r\n\r\n          {/* === GRÁFICO 3: Tendencia del Resultado === */}\r\n          <Paper sx={{ p: 3 }}>\r\n            <Typography variant=\"h6\" gutterBottom fontWeight=\"600\">\r\n              Tendencia del Resultado Mensual\r\n            </Typography>\r\n            <ResponsiveContainer width=\"100%\" height={300}>\r\n              <LineChart data={desvioData} margin={{ top: 10, right: 30, left: 0, bottom: 0 }}>\r\n                <defs>\r\n                  <linearGradient id=\"splitColor\" x1=\"0\" y1=\"0\" x2=\"0\" y2=\"1\">\r\n                    <stop offset=\"50%\" stopColor=\"#4caf50\" stopOpacity={0.1} />\r\n                    <stop offset=\"50%\" stopColor=\"#f44336\" stopOpacity={0.1} />\r\n                  </linearGradient>\r\n                </defs>\r\n                <Area dataKey=\"superavit\" fill=\"url(#splitColor)\" stroke=\"none\" yAxisId=\"left\" />\r\n                <Line\r\n                  type=\"monotone\"\r\n                  dataKey=\"superavit\"\r\n                  stroke=\"#2196f3\"\r\n                  strokeWidth={2}\r\n                  dot={{ r: 6, cursor: 'pointer' }}\r\n                  activeDot={{ r: 8 }}\r\n                  yAxisId=\"left\"\r\n                  onClick={(_, index) => {\r\n                    const fila = datosMensuales[index];\r\n                    if (fila) goToMes(fila);\r\n                  }}\r\n                />\r\n                <ReferenceLine\r\n                  y={0}\r\n                  stroke=\"#666\"\r\n                  strokeDasharray=\"3 3\"\r\n                  label={{ value: 'Punto de equilibrio', position: 'right', fill: '#666', fontSize: 12 }}\r\n                />\r\n                <XAxis dataKey=\"mes\" />\r\n                <YAxis\r\n                  yAxisId=\"left\"\r\n                  domain={[dataMin => Math.min(dataMin, 0), dataMax => Math.max(dataMax, 0)]}\r\n                  tickFormatter={(value) => formatCurrency(value)}\r\n                  width={70}\r\n                />\r\n                <RTooltip\r\n                  formatter={(value) => [\r\n                    Number(value) >= 0\r\n                      ? `Superávit: ${formatCurrency(value)}`\r\n                      : `Déficit: ${formatCurrency(value)}`,\r\n                    'Resultado'\r\n                  ]}\r\n                  contentStyle={{ color: 'black' }}\r\n                />\r\n                <Legend\r\n                  payload={[\r\n                    { value: 'Resultado mensual', type: 'line', color: '#2196f3' },\r\n                    { value: 'Punto de equilibrio', type: 'dashedLine', color: '#666' },\r\n                  ]}\r\n                />\r\n              </LineChart>\r\n            </ResponsiveContainer>\r\n          </Paper>\r\n        </>\r\n      )}\r\n\r\n      {/* === PESTAÑA 1: TABLA === */}\r\n      {tab === 1 && (\r\n        <Paper sx={{ overflowX: 'auto' }}>\r\n          <Table sx={datosBrutosTableSx}>\r\n            <TableHead>\r\n              <TableRow>\r\n                <TableCell sx={datosBrutosHeaderCellSx}>Mes</TableCell>\r\n                <TableCell sx={datosBrutosHeaderCellSx}>Ingreso Est.</TableCell>\r\n                <TableCell sx={datosBrutosHeaderCellSx}>Ingreso Real</TableCell>\r\n                <TableCell sx={datosBrutosHeaderCellSx}>Egreso Est.</TableCell>\r\n                <TableCell sx={datosBrutosHeaderCellSx}>Egreso Real</TableCell>\r\n                <TableCell sx={datosBrutosHeaderCellSx}>Resultado</TableCell>\r\n                <TableCell sx={datosBrutosHeaderCellSx}>Acciones</TableCell>\r\n              </TableRow>\r\n            </TableHead>\r\n            <TableBody>\r\n              {datosMensuales.length > 0 ? (\r\n                datosMensuales.map((fila, idx) => {\r\n                  const ingresoEst = safeNumber(fila.ingresoEst);\r\n                  const ingresoReal = safeNumber(fila.ingresoReal);\r\n                  const egresoEst = safeNumber(fila.egresoEst);\r\n                  const egresoReal = safeNumber(fila.egresoReal);\r\n                  const totalReal = safeNumber(fila.totalReal ?? (ingresoReal - egresoReal));\r\n                  const totalEst = safeNumber(fila.totalEst ?? (ingresoEst - egresoEst));\r\n                  const diff = totalReal - totalEst;\r\n                  const pct = Math.abs(totalEst) > 0 ? (diff / Math.abs(totalEst)) * 100 : 0;\r\n\r\n                  return (\r\n                    <TableRow key={fila.mes || idx}>\r\n                      <TableCell sx={datosBrutosCellSx}>\r\n                        {fila.mes}\r\n                        {totalReal < 0 && (\r\n                          <Chip\r\n                            size=\"small\"\r\n                            icon={<WarningAmberOutlinedIcon fontSize=\"small\" />}\r\n                            sx={{ ml: 1, ...DEFICIT_CHIP_SX }}\r\n                            label=\"Mes con déficit\"\r\n                          />\r\n                        )}\r\n                      </TableCell>\r\n                      <TableCell sx={datosBrutosCellSx}>{formatCurrency(ingresoEst)}</TableCell>\r\n                      <TableCell sx={datosBrutosCellSx}>{formatCurrency(ingresoReal)}</TableCell>\r\n                      <TableCell sx={datosBrutosCellSx}>{formatCurrency(egresoEst)}</TableCell>\r\n                      <TableCell sx={datosBrutosCellSx}>{formatCurrency(egresoReal)}</TableCell>\r\n                      <TableCell\r\n                        sx={(theme) => ({\r\n                          ...datosBrutosCellSx(theme),\r\n                          fontWeight: 700,\r\n                          color: pct >= 0 ? '#66bb6a' : '#ef5350',\r\n                        })}\r\n                      >\r\n                        {formatCurrency(totalReal)}{' '}\r\n                        <span style={{ color: pct >= 0 ? '#66bb6a' : '#ef5350' }}>({pct.toFixed(0)}%)</span>\r\n                      </TableCell>\r\n                      <TableCell sx={datosBrutosCellSx}>\r\n                        <Stack direction=\"row\" spacing={1}>\r\n                          <Button size=\"small\" variant=\"contained\" onClick={() => goToMes(fila)}>Ver mes</Button>\r\n                        </Stack>\r\n                      </TableCell>\r\n                    </TableRow>\r\n                  );\r\n                })\r\n              ) : (\r\n                <TableRow>\r\n                  <TableCell\r\n                    colSpan={7}\r\n                    sx={(theme) => ({\r\n                      ...datosBrutosCellSx(theme),\r\n                      textAlign: 'center',\r\n                      padding: '20px',\r\n                      color: (theme.vars || theme).palette.text.secondary,\r\n                    })}\r\n                  >\r\n                    No hay datos mensuales con los filtros actuales.\r\n                  </TableCell>\r\n                </TableRow>\r\n              )}\r\n            </TableBody>\r\n          </Table>\r\n        </Paper>\r\n      )}\r\n\r\n      {/* Botón de volver */}\r\n      <Box mt={4} display=\"flex\" justifyContent=\"space-between\" alignItems=\"center\" flexWrap=\"wrap\" gap={1}>\r\n        <Button variant=\"outlined\" onClick={() => navigate(-1)}>Volver</Button>\r\n      </Box>\r\n\r\n      {/* Drawer lateral de KPIs */}\r\n      <Drawer anchor=\"right\" open={drawerOpen} onClose={() => setDrawerOpen(false)}>\r\n        <Box sx={{ width: 360, p: 2 }}>\r\n          <Stack direction=\"row\" justifyContent=\"space-between\" alignItems=\"center\" sx={{ mb: 1 }}>\r\n            <Typography variant=\"h6\">Meses con mayor desvío</Typography>\r\n            <IconButton onClick={() => setDrawerOpen(false)}><CloseIcon /></IconButton>\r\n          </Stack>\r\n          <Typography variant=\"body2\" color=\"text.secondary\" sx={{ mb: 2 }}>\r\n            {drawerTipo === 'Ingresos' && 'Ordenado por diferencia Ingreso Real vs Estimado.'}\r\n            {drawerTipo === 'Egresos' && 'Ordenado por diferencia Egreso Real vs Estimado.'}\r\n            {drawerTipo === 'resultado' && 'Ordenado por diferencia de Resultado Real vs Estimado.'}\r\n          </Typography>\r\n          <List dense>\r\n            {mesesOrdenadosPorDesvio.map((fila, idx) => {\r\n              const ingresoDelta = safeNumber(fila.ingresoReal) - safeNumber(fila.ingresoEst);\r\n              const egresoDelta = safeNumber(fila.egresoReal) - safeNumber(fila.egresoEst);\r\n              const resEst = safeNumber(fila.totalEst ?? (safeNumber(fila.ingresoEst) - safeNumber(fila.egresoEst)));\r\n              const resReal = safeNumber(fila.totalReal ?? (safeNumber(fila.ingresoReal) - safeNumber(fila.egresoReal)));\r\n              const resDelta = resReal - resEst;\r\n\r\n              const valor = drawerTipo === 'Ingresos' ? ingresoDelta : drawerTipo === 'egresos' ? egresoDelta : resDelta;\r\n\r\n              return (\r\n                <ListItem\r\n                  key={fila.mes || idx}\r\n                  secondaryAction={\r\n                    <Button size=\"small\" variant=\"text\" onClick={() => { setDrawerOpen(false); goToMes(fila); }}>\r\n                      Ajustar mes\r\n                    </Button>\r\n                  }\r\n                >\r\n                  <ListItemText\r\n                    primary={fila.mes}\r\n                    secondary={\r\n                      <span style={{ color: valor >= 0 ? '#66bb6a' : '#ef5350' }}>\r\n                        {valor >= 0 ? '+' : '-'}{formatCurrency(Math.abs(valor))}\r\n                      </span>\r\n                    }\r\n                  />\r\n                </ListItem>\r\n              );\r\n            })}\r\n          </List>\r\n        </Box>\r\n      </Drawer>\r\n    </Box>\r\n  );\r\n}\r\n","import axios from 'axios';\r\nimport API_CONFIG from '../config/api-config';\r\n\r\nconst URL_REGISTRO = API_CONFIG.REGISTRO; \r\n\r\nfunction getUsuarioHeaders() {\r\n  const headers = {};\r\n  const sub = sessionStorage.getItem('sub');\r\n  const token = sessionStorage.getItem('accessToken');\r\n  if (sub) headers['X-Usuario-Sub'] = sub; // tenant\r\n  if (token) headers['Authorization'] = `Bearer ${token}`;\r\n  return headers;\r\n}\r\n\r\n/**\r\n * Llama a /movimientos en REGISTRO usando fecha_emision (fechaDesde/fechaHasta).\r\n * - tipos: string ('EGRESO' | 'INGRESO') o array => CSV.\r\n * - No enviar sortBy/sortDir (evita 400 por validación).\r\n * - Devuelve `data` (puede venir paginado en `data.content` o como array).\r\n */\r\nexport async function getMovimientosPorRango({ fechaDesde, fechaHasta, tipos }) {\r\n  const params = new URLSearchParams();\r\n  params.set('page', 0);\r\n  params.set('size', 500);\r\n  if (fechaDesde) params.set('fechaDesde', fechaDesde); // YYYY-MM-DD\r\n  if (fechaHasta) params.set('fechaHasta', fechaHasta);\r\n\r\n  // CSV: evita &tipos=INGRESO&tipos=EGRESO → 400\r\n  if (Array.isArray(tipos) && tipos.length > 0) {\r\n    params.set('tipos', tipos.join(','));\r\n  } else if (typeof tipos === 'string' && tipos) {\r\n    params.set('tipos', tipos);\r\n  }\r\n\r\n  const url = `${URL_REGISTRO}/movimientos?${params.toString()}`;\r\n  const { data } = await axios.get(url, { headers: getUsuarioHeaders() });\r\n  return data;\r\n}\r\n\r\n"],"names":["numberFormatter","Intl","NumberFormat","minimumFractionDigits","maximumFractionDigits","formatCurrency","value","allowEmpty","arguments","length","undefined","num","Number","isNaN","concat","format","Math","abs","formatCurrencyInput","parseCurrency","raw","returnEmpty","str","toString","trim","cleaned","replace","negative","startsWith","numeric","normalized","EXPORT_PDF_BG","EXPORT_PDF_BG_HOVER","EXPORT_EXCEL_BG","EXPORT_EXCEL_BG_HOVER","ExportadorSimple","_ref","onExportPdf","onExportExcel","sx","_jsxs","Box","_objectSpread","display","gap","children","_jsx","Tooltip","title","IconButton","onClick","size","color","theme","hoverStyles","bgcolor","backgroundColor","borderColor","border","width","height","applyStyles","PictureAsPdfIcon","fontSize","GridOnIcon","http","axios","create","PRONOSTICO_BASE_URL","URL_CONFIG","PRONOSTICO","cognitoPoolConfig","UserPoolId","process","ClientId","refreshPromise","hasForcedLogout","isPronosticoRequest","url","Boolean","String","safeSessionGet","key","sessionStorage","getItem","err","console","warn","safeSessionSet","setItem","clearSessionAndRedirect","clear","_unused","sessionService","limpiarSesion","window","location","href","refreshTokens","refreshTokenValue","cognitoUser","buildCognitoUser","username","pool","CognitoUserPool","CognitoUser","Username","Pool","Promise","reject","Error","refreshToken","CognitoRefreshToken","RefreshToken","resolve","refreshSession","session","nextAccessToken","getAccessToken","getJwtToken","nextIdToken","getIdToken","nextRefreshToken","getRefreshToken","getToken","interceptors","request","use","config","accessToken","_config$headers","headers","Authorization","usuarioSub","response","async","error","status","__isRetryRequest","_config$headers2","newAccessToken","then","token","catch","refreshError","eachMonthOfInterval","interval","options","_options$step","startDate","toDate","start","endDate","end","reversed","endTime","currentDate","setHours","setDate","step","dates","push","setMonth","getMonth","reverse","createSvgIcon","d","safeNumber","v","INGRESO_EST_COLOR","INGRESO_REAL_COLOR","EGRESO_EST_COLOR","EGRESO_REAL_COLOR","SUPERAVIT_COLOR","DEFICIT_COLOR","DEFICIT_CHIP_SX","fontWeight","datosBrutosTableSx","borderCollapse","vars","palette","divider","datosBrutosCellSx","padding","datosBrutosHeaderCellSx","mesCorto","numStr","parseInt","toDateSafe","yearStr","monthStr","dayStr","split","year","month","day","isFinite","date","Date","getTime","isValidDate","getRealPorMes","meses","tipo","out","desde","formatDate","startOfMonth","hasta","endOfMonth","mesKey","resp","getMovimientosPorRango","fechaDesde","fechaHasta","tipos","totalMes","Array","isArray","content","reduce","acc","movimiento","_movimiento$monto","monto","montoTotal","PresupuestoDetalle","_theme$vars$palette","_theme$vars","_paletteVars$text$pri","_paletteVars$text","_paletteVars$common$w","_paletteVars$common","nombre","nombreUrl","useParams","navigate","useNavigate","useTheme","isLightMode","mode","paletteVars","kpiColors","React","ingresos","success","light","egresos","resultadoPos","info","resultadoNeg","warning","tabsLabelColor","text","primary","common","white","presupuesto","setPresupuesto","id","detalleMensual","loading","setLoading","setError","tab","setTab","verSoloDeficit","setVerSoloDeficit","verSoloEstimados","setVerSoloEstimados","umbralDesvio","setUmbralDesvio","anchorFiltros","setAnchorFiltros","drawerOpen","setDrawerOpen","drawerTipo","setDrawerTipo","res","get","API_CONFIG","listaPayload","data","lista","slug","decodeURIComponent","toLowerCase","encontrado","find","p","nombreOficial","_resHeader$data","resHeader","resTot","map","t","idx","ingresoEst","ingresoEstimado","egresoEst","egresoEstimado","mes","ingresoReal","egresoReal","totalEst","totalReal","realesIngresoPorMes","realesEgresoPorMes","fechasDisponibles","detalle","slice","filter","minTime","min","maxTime","max","rangoInicioDate","egresosPorMes","ingresosPorMes","all","movError","prev","detalleMensualCompleto","cargar","datosMensualesRaw","fila","datosMensuales","rows","_fila$totalEst","_fila$totalReal","est","real","pctDesvio","deficit","_estTotal","_realTotal","_pctDesvio","_deficit","r","thr","totalIngresoEst","totalIngresoReal","totalEgresoEst","totalEgresoReal","resultadoReal","resultadoEstimado","pctCumplimientoGlobal","base","salud","pct","label","ingresosData","mm","estimado","egresosData","desvioData","_fila$totalReal2","superavit","fill","goToMes","alert","nombreNormalizado","encodeURIComponent","parts","mesNum","mesNombre","DateTimeFormat","mesesOrdenadosPorDesvio","_fila$totalEst2","_fila$totalReal3","delta","_delta","_absDelta","sort","a","b","openMenu","Typography","variant","gutterBottom","justifyContent","alignItems","mb","mt","flexWrap","Tabs","onChange","e","indicatorColor","Tab","Stack","direction","spacing","currentTarget","FilterAltOutlinedIcon","handleExportPdf","html2pdf","element","document","getElementById","opt","margin","filename","image","type","quality","html2canvas","scale","jsPDF","unit","orientation","default","from","set","save","handleExportExcel","_fila$mes","_ref2","utils","writeFile","ws","aoa_to_sheet","cellStyles","wb","book_new","book_append_sheet","Menu","anchorEl","open","onClose","handleCloseMenu","FormControlLabel","control","Switch","checked","_","TextField","target","_Fragment","Grid","container","item","xs","sm","md","Paper","textAlign","position","Avatar","mx","top","right","RuleOutlinedIcon","SettingsOutlinedIcon","HistoryOutlinedIcon","Chip","toFixed","Divider","index","flexDirection","cursor","minWidth","flex","ResponsiveContainer","BarChart","name","valor","layout","XAxis","domain","hide","YAxis","dataKey","RTooltip","formatter","Bar","radius","LineChart","left","bottom","x1","y1","x2","y2","offset","stopColor","stopOpacity","Area","stroke","yAxisId","Line","strokeWidth","dot","activeDot","ReferenceLine","y","strokeDasharray","dataMin","dataMax","tickFormatter","contentStyle","Legend","payload","overflowX","Table","TableHead","TableRow","TableCell","TableBody","_fila$totalReal4","_fila$totalEst3","diff","icon","WarningAmberOutlinedIcon","ml","style","Button","colSpan","secondary","Drawer","anchor","CloseIcon","List","dense","_fila$totalEst4","_fila$totalReal5","ingresoDelta","egresoDelta","resEst","resReal","ListItem","secondaryAction","ListItemText","URL_REGISTRO","REGISTRO","getUsuarioHeaders","sub","params","URLSearchParams","join"],"sourceRoot":""}