{"version":3,"file":"static/js/3381.f2071b46.chunk.js","mappings":"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","sources":["../node_modules/@mui/icons-material/esm/MoreVert.js","api/http.js","../node_modules/@mui/icons-material/esm/RestoreFromTrash.js","pronostico/presupuesto/components/MainGrid.js","pronostico/presupuesto/Presupuesto.js","../node_modules/@mui/icons-material/esm/DeleteOutline.js"],"sourcesContent":["\"use client\";\n\nimport createSvgIcon from \"./utils/createSvgIcon.js\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon(/*#__PURE__*/_jsx(\"path\", {\n  d: \"M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2m0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2m0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2\"\n}), 'MoreVert');","import axios from \"axios\";\r\nimport {\r\n  CognitoUserPool,\r\n  CognitoUser,\r\n  CognitoRefreshToken,\r\n} from \"amazon-cognito-identity-js\";\r\nimport { sessionService } from \"../shared-services/sessionService\";\r\nimport URL_CONFIG from \"../config/api-config\";\r\n\r\nconst http = axios.create();\r\nconst PRONOSTICO_BASE_URL = URL_CONFIG.PRONOSTICO;\r\nconst cognitoPoolConfig = {\r\n  UserPoolId: process.env.REACT_APP_COGNITO_USER_POOL_ID,\r\n  ClientId: process.env.REACT_APP_COGNITO_CLIENT_ID,\r\n};\r\n\r\nlet refreshPromise = null;\r\nlet hasForcedLogout = false;\r\n\r\nconst isPronosticoRequest = (url) =>\r\n  Boolean(\r\n    url &&\r\n      PRONOSTICO_BASE_URL &&\r\n      String(url).startsWith(String(PRONOSTICO_BASE_URL)),\r\n  );\r\n\r\nconst safeSessionGet = (key) => {\r\n  try {\r\n    return sessionStorage.getItem(key);\r\n  } catch (err) {\r\n    console.warn(\"No se pudo leer sessionStorage:\", err);\r\n    return null;\r\n  }\r\n};\r\n\r\nconst safeSessionSet = (key, value) => {\r\n  try {\r\n    if (value !== undefined && value !== null) {\r\n      sessionStorage.setItem(key, value);\r\n    }\r\n  } catch (err) {\r\n    console.warn(\"No se pudo escribir en sessionStorage:\", err);\r\n  }\r\n};\r\n\r\nconst clearSessionAndRedirect = () => {\r\n  if (hasForcedLogout) {\r\n    return;\r\n  }\r\n  hasForcedLogout = true;\r\n  try {\r\n    sessionStorage.clear();\r\n  } catch {\r\n    /* noop */\r\n  }\r\n  if (sessionService?.limpiarSesion) {\r\n    sessionService.limpiarSesion();\r\n  }\r\n  if (typeof window !== \"undefined\") {\r\n    window.location.href = \"/#/signin\";\r\n  }\r\n};\r\n\r\nconst buildCognitoUser = () => {\r\n  const username = safeSessionGet(\"email\") || safeSessionGet(\"username\");\r\n  if (\r\n    !username ||\r\n    !cognitoPoolConfig.UserPoolId ||\r\n    !cognitoPoolConfig.ClientId\r\n  ) {\r\n    return null;\r\n  }\r\n  const pool = new CognitoUserPool(cognitoPoolConfig);\r\n  return new CognitoUser({\r\n    Username: username,\r\n    Pool: pool,\r\n  });\r\n};\r\n\r\nconst refreshTokens = () => {\r\n  const refreshTokenValue = safeSessionGet(\"refreshToken\");\r\n  const cognitoUser = buildCognitoUser();\r\n  if (!refreshTokenValue || !cognitoUser) {\r\n    return Promise.reject(new Error(\"No hay datos para renovar la sesiÃ³n.\"));\r\n  }\r\n  const refreshToken = new CognitoRefreshToken({\r\n    RefreshToken: refreshTokenValue,\r\n  });\r\n  return new Promise((resolve, reject) => {\r\n    cognitoUser.refreshSession(refreshToken, (err, session) => {\r\n      if (err) {\r\n        reject(err);\r\n        return;\r\n      }\r\n      const nextAccessToken = session.getAccessToken().getJwtToken();\r\n      const nextIdToken = session.getIdToken().getJwtToken();\r\n      const nextRefreshToken = session.getRefreshToken().getToken();\r\n      safeSessionSet(\"accessToken\", nextAccessToken);\r\n      safeSessionSet(\"idToken\", nextIdToken);\r\n      if (nextRefreshToken) {\r\n        safeSessionSet(\"refreshToken\", nextRefreshToken);\r\n      }\r\n      resolve(nextAccessToken);\r\n    });\r\n  });\r\n};\r\n\r\nconst getRefreshPromise = () => {\r\n  if (!refreshPromise) {\r\n    refreshPromise = refreshTokens()\r\n      .then((token) => {\r\n        refreshPromise = null;\r\n        return token;\r\n      })\r\n      .catch((error) => {\r\n        refreshPromise = null;\r\n        throw error;\r\n      });\r\n  }\r\n  return refreshPromise;\r\n};\r\n\r\nhttp.interceptors.request.use((config) => {\r\n  const accessToken = sessionStorage.getItem(\"accessToken\");\r\n  if (isPronosticoRequest(config.url)) {\r\n    config.headers = config.headers ?? {};\r\n    if (accessToken) {\r\n      config.headers.Authorization = `Bearer ${accessToken}`;\r\n    }\r\n    const usuarioSub = sessionStorage.getItem(\"sub\");\r\n    if (usuarioSub) {\r\n      config.headers[\"X-Usuario-Sub\"] = usuarioSub;\r\n    }\r\n  }\r\n  return config;\r\n});\r\n\r\nhttp.interceptors.response.use(\r\n  (response) => response,\r\n  async (error) => {\r\n    const { config, response } = error;\r\n    if (\r\n      !config ||\r\n      !response ||\r\n      response.status !== 401 ||\r\n      !isPronosticoRequest(config.url)\r\n    ) {\r\n      return Promise.reject(error);\r\n    }\r\n\r\n    if (config.__isRetryRequest) {\r\n      clearSessionAndRedirect();\r\n      return Promise.reject(error);\r\n    }\r\n\r\n    try {\r\n      const newAccessToken = await getRefreshPromise();\r\n      if (!newAccessToken) {\r\n        throw new Error(\"No se obtuvo un token renovado.\");\r\n      }\r\n      config.__isRetryRequest = true;\r\n      config.headers = config.headers ?? {};\r\n      config.headers.Authorization = `Bearer ${newAccessToken}`;\r\n      return http(config);\r\n    } catch (refreshError) {\r\n      clearSessionAndRedirect();\r\n      return Promise.reject(refreshError);\r\n    }\r\n  },\r\n);\r\n\r\nexport default http;\r\n","\"use client\";\n\nimport createSvgIcon from \"./utils/createSvgIcon.js\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon(/*#__PURE__*/_jsx(\"path\", {\n  d: \"M19 4h-3.5l-1-1h-5l-1 1H5v2h14zM6 7v12c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7zm8 7v4h-4v-4H8l4-4 4 4z\"\n}), 'RestoreFromTrash');","import * as React from \"react\";\r\nimport {\r\n  Box,\r\n  Typography,\r\n  Button,\r\n  Paper,\r\n  Table,\r\n  TableHead,\r\n  TableRow,\r\n  TableCell,\r\n  TableBody,\r\n  TextField,\r\n  FormControl,\r\n  InputLabel,\r\n  Select,\r\n  MenuItem,\r\n  Alert,\r\n  Tabs,\r\n  Tab,\r\n  Snackbar,\r\n  Dialog,\r\n  DialogTitle,\r\n  DialogContent,\r\n  DialogActions,\r\n  IconButton,\r\n  Menu,\r\n  Tooltip,\r\n  Pagination,\r\n  CircularProgress,\r\n  Divider,\r\n} from \"@mui/material\";\r\nimport { alpha, useTheme } from \"@mui/material/styles\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport http from \"../../../api/http\";\r\nimport DeleteOutlineIcon from \"@mui/icons-material/DeleteOutline\";\r\nimport RestoreFromTrashIcon from \"@mui/icons-material/RestoreFromTrash\";\r\nimport MoreVertIcon from \"@mui/icons-material/MoreVert\";\r\nimport API_CONFIG from \"../../../config/api-config\";\r\nimport LoadingSpinner from \"../../../shared-components/LoadingSpinner\";\r\n\r\n\r\n\r\nconst tableRowStyle = {\r\n  backgroundColor: \"rgba(255, 255, 255, 0.02)\",\r\n  \"&:hover\": { backgroundColor: \"rgba(255, 255, 255, 0.05)\" },\r\n};\r\nconst tableCellStyle = (theme) => ({\r\n  border: `1px solid ${(theme.vars || theme).palette.divider}`,\r\n});\r\nconst headerCellStyle = (theme) => ({\r\n  ...tableCellStyle(theme),\r\n  fontWeight: 600,\r\n});\r\nconst getColumnWidth = (statusFilter) => ({\r\n  nombre: { width: statusFilter === \"deleted\" ? \"20%\" : \"25%\" },\r\n  desde: { width: statusFilter === \"deleted\" ? \"20%\" : \"25%\" },\r\n  hasta: { width: statusFilter === \"deleted\" ? \"20%\" : \"25%\" },\r\n  eliminado: { width: \"20%\" },\r\n  acciones: { width: statusFilter === \"deleted\" ? \"20%\" : \"25%\" },\r\n});\r\nconst monthLabels = [\r\n  \"enero\",\r\n  \"febrero\",\r\n  \"marzo\",\r\n  \"abril\",\r\n  \"mayo\",\r\n  \"junio\",\r\n  \"julio\",\r\n  \"agosto\",\r\n  \"septiembre\",\r\n  \"octubre\",\r\n  \"noviembre\",\r\n  \"diciembre\",\r\n];\r\nconst pad2 = (value) => String(value).padStart(2, \"0\");\r\nconst lastDayOfMonth = (year, month) => new Date(year, month, 0).getDate();\r\nconst parseRetentionDays = () => {\r\n  const raw = process.env.REACT_APP_PRESUPUESTO_RETENTION_DAYS;\r\n  const parsed = Number(raw);\r\n  if (Number.isNaN(parsed) || parsed <= 0) {\r\n    return 90;\r\n  }\r\n  return parsed;\r\n};\r\nconst formatDeletedAt = (value) => {\r\n  if (!value) return \"-\";\r\n  const date = new Date(value);\r\n  if (Number.isNaN(date.valueOf())) {\r\n    return value;\r\n  }\r\n  return date.toLocaleString(\"es-AR\", { hour12: false });\r\n};\r\nconst PAGE_SIZE = 3;\r\nconst DEFAULT_SORT = \"createdAt,desc\";\r\nconst createEmptyPage = () => ({\r\n  content: [],\r\n  totalElements: 0,\r\n  totalPages: 0,\r\n  number: 0,\r\n  size: PAGE_SIZE,\r\n});\r\nconst HeaderLabelAligned = ({ label, ghost }) => (\r\n  <Box sx={{ position: 'relative', display: 'inline-flex' }}>\r\n    <Box\r\n      aria-hidden\r\n      sx={{\r\n        visibility: 'hidden',\r\n        pointerEvents: 'none',\r\n        display: 'inline-flex',\r\n        whiteSpace: 'nowrap',\r\n      }}\r\n    >\r\n      {ghost}\r\n    </Box>\r\n    <Box sx={{ position: 'absolute', inset: 0, display: 'grid', placeItems: 'center', whiteSpace: 'nowrap' }}>\r\n      {label}\r\n    </Box>\r\n  </Box>\r\n);\r\n\r\nexport default function MainGrid() {\r\n  const theme = useTheme();\r\n  const isLightMode = theme.palette.mode === \"light\";\r\n  const paletteVars = theme.vars?.palette ?? theme.palette;\r\n  const tabsLabelColor = isLightMode\r\n    ? paletteVars.text?.primary ?? \"#000\"\r\n    : paletteVars.common?.white ?? \"#fff\";\r\n  const darkActionButtonSx = isLightMode ? undefined : { color: \"#42897f\" };\r\n  const navigate = useNavigate();\r\n  const baseURL = API_CONFIG.PRONOSTICO;\r\n  const retentionDays = React.useMemo(() => parseRetentionDays(), []);\r\n  const [statusFilter, setStatusFilter] = React.useState(\"active\");\r\n  const [pageIndex, setPageIndex] = React.useState(0);\r\n  const [presupuestosPage, setPresupuestosPage] =\r\n    React.useState(createEmptyPage);\r\n  const [hasActiveSearch, setHasActiveSearch] = React.useState(false);\r\n  const [searchPage, setSearchPage] = React.useState(null);\r\n  const [searchPageIndex, setSearchPageIndex] = React.useState(0);\r\n  const [query, setQuery] = React.useState(\"\");\r\n  const [filters, setFilters] = React.useState({\r\n    year: \"\",\r\n    fromMonth: \"\",\r\n    toMonth: \"\",\r\n  });\r\n  const [searchError, setSearchError] = React.useState(\"\");\r\n  const [listError, setListError] = React.useState(\"\");\r\n  const [loadingSearch, setLoadingSearch] = React.useState(false);\r\n  const [loadingAll, setLoadingAll] = React.useState(false);\r\n  const [confirmDialog, setConfirmDialog] = React.useState({\r\n    open: false,\r\n    presupuesto: null,\r\n  });\r\n  const [snackbar, setSnackbar] = React.useState({\r\n    open: false,\r\n    message: \"\",\r\n    action: null,\r\n  });\r\n  const [deletingId, setDeletingId] = React.useState(null);\r\n  const [menuState, setMenuState] = React.useState({\r\n    anchorEl: null,\r\n    presupuesto: null,\r\n  });\r\n  const [yearOptions, setYearOptions] = React.useState(() => {\r\n    const current = new Date().getFullYear();\r\n    return [current - 1, current, current + 1];\r\n  });\r\n  const searchParamsRef = React.useRef(\"\");\r\n  const lastDeletedRef = React.useRef(null);\r\n  const monthName = React.useCallback((ym) => {\r\n    if (!ym) return \"\";\r\n    const [anio, mes] = ym.split(\"-\");\r\n    const idx = Number(mes) - 1;\r\n    return idx >= 0 && idx < monthLabels.length\r\n      ? `${monthLabels[idx]} ${anio}`\r\n      : ym;\r\n  }, []);\r\n  const mergeYearOptions = React.useCallback((items) => {\r\n    if (!Array.isArray(items) || items.length === 0) {\r\n      return;\r\n    }\r\n    setYearOptions((prev) => {\r\n      const next = new Set(prev);\r\n      items.forEach((item) => {\r\n        const desdeYear = Number(item?.desde?.split(\"-\")[0]);\r\n        const hastaYear = Number(item?.hasta?.split(\"-\")[0]);\r\n        if (!Number.isNaN(desdeYear)) {\r\n          next.add(desdeYear);\r\n        }\r\n        if (!Number.isNaN(hastaYear)) {\r\n          next.add(hastaYear);\r\n        }\r\n      });\r\n      return Array.from(next).sort((a, b) => a - b);\r\n    });\r\n  }, []);\r\n  const normalizePage = React.useCallback((data) => {\r\n    if (!data || typeof data !== \"object\") {\r\n      return createEmptyPage();\r\n    }\r\n    const content = Array.isArray(data.content) ? data.content : [];\r\n    const totalElementsRaw = Number(data.totalElements);\r\n    const totalPagesRaw = Number(data.totalPages);\r\n    const numberRaw = Number(data.number);\r\n    const sizeRaw = Number(data.size);\r\n    return {\r\n      content,\r\n      totalElements: Number.isFinite(totalElementsRaw)\r\n        ? totalElementsRaw\r\n        : content.length,\r\n      totalPages: Number.isFinite(totalPagesRaw)\r\n        ? totalPagesRaw\r\n        : content.length > 0\r\n          ? 1\r\n          : 0,\r\n      number: Number.isFinite(numberRaw) ? numberRaw : 0,\r\n      size: Number.isFinite(sizeRaw) && sizeRaw > 0 ? sizeRaw : PAGE_SIZE,\r\n    };\r\n  }, []);\r\n  const fetchPresupuestos = React.useCallback(\r\n    async (statusValue, pageValue) => {\r\n      setLoadingAll(true);\r\n      try {\r\n        const trimmedQuery = query.trim();\r\n        const shouldExpand = trimmedQuery.length >= 2;\r\n        const effectivePage = shouldExpand ? 0 : Math.max(pageValue, 0);\r\n        const effectiveSize = shouldExpand ? 1000 : PAGE_SIZE;\r\n        const params = new URLSearchParams();\r\n        params.set(\"status\", statusValue);\r\n        params.set(\"page\", String(effectivePage));\r\n        params.set(\"size\", String(effectiveSize));\r\n        params.set(\"sort\", DEFAULT_SORT);\r\n        const res = await http.get(\r\n          `${baseURL}/api/presupuestos?${params.toString()}`,\r\n        );\r\n        const pageData = normalizePage(res.data);\r\n        if (\r\n          !shouldExpand &&\r\n          pageValue > 0 &&\r\n          pageData.totalPages > 0 &&\r\n          pageValue >= pageData.totalPages\r\n        ) {\r\n          setPageIndex(pageData.totalPages - 1);\r\n          return;\r\n        }\r\n        setPresupuestosPage(pageData);\r\n        mergeYearOptions(pageData.content);\r\n        setListError(\"\");\r\n        if (shouldExpand && pageValue !== 0) {\r\n          setPageIndex(0);\r\n        }\r\n      } catch (e) {\r\n        console.error(\"Error cargando presupuestos desde el backend:\", e);\r\n        setPresupuestosPage(createEmptyPage());\r\n        setListError(\r\n          \"No se pudo cargar la lista de presupuestos. Intenta nuevamente.\",\r\n        );\r\n      } finally {\r\n        setLoadingAll(false);\r\n      }\r\n    },\r\n    [baseURL, mergeYearOptions, normalizePage, query],\r\n  );\r\n  const fetchSearchPresupuestos = React.useCallback(\r\n    async (searchParamsString, statusValue, pageValue) => {\r\n      setLoadingSearch(true);\r\n      try {\r\n        const params = new URLSearchParams(searchParamsString || \"\");\r\n        params.set(\"status\", statusValue);\r\n        params.set(\"page\", String(Math.max(pageValue, 0)));\r\n        params.set(\"size\", String(PAGE_SIZE));\r\n        params.set(\"sort\", DEFAULT_SORT);\r\n        const res = await http.get(\r\n          `${baseURL}/api/presupuestos?${params.toString()}`,\r\n        );\r\n        const pageData = normalizePage(res.data);\r\n        if (\r\n          pageValue > 0 &&\r\n          pageData.totalPages > 0 &&\r\n          pageValue >= pageData.totalPages\r\n        ) {\r\n          setSearchPageIndex(pageData.totalPages - 1);\r\n          return;\r\n        }\r\n        setSearchPage(pageData);\r\n        mergeYearOptions(pageData.content);\r\n        setSearchError(\"\");\r\n      } catch (e) {\r\n        console.error(\"Error cargando presupuestos desde el backend:\", e);\r\n        setSearchPage(createEmptyPage());\r\n        setSearchError(\r\n          \"No se pudo cargar la lista filtrada. Intenta nuevamente.\",\r\n        );\r\n      } finally {\r\n        setLoadingSearch(false);\r\n      }\r\n    },\r\n    [baseURL, mergeYearOptions, normalizePage],\r\n  );\r\n  React.useEffect(() => {\r\n    fetchPresupuestos(statusFilter, pageIndex);\r\n  }, [fetchPresupuestos, statusFilter, pageIndex]);\r\n  const handleStatusChange = (event, newValue) => {\r\n    if (newValue === statusFilter) return;\r\n    setStatusFilter(newValue);\r\n    setPageIndex(0);\r\n    setHasActiveSearch(false);\r\n    setSearchPage(null);\r\n    setSearchPageIndex(0);\r\n    setSearchError(\"\");\r\n    searchParamsRef.current = \"\";\r\n  };\r\n  React.useEffect(() => {\r\n    setMenuState({ anchorEl: null, presupuesto: null });\r\n  }, [statusFilter]);\r\n  const openActionsMenu = (event, presupuesto) => {\r\n    setMenuState({ anchorEl: event.currentTarget, presupuesto });\r\n  };\r\n  const closeActionsMenu = () => {\r\n    setMenuState({ anchorEl: null, presupuesto: null });\r\n  };\r\n  const openDeleteDialog = (presupuesto) => {\r\n    setDeletingId(null);\r\n    setConfirmDialog({ open: true, presupuesto });\r\n  };\r\n  const handleSelectDelete = () => {\r\n    const presupuesto = menuState.presupuesto;\r\n    closeActionsMenu();\r\n    if (presupuesto) {\r\n      openDeleteDialog(presupuesto);\r\n    }\r\n  };\r\n  const closeDeleteDialog = React.useCallback(() => {\r\n    setConfirmDialog({ open: false, presupuesto: null });\r\n  }, []);\r\n  const performRestore = React.useCallback(\r\n    async (presupuesto, successMessage = \"Presupuesto restaurado.\") => {\r\n      if (!presupuesto) {\r\n        return;\r\n      }\r\n      try {\r\n        await http.post(\r\n          `${baseURL}/api/presupuestos/${presupuesto.id}/restore`,\r\n        );\r\n        await fetchPresupuestos(statusFilter, pageIndex);\r\n        if (hasActiveSearch && searchParamsRef.current) {\r\n          await fetchSearchPresupuestos(\r\n            searchParamsRef.current,\r\n            statusFilter,\r\n            searchPageIndex,\r\n          );\r\n        }\r\n        if (successMessage) {\r\n          setSnackbar({ open: true, message: successMessage, action: null });\r\n        }\r\n        setListError(\"\");\r\n      } catch (e) {\r\n        console.error(\"Error restaurando presupuesto:\", e);\r\n        setSnackbar({\r\n          open: true,\r\n          message: \"No se pudo restaurar el presupuesto.\",\r\n          action: null,\r\n        });\r\n      }\r\n    },\r\n    [\r\n      baseURL,\r\n      fetchPresupuestos,\r\n      fetchSearchPresupuestos,\r\n      hasActiveSearch,\r\n      pageIndex,\r\n      searchPageIndex,\r\n      statusFilter,\r\n    ],\r\n  );\r\n  const handleRestore = React.useCallback(\r\n    (presupuesto) => {\r\n      performRestore(presupuesto, \"Presupuesto restaurado.\");\r\n    },\r\n    [performRestore],\r\n  );\r\n  const handleUndoDelete = React.useCallback(async () => {\r\n    const presupuesto = lastDeletedRef.current;\r\n    if (!presupuesto) {\r\n      setSnackbar((prev) => ({ ...prev, open: false }));\r\n      return;\r\n    }\r\n    lastDeletedRef.current = null;\r\n    await performRestore(presupuesto, \"Presupuesto restaurado.\");\r\n  }, [performRestore]);\r\n  const handleConfirmDelete = async () => {\r\n    const presupuesto = confirmDialog.presupuesto;\r\n    if (!presupuesto) {\r\n      closeDeleteDialog();\r\n      return;\r\n    }\r\n    if (deletingId === presupuesto.id) {\r\n      return;\r\n    }\r\n    setDeletingId(presupuesto.id);\r\n    try {\r\n      await http.delete(`${baseURL}/api/presupuestos/${presupuesto.id}`);\r\n      lastDeletedRef.current = presupuesto;\r\n      await fetchPresupuestos(statusFilter, pageIndex);\r\n      if (hasActiveSearch && searchParamsRef.current) {\r\n        await fetchSearchPresupuestos(\r\n          searchParamsRef.current,\r\n          statusFilter,\r\n          searchPageIndex,\r\n        );\r\n      }\r\n      setSnackbar({\r\n        open: true,\r\n        message: \"Presupuesto eliminado.\",\r\n        action: (\r\n          <Button\r\n            color=\"secondary\"\r\n            size=\"small\"\r\n            onClick={() => handleUndoDelete()}\r\n          >\r\n            Deshacer\r\n          </Button>\r\n        ),\r\n      });\r\n      setListError(\"\");\r\n    } catch (e) {\r\n      console.error(\"Error eliminando presupuesto:\", e);\r\n      setSnackbar({\r\n        open: true,\r\n        message: \"No se pudo eliminar el presupuesto.\",\r\n        action: null,\r\n      });\r\n    } finally {\r\n      setDeletingId(null);\r\n      closeDeleteDialog();\r\n    }\r\n  };\r\n  const handleSnackbarClose = (_, reason) => {\r\n    if (reason === \"clickaway\") {\r\n      return;\r\n    }\r\n    setSnackbar((prev) => ({ ...prev, open: false }));\r\n  };\r\n  const isDeletingCurrent = deletingId === confirmDialog.presupuesto?.id;\r\n  const monthOptions = React.useMemo(\r\n    () =>\r\n      monthLabels.map((label, index) => ({\r\n        value: String(index + 1),\r\n        label: label.charAt(0).toUpperCase() + label.slice(1),\r\n      })),\r\n    [],\r\n  );\r\n  const columnsCount = statusFilter === \"deleted\" ? 5 : 4;\r\n  const mainTotalPages = Number(presupuestosPage.totalPages) || 0;\r\n  const mainCurrentPage = mainTotalPages > 0 ? presupuestosPage.number + 1 : 1;\r\n  const searchTotalPages = searchPage ? Number(searchPage.totalPages) || 0 : 0;\r\n  const searchCurrentPage =\r\n    searchTotalPages > 0 && searchPage ? searchPage.number + 1 : 1;\r\n  const visiblePresupuestos = React.useMemo(() => {\r\n    const term = query.trim().toLowerCase();\r\n    const data = Array.isArray(presupuestosPage.content)\r\n      ? presupuestosPage.content\r\n      : [];\r\n    if (!term) return data;\r\n    return data.filter((p) => {\r\n      const nombre = (p?.nombre || \"\").toLowerCase();\r\n      const desde = (p?.desde || \"\").toLowerCase();\r\n      const hasta = (p?.hasta || \"\").toLowerCase();\r\n      const desdeMes = monthName(p?.desde || \"\").toLowerCase();\r\n      const hastaMes = monthName(p?.hasta || \"\").toLowerCase();\r\n      return (\r\n        nombre.includes(term) ||\r\n        desde.includes(term) ||\r\n        hasta.includes(term) ||\r\n        desdeMes.includes(term) ||\r\n        hastaMes.includes(term)\r\n      );\r\n    });\r\n  }, [presupuestosPage.content, query, monthName]);\r\n  const handleFilterChange = (field) => (event) => {\r\n    const value = event.target.value;\r\n    setFilters((prev) => ({ ...prev, [field]: value }));\r\n  };\r\n  const handleSearch = () => {\r\n    setSearchError(\"\");\r\n    const params = new URLSearchParams();\r\n    const hasYear = Boolean(filters.year);\r\n    const hasFrom = Boolean(filters.fromMonth);\r\n    const hasTo = Boolean(filters.toMonth);\r\n    if (hasFrom || hasTo) {\r\n      if (!hasFrom || !hasTo) {\r\n        setSearchError(\"Debes seleccionar ambos meses para armar el rango.\");\r\n        return;\r\n      }\r\n      const baseYear = hasYear\r\n        ? Number(filters.year)\r\n        : new Date().getFullYear();\r\n      const fromMonth = Number(filters.fromMonth);\r\n      const toMonth = Number(filters.toMonth);\r\n      if (fromMonth > toMonth) {\r\n        setSearchError(\"El mes Desde no puede ser posterior al mes Hasta.\");\r\n        return;\r\n      }\r\n      const fromDate = `${baseYear}-${pad2(fromMonth)}-01`;\r\n      const toDateValue = `${baseYear}-${pad2(toMonth)}-${pad2(lastDayOfMonth(baseYear, toMonth))}`;\r\n      params.set(\"from\", fromDate);\r\n      params.set(\"to\", toDateValue);\r\n    } else if (hasYear) {\r\n      const fromDate = `${filters.year}-01-01`;\r\n      const toDateValue = `${filters.year}-12-31`;\r\n      params.set(\"year\", filters.year);\r\n    }\r\n    const queryString = params.toString();\r\n    if (!queryString) {\r\n      setHasActiveSearch(false);\r\n      setSearchPage(null);\r\n      setSearchPageIndex(0);\r\n      searchParamsRef.current = \"\";\r\n      return;\r\n    }\r\n    setHasActiveSearch(true);\r\n    setSearchPageIndex(0);\r\n    searchParamsRef.current = queryString;\r\n    fetchSearchPresupuestos(queryString, statusFilter, 0);\r\n  };\r\n  const handleReset = () => {\r\n    setFilters({ year: \"\", fromMonth: \"\", toMonth: \"\" });\r\n    setQuery(\"\");\r\n    setSearchError(\"\");\r\n    setHasActiveSearch(false);\r\n    setSearchPage(null);\r\n    setSearchPageIndex(0);\r\n    searchParamsRef.current = \"\";\r\n  };\r\n  const handlePageChange = (_, value) => {\r\n    const newPage = Number(value) - 1;\r\n    if (Number.isNaN(newPage) || newPage < 0) {\r\n      return;\r\n    }\r\n    setPageIndex(newPage);\r\n  };\r\n  const handleSearchPageChange = (_, value) => {\r\n    if (!hasActiveSearch || !searchParamsRef.current) {\r\n      return;\r\n    }\r\n    const newPage = Number(value) - 1;\r\n    if (Number.isNaN(newPage) || newPage < 0) {\r\n      return;\r\n    }\r\n    setSearchPageIndex(newPage);\r\n    fetchSearchPresupuestos(searchParamsRef.current, statusFilter, newPage);\r\n  };\r\n  const renderRows = (items) =>\r\n    items.map((p) => {\r\n      const slug = encodeURIComponent(\r\n        (p.nombre || \"\").trim().toLowerCase().replace(/\\s+/g, \"-\"),\r\n      );\r\n      const isDeleted = statusFilter === \"deleted\";\r\n      const isMenuOpenForRow =\r\n        Boolean(menuState.anchorEl) &&\r\n        menuState.presupuesto &&\r\n        menuState.presupuesto.id === p.id;\r\n      const menuId = isMenuOpenForRow ? \"presupuesto-actions-menu\" : undefined;\r\n      const buttonId = `acciones-presupuesto-${p.id}`;\r\n      return (\r\n        <TableRow key={p.id} sx={tableRowStyle}>\r\n          <TableCell sx={(theme) => ({ ...tableCellStyle(theme), ...getColumnWidth(statusFilter).nombre })}>\r\n            {p.nombre}\r\n          </TableCell>\r\n          <TableCell sx={(theme) => ({ ...tableCellStyle(theme), ...getColumnWidth(statusFilter).desde })}>\r\n            {monthName(p.desde)}\r\n          </TableCell>\r\n          <TableCell sx={(theme) => ({ ...tableCellStyle(theme), ...getColumnWidth(statusFilter).hasta })}>\r\n            {monthName(p.hasta)}\r\n          </TableCell>\r\n          {isDeleted && (\r\n            <TableCell sx={(theme) => ({ ...tableCellStyle(theme), ...getColumnWidth(statusFilter).eliminado })}>\r\n              {formatDeletedAt(p.deletedAt)}\r\n            </TableCell>\r\n          )}\r\n          <TableCell\r\n            sx={(theme) => ({ ...tableCellStyle(theme), ...getColumnWidth(statusFilter).acciones })}\r\n            align=\"right\"\r\n          >\r\n            {isDeleted ? (\r\n              <Button\r\n                variant=\"outlined\"\r\n                size=\"small\"\r\n                startIcon={<RestoreFromTrashIcon />}\r\n                onClick={() => handleRestore(p)}\r\n              >\r\n                Restaurar\r\n              </Button>\r\n            ) : (\r\n              <Box sx={{ display: \"flex\", justifyContent: \"flex-end\", gap: 1 }}>\r\n                <Button\r\n                  variant=\"outlined\"\r\n                  size=\"small\"\r\n                  onClick={() => navigate(`/presupuestos/${slug}`)}\r\n                  sx={darkActionButtonSx}\r\n                >\r\n                  Ver detalle\r\n                </Button>\r\n                <Tooltip title=\"MÃ¡s acciones\">\r\n                  <IconButton\r\n                    size=\"small\"\r\n                    aria-label=\"MÃ¡s acciones\"\r\n                    aria-controls={menuId}\r\n                    aria-haspopup=\"true\"\r\n                    aria-expanded={isMenuOpenForRow ? \"true\" : undefined}\r\n                    id={buttonId}\r\n                    onClick={(event) => openActionsMenu(event, p)}\r\n                  >\r\n                    <MoreVertIcon fontSize=\"small\" />\r\n                  </IconButton>\r\n                </Tooltip>\r\n              </Box>\r\n            )}\r\n          </TableCell>\r\n        </TableRow>\r\n      );\r\n    });\r\n\r\n  const firstMain = React.useMemo(\r\n    () => (Array.isArray(presupuestosPage?.content) && presupuestosPage.content.length ? presupuestosPage.content[0] : null),\r\n    [presupuestosPage?.content]\r\n  );\r\n\r\n  const firstSearchRow = React.useMemo(\r\n    () => (searchPage && Array.isArray(searchPage.content) && searchPage.content.length ? searchPage.content[0] : null),\r\n    [searchPage]\r\n  );\r\n\r\n  const headerGhostMain = {\r\n    nombre: firstMain?.nombre || 'Nombre de ejemplo',\r\n    desde: monthName(firstMain?.desde || '2025-01'),\r\n    hasta: monthName(firstMain?.hasta || '2025-12'),\r\n    eliminado: formatDeletedAt(firstMain?.deletedAt || '2025-10-14T20:21:43Z'),\r\n  };\r\n\r\n  const headerGhostSearch = {\r\n    nombre: firstSearchRow?.nombre || 'Nombre de ejemplo',\r\n    desde: monthName(firstSearchRow?.desde || '2025-01'),\r\n    hasta: monthName(firstSearchRow?.hasta || '2025-12'),\r\n    eliminado: formatDeletedAt(firstSearchRow?.deletedAt || '2025-10-14T20:21:43Z'),\r\n  };\r\n\r\n  return (\r\n    <Box sx={{ width: \"100%\", p: 3 }}>\r\n      <Typography variant=\"h4\" gutterBottom>\r\n        Presupuestos\r\n      </Typography>\r\n      <Typography variant=\"subtitle1\" gutterBottom>\r\n        Visualiza tus presupuestos creados o genera uno nuevo\r\n      </Typography>\r\n      <Tabs value={statusFilter} onChange={handleStatusChange} sx={{ mt: 1 }}>\r\n        <Tab\r\n          value=\"active\"\r\n          label=\"Activos\"\r\n          sx={{\r\n            color: tabsLabelColor,\r\n            \"&.Mui-selected\": { color: tabsLabelColor },\r\n            \"& .MuiTab-wrapper\": { color: tabsLabelColor },\r\n          }}\r\n        />\r\n        <Tab\r\n          value=\"deleted\"\r\n          label=\"Borrados\"\r\n          sx={{\r\n            color: tabsLabelColor,\r\n            \"&.Mui-selected\": { color: tabsLabelColor },\r\n            \"& .MuiTab-wrapper\": { color: tabsLabelColor },\r\n          }}\r\n        />\r\n      </Tabs>\r\n      <Typography\r\n        variant=\"caption\"\r\n        sx={{ display: \"block\", mb: 2, color: 'text.primary' }}\r\n      >\r\n        {`Los presupuestos se purgan de forma definitiva a los ${retentionDays} dÃ­as.`}\r\n      </Typography>\r\n      <Box\r\n        sx={{\r\n          display: \"flex\",\r\n          flexWrap: \"wrap\",\r\n          gap: 2,\r\n          alignItems: \"center\",\r\n          mt: 2,\r\n          mb: 2,\r\n        }}\r\n      >\r\n        <FormControl size=\"small\" sx={{ minWidth: 120 }}>\r\n          <InputLabel id=\"presupuesto-year-label\">AÃ±o</InputLabel>\r\n          <Select\r\n            labelId=\"presupuesto-year-label\"\r\n            value={filters.year}\r\n            label=\"AÃ±o\"\r\n            onChange={handleFilterChange(\"year\")}\r\n          >\r\n            <MenuItem value=\"\">\r\n              <em>Todos</em>\r\n            </MenuItem>\r\n            {yearOptions.map((year) => (\r\n              <MenuItem key={year} value={String(year)}>\r\n                {year}\r\n              </MenuItem>\r\n            ))}\r\n          </Select>\r\n        </FormControl>\r\n        <FormControl size=\"small\" sx={{ minWidth: 150 }}>\r\n          <InputLabel id=\"presupuesto-from-label\">Desde (mes)</InputLabel>\r\n          <Select\r\n            labelId=\"presupuesto-from-label\"\r\n            value={filters.fromMonth}\r\n            label=\"Desde (mes)\"\r\n            onChange={handleFilterChange(\"fromMonth\")}\r\n          >\r\n            <MenuItem value=\"\">\r\n              <em>Sin filtro</em>\r\n            </MenuItem>\r\n            {monthOptions.map((option) => (\r\n              <MenuItem key={option.value} value={option.value}>\r\n                {option.label}\r\n              </MenuItem>\r\n            ))}\r\n          </Select>\r\n        </FormControl>\r\n        <FormControl size=\"small\" sx={{ minWidth: 150 }}>\r\n          <InputLabel id=\"presupuesto-to-label\">Hasta (mes)</InputLabel>\r\n          <Select\r\n            labelId=\"presupuesto-to-label\"\r\n            value={filters.toMonth}\r\n            label=\"Hasta (mes)\"\r\n            onChange={handleFilterChange(\"toMonth\")}\r\n          >\r\n            <MenuItem value=\"\">\r\n              <em>Sin filtro</em>\r\n            </MenuItem>\r\n            {monthOptions.map((option) => (\r\n              <MenuItem key={option.value} value={option.value}>\r\n                {option.label}\r\n              </MenuItem>\r\n            ))}\r\n          </Select>\r\n        </FormControl>\r\n        <Button\r\n          variant=\"contained\"\r\n          onClick={handleSearch}\r\n          disabled={loadingSearch}\r\n        >\r\n          Buscar\r\n        </Button>\r\n        <Button variant=\"text\" onClick={handleReset} disabled={loadingSearch}>\r\n          Limpiar\r\n        </Button>\r\n      </Box>\r\n      <TextField\r\n        label=\"Buscar por nombre, mes o aÃ±o\"\r\n        variant=\"outlined\"\r\n        size=\"small\"\r\n        value={query}\r\n        onChange={(e) => setQuery(e.target.value)}\r\n        sx={{\r\n          mt: 1,\r\n          mb: 2,\r\n          width: { xs: '100%', sm: 250 },\r\n        }}\r\n      />\r\n      {searchError && (\r\n        <Alert severity=\"error\" sx={{ mb: 2 }}>\r\n          {searchError}\r\n        </Alert>\r\n      )}\r\n      {hasActiveSearch && (\r\n        <>\r\n          <Box sx={{ mt: 4, mb: 2 }}>\r\n            <Typography variant=\"subtitle1\" sx={{ fontWeight: 600, mb: 1 }}>\r\n              Resultado de la bÃºsqueda\r\n            </Typography>\r\n            <Divider />\r\n          </Box>\r\n          <Paper\r\n            sx={(theme) => ({\r\n              width: \"100%\",\r\n              mb: 3,\r\n              overflowX: \"auto\",\r\n              p: 0,\r\n              bgcolor: alpha(\r\n                theme.palette.primary.main,\r\n                theme.palette.mode === \"dark\" ? 0.12 : 0.06,\r\n              ),\r\n              border: `1px solid ${(theme.vars || theme).palette.divider}`,\r\n            })}\r\n          >\r\n            {loadingSearch ? (\r\n              <LoadingSpinner message=\"Cargando presupuestos...\" />\r\n            ) : searchPage &&\r\n              Array.isArray(searchPage.content) &&\r\n              searchPage.content.length > 0 ? (\r\n              <>\r\n                <Table>\r\n                  <TableHead>\r\n                    <TableRow sx={tableRowStyle}>\r\n                      <TableCell\r\n                        sx={(theme) => ({\r\n                          ...headerCellStyle(theme),\r\n                          ...getColumnWidth(statusFilter).nombre,\r\n                        })}\r\n                        align=\"left\"\r\n                      >\r\n                        <HeaderLabelAligned label=\"Nombre\" ghost={headerGhostSearch.nombre} />\r\n                      </TableCell>\r\n                      <TableCell\r\n                        sx={(theme) => ({\r\n                          ...headerCellStyle(theme),\r\n                          ...getColumnWidth(statusFilter).desde,\r\n                        })}\r\n                        align=\"left\"\r\n                      >\r\n                        <HeaderLabelAligned label=\"Desde\" ghost={headerGhostSearch.desde} />\r\n                      </TableCell>\r\n                      <TableCell\r\n                        sx={(theme) => ({\r\n                          ...headerCellStyle(theme),\r\n                          ...getColumnWidth(statusFilter).hasta,\r\n                        })}\r\n                        align=\"left\"\r\n                      >\r\n                        <HeaderLabelAligned label=\"Hasta\" ghost={headerGhostSearch.hasta} />\r\n                      </TableCell>\r\n                      {statusFilter === \"deleted\" && (\r\n                        <TableCell\r\n                          sx={(theme) => ({\r\n                            ...headerCellStyle(theme),\r\n                            ...getColumnWidth(statusFilter).eliminado,\r\n                          })}\r\n                          align=\"left\"\r\n                        >\r\n                          <HeaderLabelAligned label=\"Eliminados\" ghost={headerGhostSearch.eliminado} />\r\n                        </TableCell>\r\n                      )}\r\n                      <TableCell\r\n                        sx={(theme) => ({\r\n                          ...headerCellStyle(theme),\r\n                          ...getColumnWidth(statusFilter).acciones,\r\n                        })}\r\n                        align=\"right\"\r\n                      >\r\n                        {/* Wrapper que replica el ancho del bloque de acciones */}\r\n                        <Box sx={{ position: 'relative', display: 'inline-flex' }}>\r\n                          {/* Contenido âfantasmaâ para medir ancho del bloque real */}\r\n                          <Box\r\n                            aria-hidden\r\n                            sx={{\r\n                              visibility: 'hidden',\r\n                              pointerEvents: 'none',\r\n                              display: 'inline-flex',\r\n                              alignItems: 'center',\r\n                              gap: 1,\r\n                            }}\r\n                          >\r\n                            <Button variant=\"outlined\" size=\"small\" sx={darkActionButtonSx}>Ver detalle</Button>\r\n                            <IconButton size=\"small\"><MoreVertIcon fontSize=\"small\" /></IconButton>\r\n                          </Box>\r\n                          {/* Texto centrado exactamente sobre ese ancho */}\r\n                          <Box sx={{ position:'absolute', inset:0, display:'grid', placeItems:'center', whiteSpace:'nowrap', fontWeight: 600 }}>\r\n                            Acciones\r\n                          </Box>\r\n                        </Box>\r\n                      </TableCell>\r\n                    </TableRow>\r\n                  </TableHead>\r\n                  <TableBody>{renderRows(searchPage.content)}</TableBody>\r\n                </Table>\r\n                {searchTotalPages > 1 && (\r\n                  <Box mt={2} display=\"flex\" justifyContent=\"center\">\r\n                    <Pagination\r\n                      color=\"primary\"\r\n                      size=\"small\"\r\n                      count={searchTotalPages}\r\n                      page={searchCurrentPage}\r\n                      onChange={handleSearchPageChange}\r\n                      siblingCount={0}\r\n                      boundaryCount={1}\r\n                      aria-label=\"Paginacion de resultados de presupuestos\"\r\n                      getItemAriaLabel={(type, page) => {\r\n                        switch (type) {\r\n                          case \"page\":\r\n                            return `Ir a la pagina ${page} de resultados`;\r\n                          case \"previous\":\r\n                            return \"Pagina anterior de resultados\";\r\n                          case \"next\":\r\n                            return \"Pagina siguiente de resultados\";\r\n                          default:\r\n                            return `Ir a la pagina ${page} de resultados`;\r\n                        }\r\n                      }}\r\n                    />\r\n                  </Box>\r\n                )}\r\n              </>\r\n            ) : (\r\n              !searchError && (\r\n                <Alert severity=\"info\">\r\n                  No encontramos presupuestos para el rango seleccionado.\r\n                </Alert>\r\n              )\r\n            )}\r\n          </Paper>\r\n        </>\r\n      )}\r\n      <Box sx={{ mt: 4, mb: 2 }}>\r\n        <Typography variant=\"subtitle1\" sx={{ fontWeight: 600, mb: 1 }}>\r\n          Listado completo\r\n        </Typography>\r\n        <Divider />\r\n      </Box>\r\n      {listError && (\r\n        <Alert severity=\"error\" sx={{ mb: 2 }}>\r\n          {listError}\r\n        </Alert>\r\n      )}\r\n      <Paper sx={{ width: \"100%\", overflowX: \"auto\" }}>\r\n        {loadingAll ? (\r\n          <LoadingSpinner message=\"Cargando presupuestos...\" />\r\n        ) : (\r\n          <Table>\r\n            <TableHead>\r\n              <TableRow sx={tableRowStyle}>\r\n                <TableCell\r\n                  sx={(theme) => ({\r\n                    ...headerCellStyle(theme),\r\n                    ...getColumnWidth(statusFilter).nombre,\r\n                  })}\r\n                  align=\"left\"\r\n                >\r\n                  <HeaderLabelAligned label=\"Nombre\" ghost={headerGhostMain.nombre} />\r\n                </TableCell>\r\n                <TableCell\r\n                  sx={(theme) => ({\r\n                    ...headerCellStyle(theme),\r\n                    ...getColumnWidth(statusFilter).desde,\r\n                  })}\r\n                  align=\"left\"\r\n                >\r\n                  <HeaderLabelAligned label=\"Desde\" ghost={headerGhostMain.desde} />\r\n                </TableCell>\r\n                <TableCell\r\n                  sx={(theme) => ({\r\n                    ...headerCellStyle(theme),\r\n                    ...getColumnWidth(statusFilter).hasta,\r\n                  })}\r\n                  align=\"left\"\r\n                >\r\n                  <HeaderLabelAligned label=\"Hasta\" ghost={headerGhostMain.hasta} />\r\n                </TableCell>\r\n                {statusFilter === \"deleted\" && (\r\n                  <TableCell\r\n                    sx={(theme) => ({\r\n                      ...headerCellStyle(theme),\r\n                      ...getColumnWidth(statusFilter).eliminado,\r\n                    })}\r\n                    align=\"left\"\r\n                  >\r\n                    <HeaderLabelAligned label=\"Eliminados\" ghost={headerGhostMain.eliminado} />\r\n                  </TableCell>\r\n                )}\r\n                <TableCell\r\n                  sx={(theme) => ({\r\n                    ...headerCellStyle(theme),\r\n                    ...getColumnWidth(statusFilter).acciones,\r\n                  })}\r\n                  align=\"right\"\r\n                >\r\n                  {/* Wrapper que replica el ancho del bloque de acciones */}\r\n                  <Box sx={{ position: 'relative', display: 'inline-flex' }}>\r\n                    {/* Contenido âfantasmaâ para medir ancho del bloque real */}\r\n                    <Box\r\n                      aria-hidden\r\n                      sx={{\r\n                        visibility: 'hidden',\r\n                        pointerEvents: 'none',\r\n                        display: 'inline-flex',\r\n                        alignItems: 'center',\r\n                        gap: 1,\r\n                      }}\r\n                    >\r\n                      <Button variant=\"outlined\" size=\"small\" sx={darkActionButtonSx}>Ver detalle</Button>\r\n                      <IconButton size=\"small\"><MoreVertIcon fontSize=\"small\" /></IconButton>\r\n                    </Box>\r\n                    {/* Texto centrado exactamente sobre ese ancho */}\r\n                    <Box sx={{ position:'absolute', inset:0, display:'grid', placeItems:'center', whiteSpace:'nowrap', fontWeight: 600 }}>\r\n                      Acciones\r\n                    </Box>\r\n                  </Box>\r\n                </TableCell>\r\n              </TableRow>\r\n            </TableHead>\r\n            <TableBody>\r\n              {visiblePresupuestos.length > 0 && renderRows(visiblePresupuestos)}\r\n              {visiblePresupuestos.length === 0 && !listError && (\r\n                <TableRow>\r\n                  <TableCell\r\n                    colSpan={columnsCount}\r\n                    sx={(theme) => ({\r\n                      ...tableCellStyle(theme),\r\n                      textAlign: \"center\",\r\n                      py: 3,\r\n                    })}\r\n                  >\r\n                    No hay presupuestos para mostrar.\r\n                  </TableCell>\r\n                </TableRow>\r\n              )}\r\n              {listError && (\r\n                <TableRow>\r\n                  <TableCell\r\n                    colSpan={columnsCount}\r\n                    sx={(theme) => ({\r\n                      ...tableCellStyle(theme),\r\n                      textAlign: \"center\",\r\n                      py: 3,\r\n                    })}\r\n                  >\r\n                    <Alert severity=\"error\">{listError}</Alert>\r\n                  </TableCell>\r\n                </TableRow>\r\n              )}\r\n            </TableBody>\r\n          </Table>\r\n        )}\r\n      </Paper>\r\n      {mainTotalPages > 1 && (\r\n        <Box mt={2} display=\"flex\" justifyContent=\"center\">\r\n          <Pagination\r\n            color=\"primary\"\r\n            size=\"small\"\r\n            count={mainTotalPages}\r\n            page={mainCurrentPage}\r\n            onChange={handlePageChange}\r\n            siblingCount={0}\r\n            boundaryCount={1}\r\n            aria-label=\"Paginacion de presupuestos\"\r\n            getItemAriaLabel={(type, page) => {\r\n              switch (type) {\r\n                case \"page\":\r\n                  return `Ir a la pagina ${page} de presupuestos`;\r\n                case \"previous\":\r\n                  return \"Pagina anterior de presupuestos\";\r\n                case \"next\":\r\n                  return \"Pagina siguiente de presupuestos\";\r\n                default:\r\n                  return `Ir a la pagina ${page} de presupuestos`;\r\n              }\r\n            }}\r\n          />\r\n        </Box>\r\n      )}\r\n      <Box mt={3}>\r\n        <Button\r\n          variant=\"contained\"\r\n          onClick={() => navigate(\"/presupuestos/nuevo\")}\r\n        >\r\n          Crear nuevo presupuesto\r\n        </Button>\r\n      </Box>\r\n      <Menu\r\n        id=\"presupuesto-actions-menu\"\r\n        anchorEl={menuState.anchorEl}\r\n        open={Boolean(menuState.anchorEl)}\r\n        onClose={closeActionsMenu}\r\n        anchorOrigin={{ vertical: \"bottom\", horizontal: \"right\" }}\r\n        transformOrigin={{ vertical: \"top\", horizontal: \"right\" }}\r\n        keepMounted\r\n        MenuListProps={{\r\n          \"aria-labelledby\": menuState.presupuesto\r\n            ? `acciones-presupuesto-${menuState.presupuesto.id}`\r\n            : undefined,\r\n        }}\r\n      >\r\n        <MenuItem\r\n          onClick={handleSelectDelete}\r\n          disabled={!menuState.presupuesto}\r\n        >\r\n          <DeleteOutlineIcon fontSize=\"small\" sx={{ mr: 1 }} /> Eliminar\r\n        </MenuItem>\r\n      </Menu>\r\n      <Dialog\r\n        open={confirmDialog.open}\r\n        onClose={() => {\r\n          if (deletingId) {\r\n            return;\r\n          }\r\n          closeDeleteDialog();\r\n        }}\r\n        disableEscapeKeyDown={Boolean(deletingId)}\r\n        maxWidth=\"xs\"\r\n        fullWidth\r\n      >\r\n        <DialogTitle>Eliminar presupuesto</DialogTitle>\r\n        <DialogContent dividers>\r\n          <Typography variant=\"body2\">\r\n            {`Vas a eliminar el presupuesto \"${confirmDialog.presupuesto?.nombre || \"\"}\". PodrÃ¡s restaurarlo desde la Papelera durante ${retentionDays} dÃ­as.`}\r\n          </Typography>\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button onClick={closeDeleteDialog} disabled={isDeletingCurrent}>\r\n            Cancelar\r\n          </Button>\r\n          <Button\r\n            color=\"error\"\r\n            variant=\"contained\"\r\n            onClick={handleConfirmDelete}\r\n            disabled={isDeletingCurrent}\r\n            startIcon={\r\n              isDeletingCurrent ? (\r\n                <CircularProgress size={16} color=\"inherit\" />\r\n              ) : null\r\n            }\r\n          >\r\n            {isDeletingCurrent ? \"Eliminando...\" : \"Eliminar\"}\r\n          </Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n      <Snackbar\r\n        open={snackbar.open}\r\n        autoHideDuration={6000}\r\n        onClose={handleSnackbarClose}\r\n        message={snackbar.message}\r\n        action={snackbar.action}\r\n        anchorOrigin={{ vertical: \"bottom\", horizontal: \"center\" }}\r\n      />\r\n    </Box>\r\n  );\r\n}\r\n","import * as React from 'react';\r\nimport MainGrid from './components/MainGrid';\r\n\r\nexport default function Presupuesto(props) {\r\n  return (\r\n    <>\r\n        <MainGrid />\r\n    </>\r\n  );\r\n}","\"use client\";\n\nimport createSvgIcon from \"./utils/createSvgIcon.js\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon(/*#__PURE__*/_jsx(\"path\", {\n  d: \"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zM8 9h8v10H8zm7.5-5-1-1h-5l-1 1H5v2h14V4z\"\n}), 'DeleteOutline');"],"names":["createSvgIcon","_jsx","d","http","axios","create","PRONOSTICO_BASE_URL","URL_CONFIG","PRONOSTICO","cognitoPoolConfig","UserPoolId","process","ClientId","refreshPromise","hasForcedLogout","isPronosticoRequest","url","Boolean","String","startsWith","safeSessionGet","key","sessionStorage","getItem","err","console","warn","safeSessionSet","value","undefined","setItem","clearSessionAndRedirect","clear","_unused","sessionService","limpiarSesion","window","location","href","refreshTokens","refreshTokenValue","cognitoUser","buildCognitoUser","username","pool","CognitoUserPool","CognitoUser","Username","Pool","Promise","reject","Error","refreshToken","CognitoRefreshToken","RefreshToken","resolve","refreshSession","session","nextAccessToken","getAccessToken","getJwtToken","nextIdToken","getIdToken","nextRefreshToken","getRefreshToken","getToken","interceptors","request","use","config","accessToken","_config$headers","headers","Authorization","concat","usuarioSub","response","async","error","status","__isRetryRequest","_config$headers2","newAccessToken","then","token","catch","refreshError","tableRowStyle","backgroundColor","tableCellStyle","theme","border","vars","palette","divider","headerCellStyle","_objectSpread","fontWeight","getColumnWidth","statusFilter","nombre","width","desde","hasta","eliminado","acciones","monthLabels","pad2","padStart","lastDayOfMonth","year","month","Date","getDate","parseRetentionDays","parsed","Number","REACT_APP_PRESUPUESTO_RETENTION_DAYS","isNaN","formatDeletedAt","date","valueOf","toLocaleString","hour12","PAGE_SIZE","DEFAULT_SORT","createEmptyPage","content","totalElements","totalPages","number","size","HeaderLabelAligned","_ref","label","ghost","_jsxs","Box","sx","position","display","children","visibility","pointerEvents","whiteSpace","inset","placeItems","MainGrid","_theme$vars$palette","_theme$vars","_paletteVars$text$pri","_paletteVars$text","_paletteVars$common$w","_paletteVars$common","_confirmDialog$presup","_confirmDialog$presup2","useTheme","isLightMode","mode","paletteVars","tabsLabelColor","text","primary","common","white","darkActionButtonSx","color","navigate","useNavigate","baseURL","API_CONFIG","retentionDays","React","setStatusFilter","pageIndex","setPageIndex","presupuestosPage","setPresupuestosPage","hasActiveSearch","setHasActiveSearch","searchPage","setSearchPage","searchPageIndex","setSearchPageIndex","query","setQuery","filters","setFilters","fromMonth","toMonth","searchError","setSearchError","listError","setListError","loadingSearch","setLoadingSearch","loadingAll","setLoadingAll","confirmDialog","setConfirmDialog","open","presupuesto","snackbar","setSnackbar","message","action","deletingId","setDeletingId","menuState","setMenuState","anchorEl","yearOptions","setYearOptions","current","getFullYear","searchParamsRef","lastDeletedRef","monthName","ym","anio","mes","split","idx","length","mergeYearOptions","items","Array","isArray","prev","next","Set","forEach","item","_item$desde","_item$hasta","desdeYear","hastaYear","add","from","sort","a","b","normalizePage","data","totalElementsRaw","totalPagesRaw","numberRaw","sizeRaw","isFinite","fetchPresupuestos","statusValue","pageValue","shouldExpand","trim","effectivePage","Math","max","effectiveSize","params","URLSearchParams","set","res","get","toString","pageData","e","fetchSearchPresupuestos","searchParamsString","closeActionsMenu","closeDeleteDialog","performRestore","successMessage","arguments","post","id","handleRestore","handleUndoDelete","isDeletingCurrent","monthOptions","map","index","charAt","toUpperCase","slice","columnsCount","mainTotalPages","mainCurrentPage","searchTotalPages","searchCurrentPage","visiblePresupuestos","term","toLowerCase","filter","p","desdeMes","hastaMes","includes","handleFilterChange","field","event","target","renderRows","slug","encodeURIComponent","replace","isDeleted","isMenuOpenForRow","menuId","buttonId","TableRow","TableCell","deletedAt","align","Button","variant","startIcon","RestoreFromTrashIcon","onClick","justifyContent","gap","Tooltip","title","IconButton","openActionsMenu","currentTarget","MoreVertIcon","fontSize","firstMain","firstSearchRow","headerGhostMain","headerGhostSearch","Typography","gutterBottom","Tabs","onChange","handleStatusChange","newValue","mt","Tab","mb","flexWrap","alignItems","FormControl","minWidth","InputLabel","Select","labelId","MenuItem","option","handleSearch","hasYear","hasFrom","hasTo","baseYear","fromDate","toDateValue","queryString","disabled","handleReset","TextField","xs","sm","Alert","severity","_Fragment","Divider","Paper","overflowX","bgcolor","alpha","main","LoadingSpinner","Table","TableHead","TableBody","Pagination","count","page","handleSearchPageChange","_","newPage","siblingCount","boundaryCount","getItemAriaLabel","type","colSpan","textAlign","py","handlePageChange","Menu","onClose","anchorOrigin","vertical","horizontal","transformOrigin","keepMounted","MenuListProps","handleSelectDelete","openDeleteDialog","DeleteOutlineIcon","mr","Dialog","disableEscapeKeyDown","maxWidth","fullWidth","DialogTitle","DialogContent","dividers","DialogActions","delete","CircularProgress","Snackbar","autoHideDuration","handleSnackbarClose","reason","Presupuesto","props"],"sourceRoot":""}