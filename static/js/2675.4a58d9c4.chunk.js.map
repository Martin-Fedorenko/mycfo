{"version":3,"file":"static/js/2675.4a58d9c4.chunk.js","mappings":"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","sources":["utils/formatters.js","shared-components/CustomSingleAutoComplete.js","shared-components/CustomSelect.js","registro/facturas/api/facturasService.js","registro/facturas/FacturaListPage.js","registro/carga-general/components/forms/FormFactura.js","shared-components/SuccessSnackbar.js","shared-components/categorias.js","shared-components/CustomDateTimePicker.js"],"sourcesContent":["const currencyFormatterAR = new Intl.NumberFormat('es-AR', {\r\n  style: 'currency',\r\n  currency: 'ARS',\r\n  minimumFractionDigits: 0,\r\n  maximumFractionDigits: 2,\r\n});\r\n\r\n/**\r\n * Devuelve una cadena formateada en pesos argentinos.\r\n * Se asegura de manejar valores nulos, indefinidos o no numéricos.\r\n */\r\nexport const formatCurrencyAR = (value, { fallback = '$ 0' } = {}) => {\r\n  if (value === null || value === undefined) {\r\n    return fallback;\r\n  }\r\n\r\n  const numericValue = Number(value);\r\n  if (Number.isNaN(numericValue)) {\r\n    return fallback;\r\n  }\r\n\r\n  return currencyFormatterAR.format(numericValue);\r\n};\r\n\r\nexport const formatPercentage = (value, { fractionDigits = 0, fallback = '0%' } = {}) => {\r\n  if (value === null || value === undefined) {\r\n    return fallback;\r\n  }\r\n\r\n  const numericValue = Number(value);\r\n  if (Number.isNaN(numericValue)) {\r\n    return fallback;\r\n  }\r\n\r\n  return `${numericValue.toFixed(fractionDigits)}%`;\r\n};\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { Autocomplete, TextField } from \"@mui/material\";\r\n\r\nexport default function CustomSingleAutoComplete({\r\n  options,\r\n  value,\r\n  onChange,\r\n  disabled = false,\r\n  placeholder = \"Seleccioná o escribí una opción\",\r\n}) {\r\n  const [internalValue, setInternalValue] = useState(value ?? null);\r\n\r\n  useEffect(() => {\r\n    setInternalValue(value ?? null);\r\n  }, [value]);\r\n\r\n  const handleChange = (_event, newValue) => {\r\n    setInternalValue(newValue);\r\n    if (onChange) onChange(newValue);\r\n  };\r\n\r\n  return (\r\n    <Autocomplete\r\n      freeSolo\r\n      options={options}\r\n      value={value !== undefined ? value : internalValue}\r\n      onChange={handleChange}\r\n      disabled={disabled}\r\n      renderInput={(params) => (\r\n        <TextField\r\n          {...params}\r\n          placeholder={placeholder}\r\n          variant=\"outlined\"\r\n          size=\"small\"\r\n          disabled={disabled}\r\n        />\r\n      )}\r\n    />\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport {\r\n  Box,\r\n  InputLabel,\r\n  MenuItem,\r\n  Select,\r\n  OutlinedInput,\r\n  FormHelperText,\r\n} from \"@mui/material\";\r\n\r\nexport default function CustomSelect({\r\n  label,\r\n  name,\r\n  value,\r\n  onChange,\r\n  options = [],\r\n  error = \"\",\r\n  width = \"100%\",\r\n  disabled = false,\r\n}) {\r\n  return (\r\n    <Box sx={{ width }}>\r\n      {label && (\r\n        <InputLabel sx={{ mb: -0.01 }} id={`${name}-label`}>\r\n          {label}\r\n        </InputLabel>\r\n      )}\r\n      <Select\r\n        labelId={`${name}-label`}\r\n        id={name}\r\n        name={name}\r\n        value={value}\r\n        onChange={(e) => onChange(e.target.value)}\r\n        displayEmpty\r\n        size=\"small\"\r\n        input={<OutlinedInput />}\r\n        sx={{ width: \"100%\" }}\r\n        disabled={disabled}\r\n      >\r\n        <MenuItem value=\"\" disabled>\r\n          Elegir...\r\n        </MenuItem>\r\n        {options.map((opt, i) => (\r\n          <MenuItem key={i} value={opt}>\r\n            {opt}\r\n          </MenuItem>\r\n        ))}\r\n      </Select>\r\n      {error && <FormHelperText error>{error}</FormHelperText>}\r\n    </Box>\r\n  );\r\n}\r\n","import axios from \"axios\";\r\nimport API_CONFIG from \"../../../config/api-config\";\r\n\r\nconst BASE_URL = API_CONFIG.REGISTRO;\r\n\r\nconst withUserHeaders = () => {\r\n  const usuarioSub = sessionStorage.getItem(\"sub\");\r\n  if (!usuarioSub) {\r\n    throw new Error(\"No se encontró información de usuario (sub) en la sesión.\");\r\n  }\r\n  return {\r\n    headers: {\r\n      \"X-Usuario-Sub\": usuarioSub,\r\n    },\r\n    withCredentials: true,\r\n  };\r\n};\r\n\r\nexport const fetchFacturas = async ({\r\n  page = 0,\r\n  size = 10,\r\n  sortBy = \"fechaEmision\",\r\n  sortDir = \"desc\",\r\n  fechaDesde,\r\n  fechaHasta,\r\n  tipoFactura,\r\n  estadoPago,\r\n} = {}) => {\r\n  const params = new URLSearchParams({\r\n    page,\r\n    size,\r\n    sortBy,\r\n    sortDir,\r\n  });\r\n\r\n  if (fechaDesde) params.append(\"fechaDesde\", fechaDesde);\r\n  if (fechaHasta) params.append(\"fechaHasta\", fechaHasta);\r\n  if (tipoFactura) params.append(\"tipoFactura\", tipoFactura);\r\n  if (estadoPago) params.append(\"estadoPago\", estadoPago);\r\n\r\n  const response = await axios.get(\r\n    `${BASE_URL}/facturas/buscar?${params.toString()}`,\r\n    withUserHeaders()\r\n  );\r\n\r\n  return response.data;\r\n};\r\n\r\nexport const deleteFactura = async (id) => {\r\n  await axios.delete(`${BASE_URL}/facturas/${id}`, withUserHeaders());\r\n};\r\n\r\nconst serializeFactura = (payload) => {\r\n  const data = { ...payload };\r\n  if (data.fechaEmision && typeof data.fechaEmision?.format === \"function\") {\r\n    // Incluir fecha y hora completas tal como se eligieron en el formulario\r\n    data.fechaEmision = data.fechaEmision.format(\"YYYY-MM-DDTHH:mm:ss\");\r\n  }\r\n  return data;\r\n};\r\n\r\nexport const updateFactura = async (id, payload) => {\r\n  const response = await axios.put(\r\n    `${BASE_URL}/facturas/${id}`,\r\n    serializeFactura(payload),\r\n    withUserHeaders()\r\n  );\r\n  return response.data;\r\n};\r\n\r\nexport const getFacturaById = async (id) => {\r\n  const response = await axios.get(\r\n    `${BASE_URL}/facturas/${id}`,\r\n    withUserHeaders()\r\n  );\r\n  return response.data;\r\n};\r\n\r\n\r\n","import React, { useEffect, useMemo, useState, useCallback } from \"react\";\r\nimport {\r\n  Box,\r\n  Typography,\r\n  Chip,\r\n  IconButton,\r\n  Dialog,\r\n  DialogTitle,\r\n  DialogContent,\r\n  DialogActions,\r\n  Button,\r\n  Alert,\r\n  Snackbar,\r\n  LinearProgress,\r\n  useMediaQuery,\r\n  useTheme,\r\n} from \"@mui/material\";\r\nimport {\r\n  DataGrid,\r\n  GridToolbar,\r\n} from \"@mui/x-data-grid\";\r\nimport VisibilityIcon from \"@mui/icons-material/Visibility\";\r\nimport EditIcon from \"@mui/icons-material/Edit\";\r\nimport DeleteIcon from \"@mui/icons-material/Delete\";\r\nimport dayjs from \"dayjs\";\r\nimport FormFactura from \"../carga-general/components/forms/FormFactura\";\r\nimport {\r\n  fetchFacturas,\r\n  deleteFactura,\r\n  updateFactura,\r\n} from \"./api/facturasService\";\r\nimport { formatCurrencyAR } from \"../../utils/formatters\";\r\nimport SuccessSnackbar from \"../../shared-components/SuccessSnackbar\";\r\nimport API_CONFIG from \"../../config/api-config\";\r\n\r\nconst FACTURA_PAGE_SIZE = 10;\r\n\r\nconst FacturaListPage = () => {\r\n  const [facturas, setFacturas] = useState([]);\r\n  const [loading, setLoading] = useState(false);\r\n  const [filters, setFilters] = useState({});\r\n  const theme = useTheme();\r\n  const isMobile = useMediaQuery(theme.breakpoints.down(\"sm\"));\r\n  \r\n  // Paginación del servidor\r\n  const [paginationModel, setPaginationModel] = useState({ page: 0, pageSize: 10 });\r\n  const [rowCount, setRowCount] = useState(0);\r\n  \r\n  const [dialogOpen, setDialogOpen] = useState(false);\r\n  const [dialogMode, setDialogMode] = useState(\"view\"); // view | edit\r\n  const [selectedFactura, setSelectedFactura] = useState(null);\r\n  const [formData, setFormData] = useState({});\r\n  const [errors, setErrors] = useState({});\r\n  const [deleteConfirmOpen, setDeleteConfirmOpen] = useState(false);\r\n  const [facturaToDelete, setFacturaToDelete] = useState(null);\r\n  const [snackbar, setSnackbar] = useState({ open: false, message: \"\", severity: \"info\" });\r\n  const [successSnackbar, setSuccessSnackbar] = useState({ open: false, message: \"\" });\r\n  const [usuarioRol, setUsuarioRol] = useState(null);\r\n\r\n  // Normaliza la fecha de emisión sin importar el formato que devuelva el backend\r\n  const parseFechaEmision = useCallback((fecha) => {\r\n    const monthTextToNumber = {\r\n      JANUARY: 1,\r\n      FEBRUARY: 2,\r\n      MARCH: 3,\r\n      APRIL: 4,\r\n      MAY: 5,\r\n      JUNE: 6,\r\n      JULY: 7,\r\n      AUGUST: 8,\r\n      SEPTEMBER: 9,\r\n      OCTOBER: 10,\r\n      NOVEMBER: 11,\r\n      DECEMBER: 12,\r\n    };\r\n    const normalizeMonth = (month) => {\r\n      if (month == null) return null;\r\n      if (typeof month === \"string\") {\r\n        const upper = month.toUpperCase();\r\n        if (monthTextToNumber[upper]) return monthTextToNumber[upper];\r\n        const parsed = parseInt(month, 10);\r\n        return Number.isNaN(parsed) ? null : parsed;\r\n      }\r\n      return month;\r\n    };\r\n\r\n    if (!fecha) return null;\r\n    if (dayjs.isDayjs(fecha)) return fecha;\r\n\r\n    if (Array.isArray(fecha)) {\r\n      const [year, month = 1, day = 1, hour = 0, minute = 0, second = 0] = fecha;\r\n      const normalizedMonth = normalizeMonth(month) ?? 1;\r\n      const parsedFromArray = dayjs({\r\n        year,\r\n        month: normalizedMonth - 1,\r\n        day,\r\n        hour,\r\n        minute,\r\n        second,\r\n      });\r\n      if (parsedFromArray.isValid()) return parsedFromArray;\r\n    }\r\n\r\n    if (typeof fecha === \"object\") {\r\n      const { date, time, year, month, monthValue, day, dayOfMonth, dayOfYear, hour, minute, second } = fecha;\r\n      const dateObj = date || {};\r\n      const timeObj = time || {};\r\n      const finalMonth = normalizeMonth(month ?? monthValue ?? dateObj.month ?? dateObj.monthValue) ?? 1;\r\n      const parsedFromObject = dayjs({\r\n        year: year ?? dateObj.year,\r\n        month: finalMonth - 1,\r\n        day: day ?? dayOfMonth ?? dayOfYear ?? dateObj.day ?? dateObj.dayOfMonth ?? dateObj.dayOfYear,\r\n        hour: hour ?? timeObj.hour ?? 0,\r\n        minute: minute ?? timeObj.minute ?? 0,\r\n        second: second ?? timeObj.second ?? 0,\r\n      });\r\n      if (parsedFromObject.isValid()) return parsedFromObject;\r\n    }\r\n\r\n    const parsed = dayjs(fecha);\r\n    return parsed.isValid() ? parsed : null;\r\n  }, []);\r\n\r\n  const formatFechaEmision = useCallback(\r\n    (fecha) => {\r\n      const parsed = parseFechaEmision(fecha);\r\n      return parsed ? parsed.format(\"DD/MM/YYYY\") : \"-\";\r\n    },\r\n    [parseFechaEmision]\r\n  );\r\n\r\n  const loadFacturas = useCallback(async () => {\r\n    setLoading(true);\r\n    try {\r\n      console.debug(\"[FacturaListPage] Fetching facturas with filters:\", filters, \"pagination:\", paginationModel);\r\n      const response = await fetchFacturas({\r\n        page: paginationModel.page,\r\n        size: paginationModel.pageSize,\r\n        ...filters,\r\n      });\r\n      console.debug(\"[FacturaListPage] Facturas response:\", response);\r\n      \r\n      // Si la respuesta es un objeto Page del backend\r\n      if (response && typeof response === 'object' && 'content' in response) {\r\n        setFacturas(Array.isArray(response.content) ? response.content : []);\r\n        setRowCount(response.totalElements || 0);\r\n      } else {\r\n        // Si es un array directo (compatibilidad)\r\n        const data = Array.isArray(response) ? response : [];\r\n        setFacturas(data);\r\n        setRowCount(data.length);\r\n      }\r\n    } catch (error) {\r\n      console.error(\"[FacturaListPage] Error fetching facturas:\", error);\r\n      setSnackbar({\r\n        open: true,\r\n        message: \"Error al cargar las facturas\",\r\n        severity: \"error\",\r\n      });\r\n      setFacturas([]);\r\n      setRowCount(0);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  }, [filters, paginationModel]);\r\n\r\n  const cargarRolUsuario = useCallback(() => {\r\n    const sub = sessionStorage.getItem(\"sub\");\r\n    if (!sub) return;\r\n    fetch(`${API_CONFIG.ADMINISTRACION}/api/usuarios/perfil`, {\r\n      headers: { \"X-Usuario-Sub\": sub },\r\n    })\r\n      .then((res) => res.json())\r\n      .then((data) => setUsuarioRol(data.rol))\r\n      .catch((err) => console.error(\"Error cargando rol:\", err));\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    loadFacturas();\r\n    cargarRolUsuario();\r\n  }, [loadFacturas, cargarRolUsuario]);\r\n\r\n  const requiredFields = useMemo(\r\n    () => [\r\n      \"numeroDocumento\",\r\n      \"versionDocumento\",\r\n      \"tipoFactura\",\r\n      \"fechaEmision\",\r\n      \"montoTotal\",\r\n      \"moneda\",\r\n      \"vendedorNombre\",\r\n      \"compradorNombre\",\r\n    ],\r\n    []\r\n  );\r\n\r\n  const initialState = useMemo(\r\n    () => ({\r\n      pagination: { paginationModel: { pageSize: FACTURA_PAGE_SIZE } },\r\n      sorting: { sortModel: [{ field: \"fechaEmision\", sort: \"desc\" }] },\r\n    }),\r\n    []\r\n  );\r\n\r\n  const validarFormulario = () => {\r\n    const newErrors = {};\r\n    requiredFields.forEach((field) => {\r\n      const value = formData[field];\r\n      if (\r\n        value === undefined ||\r\n        value === null ||\r\n        value === \"\" ||\r\n        (value?.isValid && typeof value.isValid === \"function\" && !value.isValid())\r\n      ) {\r\n        newErrors[field] = \"Campo obligatorio\";\r\n      }\r\n    });\r\n    setErrors(newErrors);\r\n    return Object.keys(newErrors).length === 0;\r\n  };\r\n\r\n  const handleVerFactura = (factura) => {\r\n    setSelectedFactura(factura);\r\n    setFormData({\r\n      ...factura,\r\n      fechaEmision: parseFechaEmision(factura.fechaEmision),\r\n    });\r\n    setDialogMode(\"view\");\r\n    setDialogOpen(true);\r\n  };\r\n\r\n  const handleEditarFactura = (factura) => {\r\n    setSelectedFactura(factura);\r\n    setFormData({\r\n      ...factura,\r\n      fechaEmision: parseFechaEmision(factura.fechaEmision),\r\n    });\r\n    setDialogMode(\"edit\");\r\n    setDialogOpen(true);\r\n  };\r\n\r\n  const handleGuardarCambios = async () => {\r\n    if (!selectedFactura) return;\r\n    if (!validarFormulario()) {\r\n      setSnackbar({\r\n        open: true,\r\n        severity: \"warning\",\r\n        message: \"Por favor completa todos los campos obligatorios.\",\r\n      });\r\n      return;\r\n    }\r\n\r\n    try {\r\n      const facturaId = selectedFactura.id ?? selectedFactura.idDocumento;\r\n      if (!facturaId) {\r\n        throw new Error(\"La factura seleccionada no tiene identificador.\");\r\n      }\r\n      await updateFactura(facturaId, formData);\r\n      setSuccessSnackbar({ open: true, message: \"Factura actualizada correctamente.\" });\r\n      setDialogOpen(false);\r\n      loadFacturas();\r\n    } catch (error) {\r\n      console.error(\"Error actualizando factura\", error);\r\n      setSnackbar({\r\n        open: true,\r\n        severity: \"error\",\r\n        message: error?.response?.data?.mensaje || error?.message || \"No pudimos actualizar la factura.\",\r\n      });\r\n    }\r\n  };\r\n\r\n  const handleEliminarFactura = async () => {\r\n    if (!facturaToDelete) return;\r\n    try {\r\n      const facturaId = facturaToDelete.id ?? facturaToDelete.idDocumento;\r\n      if (!facturaId) {\r\n        throw new Error(\"La factura seleccionada no tiene identificador.\");\r\n      }\r\n      await deleteFactura(facturaId);\r\n      setSuccessSnackbar({ open: true, message: \"Factura eliminada correctamente.\" });\r\n      setDeleteConfirmOpen(false);\r\n      setFacturaToDelete(null);\r\n      loadFacturas();\r\n    } catch (error) {\r\n      console.error(\"Error al eliminar factura\", error);\r\n      setSnackbar({\r\n        open: true,\r\n        severity: \"error\",\r\n        message: error?.response?.data?.mensaje || error?.message || \"No pudimos eliminar la factura.\",\r\n      });\r\n    }\r\n  };\r\n\r\n  const handleCloseDialog = () => {\r\n    setDialogOpen(false);\r\n    setSelectedFactura(null);\r\n    setErrors({});\r\n  };\r\n\r\n  const handleCloseSnackbar = (_event, reason) => {\r\n    if (reason === \"clickaway\") return;\r\n    setSnackbar({ open: false, message: \"\", severity: \"info\" });\r\n  };\r\n\r\n  const handleCloseSuccessSnackbar = () => {\r\n    setSuccessSnackbar({ open: false, message: \"\" });\r\n  };\r\n\r\n  const columns = useMemo(() => {\r\n    const accionesColumn = {\r\n      field: \"acciones\",\r\n      headerName: \"Acciones\",\r\n      flex: 0.9,\r\n      minWidth: 140,\r\n      sortable: false,\r\n      filterable: false,\r\n      renderCell: (params) => {\r\n        const isAdmin = (usuarioRol || \"\").toUpperCase().includes(\"ADMIN\");\r\n        return (\r\n          <Box sx={{ display: \"flex\", gap: 0.5 }}>\r\n            <IconButton\r\n              size=\"small\"\r\n              color=\"info\"\r\n              onClick={() => handleVerFactura(params.row)}\r\n              title=\"Ver detalles\"\r\n            >\r\n              <VisibilityIcon fontSize=\"small\" />\r\n            </IconButton>\r\n            {isAdmin && (\r\n              <>\r\n                <IconButton\r\n                  size=\"small\"\r\n                  color=\"primary\"\r\n                  onClick={() => handleEditarFactura(params.row)}\r\n                  title=\"Editar\"\r\n                >\r\n                  <EditIcon fontSize=\"small\" />\r\n                </IconButton>\r\n                <IconButton\r\n                  size=\"small\"\r\n                  color=\"error\"\r\n                  onClick={() => {\r\n                    setFacturaToDelete(params.row);\r\n                    setDeleteConfirmOpen(true);\r\n                  }}\r\n                  title=\"Eliminar\"\r\n                >\r\n                  <DeleteIcon fontSize=\"small\" />\r\n                </IconButton>\r\n              </>\r\n            )}\r\n          </Box>\r\n        );\r\n      },\r\n    };\r\n\r\n    const fechaColumn = {\r\n      field: \"fechaEmision\",\r\n      headerName: isMobile ? \"Fecha\" : \"Fecha emisión\",\r\n      flex: isMobile ? 0.7 : 0.8,\r\n      minWidth: isMobile ? 120 : 160,\r\n      renderCell: (params) => (\r\n        <Typography variant=\"body2\">\r\n          {formatFechaEmision(params?.row?.fechaEmision)}\r\n        </Typography>\r\n      ),\r\n      sortComparator: (a, b, cellParamsA, cellParamsB) => {\r\n        const aDate = parseFechaEmision(cellParamsA?.row?.fechaEmision);\r\n        const bDate = parseFechaEmision(cellParamsB?.row?.fechaEmision);\r\n        const aValue = aDate ? aDate.valueOf() : -Infinity;\r\n        const bValue = bDate ? bDate.valueOf() : -Infinity;\r\n        return aValue - bValue;\r\n      },\r\n    };\r\n\r\n    if (isMobile) {\r\n      return [\r\n        {\r\n          field: \"numeroDocumento\",\r\n          headerName: \"Número\",\r\n          flex: 0.9,\r\n          minWidth: 120,\r\n          renderCell: (params) => {\r\n            const value =\r\n              params?.row?.numeroDocumento ??\r\n              params?.row?.id ??\r\n              params?.row?.idDocumento ??\r\n              \"-\";\r\n            return (\r\n              <Typography\r\n                variant=\"body2\"\r\n                sx={{\r\n                  whiteSpace: \"normal\",\r\n                  wordBreak: \"break-all\",\r\n                  overflowWrap: \"anywhere\",\r\n                  lineHeight: 1.2,\r\n                }}\r\n              >\r\n                {value}\r\n              </Typography>\r\n            );\r\n          },\r\n        },\r\n        fechaColumn,\r\n        accionesColumn,\r\n      ];\r\n    }\r\n\r\n    return [\r\n      {\r\n        field: \"numeroDocumento\",\r\n        headerName: \"Número\",\r\n        flex: 1,\r\n        minWidth: 140,\r\n      },\r\n      {\r\n        field: \"tipoFactura\",\r\n        headerName: \"Tipo\",\r\n        flex: 0.6,\r\n        minWidth: 100,\r\n        renderCell: (params) => (\r\n          <Chip\r\n            label={params.value ?? \"-\"}\r\n            size=\"small\"\r\n            color=\"primary\"\r\n            sx={{ fontWeight: 600 }}\r\n          />\r\n        ),\r\n      },\r\n      fechaColumn,\r\n      {\r\n        field: \"montoTotal\",\r\n        headerName: \"Monto\",\r\n        flex: 1,\r\n        minWidth: 140,\r\n        renderCell: (params) =>\r\n          params.row.montoTotal != null\r\n            ? formatCurrencyAR(params.row.montoTotal)\r\n            : \"-\",\r\n      },\r\n      {\r\n        field: \"moneda\",\r\n        headerName: \"Moneda\",\r\n        flex: 0.5,\r\n        minWidth: 90,\r\n      },\r\n      {\r\n        field: \"estadoPago\",\r\n        headerName: \"Estado de pago\",\r\n        flex: 0.8,\r\n        minWidth: 140,\r\n        hide: true,\r\n        renderCell: (params) => (\r\n          <Chip\r\n            label={params.value ?? \"NO_PAGADO\"}\r\n            size=\"small\"\r\n            color={\r\n              params.value === \"PAGADO\"\r\n                ? \"success\"\r\n                : params.value === \"PARCIALMENTE_PAGADO\"\r\n                ? \"warning\"\r\n                : \"default\"\r\n            }\r\n          />\r\n        ),\r\n      },\r\n      {\r\n        field: \"vendedorNombre\",\r\n        headerName: \"Vendedor\",\r\n        flex: 1.2,\r\n        minWidth: 160,\r\n        renderCell: (params) => (\r\n          <Box>\r\n            <Typography variant=\"body2\">{params.value ?? \"-\"}</Typography>\r\n          </Box>\r\n        ),\r\n      },\r\n      {\r\n        field: \"compradorNombre\",\r\n        headerName: \"Comprador\",\r\n        flex: 1.2,\r\n        minWidth: 160,\r\n        renderCell: (params) => (\r\n          <Box>\r\n            <Typography variant=\"body2\">{params.value ?? \"-\"}</Typography>\r\n          </Box>\r\n        ),\r\n      },\r\n      accionesColumn,\r\n    ];\r\n  }, [isMobile, usuarioRol, formatFechaEmision, parseFechaEmision]);\r\n\r\n  return (\r\n    <Box sx={{ width: \"100%\", p: 3 }}>\r\n      <Typography\r\n        variant=\"h4\"\r\n        component=\"h1\"\r\n        gutterBottom\r\n        sx={{ mb: 2, fontWeight: 600, color: 'text.primary' }}\r\n      >\r\n        Facturas\r\n      </Typography>\r\n\r\n      <Box sx={{ height: 700, width: \"100%\", mt: 0 }}>\r\n        <DataGrid\r\n          rows={facturas}\r\n          columns={columns}\r\n          loading={loading}\r\n          getRowId={(row) =>\r\n            row.id ?? row.idDocumento ?? `${row.numeroDocumento}-${row.fechaEmision}`\r\n          }\r\n          \r\n          // Paginación del servidor\r\n          paginationMode=\"server\"\r\n          paginationModel={paginationModel}\r\n          onPaginationModelChange={setPaginationModel}\r\n          rowCount={rowCount}\r\n          pageSizeOptions={[10, 25, 50, 100]}\r\n          \r\n          initialState={{\r\n            sorting: { sortModel: [{ field: \"fechaEmision\", sort: \"desc\" }] },\r\n            columns: {\r\n              columnVisibilityModel: {\r\n                estadoPago: false,\r\n              },\r\n            },\r\n          }}\r\n          slots={{ \r\n            toolbar: GridToolbar,\r\n            loadingOverlay: () => (\r\n              <LinearProgress \r\n                sx={{ \r\n                  position: 'absolute',\r\n                  top: 0,\r\n                  left: 0,\r\n                  right: 0,\r\n                  zIndex: 1,\r\n                  height: 4,\r\n                  borderRadius: 0\r\n                }} \r\n              />\r\n            )\r\n          }}\r\n          slotProps={{\r\n            toolbar: {\r\n              showQuickFilter: true,\r\n              quickFilterProps: { debounceMs: 500 },\r\n            },\r\n          }}\r\n          disableRowSelectionOnClick\r\n          sx={{\r\n            backgroundColor: \"rgba(255, 255, 255, 0.7)\",\r\n            \"& .MuiDataGrid-cell\": {\r\n              borderBottom: \"1px solid #e0e0e0\",\r\n              borderRight: \"1px solid #e0e0e0\",\r\n              display: \"flex\",\r\n              alignItems: \"center\",\r\n            },\r\n            \"& .MuiDataGrid-cell:last-of-type\": {\r\n              borderRight: \"none\",\r\n            },\r\n            \"& .MuiDataGrid-columnHeaders\": {\r\n              backgroundColor: \"#f5f5f5\",\r\n              fontSize: \"0.95rem\",\r\n              borderTop: \"1px solid #e0e0e0\",\r\n              borderBottom: \"1px solid #e0e0e0\",\r\n            },\r\n            \"& .MuiDataGrid-columnHeader\": {\r\n              borderLeft: \"1px solid #e0e0e0\",\r\n              borderRight: \"1px solid #e0e0e0\",\r\n              display: \"flex\",\r\n              alignItems: \"center\",\r\n              justifyContent: \"space-between\",\r\n              boxSizing: \"border-box\",\r\n            },\r\n            \"& .MuiDataGrid-columnHeader:first-of-type\": {\r\n              borderLeft: \"none\",\r\n            },\r\n            \"& .MuiDataGrid-columnHeader:last-of-type\": {\r\n              borderRight: \"none\",\r\n            },\r\n            \"& .MuiDataGrid-columnHeaderTitle\": {\r\n              fontWeight: 700,\r\n            },\r\n            \"& .MuiDataGrid-columnSeparator\": {\r\n              opacity: 1,\r\n              visibility: \"visible\",\r\n              color: \"#d5d5d5\",\r\n            },\r\n            \"& .MuiDataGrid-row:hover\": {\r\n              backgroundColor: \"rgba(0, 0, 0, 0.02)\",\r\n            },\r\n            \"& .MuiDataGrid-sortIcon\": {\r\n              display: \"none\",\r\n            },\r\n            \"& .MuiDataGrid-columnHeaderTitleContainer\": {\r\n              paddingRight: \"8px\",\r\n              display: \"flex\",\r\n              alignItems: \"center\",\r\n            },\r\n            \"& .MuiDataGrid-columnHeader .MuiDataGrid-iconButtonContainer\": {\r\n              width: \"24px\",\r\n              height: \"24px\",\r\n              display: \"flex\",\r\n              alignItems: \"center\",\r\n              justifyContent: \"center\",\r\n            },\r\n            \"& .MuiDataGrid-columnHeader .MuiIconButton-root\": {\r\n              padding: \"4px\",\r\n              fontSize: \"16px\",\r\n              display: \"flex\",\r\n              alignItems: \"center\",\r\n              justifyContent: \"center\",\r\n            },\r\n            \"& .MuiDataGrid-menuIcon\": {\r\n              fontSize: \"16px\",\r\n              display: \"block !important\",\r\n            },\r\n            \"& .MuiDataGrid-columnHeader .MuiDataGrid-iconButtonContainer .MuiIconButton-root:not([aria-label*='menu'])\": {\r\n              display: \"none\",\r\n            },\r\n          }}\r\n        />\r\n      </Box>\r\n\r\n      <Dialog\r\n        open={dialogOpen}\r\n        onClose={handleCloseDialog}\r\n        maxWidth=\"md\"\r\n        fullWidth\r\n      >\r\n        <DialogTitle sx={{ fontWeight: 600 }}>\r\n          {dialogMode === \"edit\" ? \"Editar factura\" : \"Detalle de factura\"}\r\n        </DialogTitle>\r\n        <DialogContent dividers>\r\n          {selectedFactura ? (\r\n            <FormFactura\r\n              formData={formData}\r\n              setFormData={setFormData}\r\n              errors={errors}\r\n              modoEdicion={dialogMode === \"edit\"}\r\n            />\r\n          ) : null}\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button onClick={handleCloseDialog} variant=\"outlined\">\r\n            {dialogMode === \"edit\" ? \"Cancelar\" : \"Cerrar\"}\r\n          </Button>\r\n          {dialogMode === \"edit\" && (\r\n            <Button onClick={handleGuardarCambios} variant=\"contained\">\r\n              Guardar cambios\r\n            </Button>\r\n          )}\r\n        </DialogActions>\r\n      </Dialog>\r\n\r\n      <Dialog\r\n        open={deleteConfirmOpen}\r\n        onClose={() => setDeleteConfirmOpen(false)}\r\n      >\r\n        <DialogTitle>Eliminar factura</DialogTitle>\r\n        <DialogContent>\r\n          <Alert severity=\"warning\" sx={{ mb: 2 }}>\r\n            ¿Seguro que querés eliminar la factura{\" \"}\r\n            <strong>{facturaToDelete?.numeroDocumento}</strong>? Esta acción no\r\n            se puede deshacer.\r\n          </Alert>\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button onClick={() => setDeleteConfirmOpen(false)}>Cancelar</Button>\r\n          <Button color=\"error\" variant=\"contained\" onClick={handleEliminarFactura}>\r\n            Eliminar\r\n          </Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n\r\n      <SuccessSnackbar\r\n        open={successSnackbar.open}\r\n        message={successSnackbar.message}\r\n        onClose={handleCloseSuccessSnackbar}\r\n      />\r\n      <Snackbar\r\n        open={snackbar.open}\r\n        autoHideDuration={4000}\r\n        onClose={handleCloseSnackbar}\r\n        anchorOrigin={{ vertical: \"bottom\", horizontal: \"center\" }}\r\n      >\r\n        <Alert\r\n          onClose={handleCloseSnackbar}\r\n          severity={snackbar.severity}\r\n          variant=\"filled\"\r\n          sx={{ width: \"100%\" }}\r\n        >\r\n          {snackbar.message}\r\n        </Alert>\r\n      </Snackbar>\r\n    </Box>\r\n  );\r\n};\r\n\r\nexport default FacturaListPage;\r\n\r\n\r\n","import React, { useEffect, useState } from \"react\";\r\nimport {\r\n  Box,\r\n  FormLabel,\r\n  FormHelperText,\r\n  OutlinedInput,\r\n} from \"@mui/material\";\r\nimport dayjs from \"dayjs\";\r\nimport CustomSelect from \"../../../../shared-components/CustomSelect\";\r\nimport CustomDateTimePicker from \"../../../../shared-components/CustomDateTimePicker\";\r\nimport CustomSingleAutoComplete from \"../../../../shared-components/CustomSingleAutoComplete\";\r\nimport { TODAS_LAS_CATEGORIAS } from \"../../../../shared-components/categorias\";\r\nimport { sessionService } from \"../../../../shared-services/sessionService\";\r\n\r\nexport default function FormFactura({ formData, setFormData, errors = {}, modoEdicion = true }) {\r\n  const [datosEmpresa, setDatosEmpresa] = useState(null);\r\n\r\n  // Establecer fecha de hoy por defecto si no hay fecha de emisión\r\n  useEffect(() => {\r\n    if (!formData.fechaEmision && modoEdicion) {\r\n      const hoy = dayjs();\r\n      setFormData((p) => ({ ...p, fechaEmision: hoy }));\r\n    }\r\n  }, [formData.fechaEmision, setFormData, modoEdicion]);\r\n\r\n  // Cargar datos de la empresa del usuario desde la sesión (diferido)\r\n  useEffect(() => {\r\n    // Pequeño delay para evitar bloquear la navegación\r\n    const timer = setTimeout(() => {\r\n      console.log('Cargando datos de la empresa desde sesión...');\r\n      const empresa = sessionService.getEmpresa();\r\n      console.log('Datos de empresa obtenidos:', empresa);\r\n      if (empresa) {\r\n        setDatosEmpresa(empresa);\r\n      } else {\r\n        console.log('No hay datos de empresa en la sesión');\r\n      }\r\n    }, 100);\r\n\r\n    return () => clearTimeout(timer);\r\n  }, []);\r\n\r\n  // Función para autocompletar datos según la versión\r\n  const autocompletarDatos = (version) => {\r\n    console.log('Autocompletando datos para versión:', version);\r\n    console.log('Datos de empresa disponibles:', datosEmpresa);\r\n    \r\n    if (!datosEmpresa) {\r\n      console.log('No hay datos de empresa disponibles');\r\n      return;\r\n    }\r\n\r\n    if (version === \"Original\") {\r\n      // Para Original: empresa va en comprador, limpiar vendedor\r\n      console.log('Autocompletando datos del comprador y limpiando vendedor');\r\n      setFormData((p) => (modoEdicion ? {\r\n        ...p,\r\n        // Autocompletar comprador\r\n        compradorNombre: datosEmpresa.nombre || \"\",\r\n        compradorCuit: datosEmpresa.cuit || \"\",\r\n        compradorCondicionIVA: datosEmpresa.condicionIVA || \"\",\r\n        compradorDomicilio: datosEmpresa.domicilio || \"\",\r\n        // Limpiar vendedor\r\n        vendedorNombre: \"\",\r\n        vendedorCuit: \"\",\r\n        vendedorCondicionIVA: \"\",\r\n        vendedorDomicilio: \"\"\r\n      } : p));\r\n    } else if (version === \"Duplicado\") {\r\n      // Para Duplicado: empresa va en vendedor, limpiar comprador\r\n      console.log('Autocompletando datos del vendedor y limpiando comprador');\r\n      setFormData((p) => (modoEdicion ? {\r\n        ...p,\r\n        // Limpiar comprador\r\n        compradorNombre: \"\",\r\n        compradorCuit: \"\",\r\n        compradorCondicionIVA: \"\",\r\n        compradorDomicilio: \"\",\r\n        // Autocompletar vendedor\r\n        vendedorNombre: datosEmpresa.nombre || \"\",\r\n        vendedorCuit: datosEmpresa.cuit || \"\",\r\n        vendedorCondicionIVA: datosEmpresa.condicionIVA || \"\",\r\n        vendedorDomicilio: datosEmpresa.domicilio || \"\"\r\n      } : p));\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Box\r\n      sx={{ display: \"flex\", flexDirection: \"column\", gap: 2, width: \"100%\" }}\r\n    >\r\n      {/* 1️⃣ Número Documento */}\r\n      <Box>\r\n        <FormLabel>Número documento *</FormLabel>\r\n        <OutlinedInput\r\n          value={formData.numeroDocumento || \"\"}\r\n          onChange={(e) => {\r\n            if (!modoEdicion) return;\r\n            setFormData((p) => ({ ...p, numeroDocumento: e.target.value }));\r\n          }}\r\n          size=\"small\"\r\n          fullWidth\r\n          error={!!errors.numeroDocumento}\r\n          disabled={!modoEdicion}\r\n        />\r\n        {errors.numeroDocumento && (\r\n          <FormHelperText error>{errors.numeroDocumento}</FormHelperText>\r\n        )}\r\n      </Box>\r\n\r\n      {/* 2️⃣ Versión + Tipo factura + Fecha emisión */}\r\n      <Box sx={{ display: \"flex\", gap: 2, width: \"100%\" }}>\r\n        <Box sx={{ flex: 1 }}>\r\n          <FormLabel>Versión *</FormLabel>\r\n          <CustomSelect\r\n            value={formData.versionDocumento || \"\"}\r\n            onChange={(valor) => {\r\n              if (!modoEdicion) return;\r\n              setFormData((p) => ({ ...p, versionDocumento: valor }));\r\n              autocompletarDatos(valor);\r\n            }}\r\n            options={[\"Original\", \"Duplicado\"]}\r\n            width=\"100%\"\r\n            error={!!errors.versionDocumento}\r\n            disabled={!modoEdicion}\r\n          />\r\n          {errors.versionDocumento && (\r\n            <FormHelperText error>{errors.versionDocumento}</FormHelperText>\r\n          )}\r\n        </Box>\r\n        <Box sx={{ flex: 1 }}>\r\n          <FormLabel>Tipo factura *</FormLabel>\r\n          <CustomSelect\r\n            value={formData.tipoFactura || \"\"}\r\n            onChange={(valor) => {\r\n              if (!modoEdicion) return;\r\n              setFormData((p) => ({ ...p, tipoFactura: valor }))\r\n            }}\r\n            options={[\"A\", \"B\", \"C\"]}\r\n            width=\"100%\"\r\n            error={!!errors.tipoFactura}\r\n            disabled={!modoEdicion}\r\n          />\r\n          {errors.tipoFactura && (\r\n            <FormHelperText error>{errors.tipoFactura}</FormHelperText>\r\n          )}\r\n        </Box>\r\n        <Box sx={{ flex: 1 }}>\r\n          <FormLabel>Fecha emisión *</FormLabel>\r\n          <CustomDateTimePicker\r\n            value={formData.fechaEmision ? dayjs(formData.fechaEmision) : null}\r\n            onChange={(fecha) => {\r\n              if (!modoEdicion) return;\r\n              setFormData((p) => ({ ...p, fechaEmision: fecha }));\r\n            }}\r\n            error={!!errors.fechaEmision}\r\n            disabled={!modoEdicion}\r\n          />\r\n          {errors.fechaEmision && (\r\n            <FormHelperText error>{errors.fechaEmision}</FormHelperText>\r\n          )}\r\n        </Box>\r\n      </Box>\r\n\r\n      {/* 3️⃣ Monto Total + Moneda */}\r\n      <Box sx={{ display: \"flex\", gap: 2, width: \"100%\" }}>\r\n        <Box sx={{ flex: 1 }}>\r\n          <FormLabel>Monto total *</FormLabel>\r\n          <OutlinedInput\r\n            type=\"number\"\r\n            value={formData.montoTotal || \"\"}\r\n            onChange={(e) => {\r\n              if (!modoEdicion) return;\r\n              setFormData((p) => ({ ...p, montoTotal: e.target.value }));\r\n            }}\r\n            size=\"small\"\r\n            fullWidth\r\n            error={!!errors.montoTotal}\r\n            disabled={!modoEdicion}\r\n          />\r\n          {errors.montoTotal && (\r\n            <FormHelperText error>{errors.montoTotal}</FormHelperText>\r\n          )}\r\n        </Box>\r\n        <Box sx={{ flex: 1 }}>\r\n          <FormLabel>Moneda</FormLabel>\r\n          <OutlinedInput\r\n            value={formData.moneda || \"ARS\"}\r\n            size=\"small\"\r\n            fullWidth\r\n            disabled\r\n          />\r\n        </Box>\r\n      </Box>\r\n\r\n      {/* 3️⃣ Categoría */}\r\n      <Box sx={{ display: \"flex\", gap: 2, width: \"100%\" }}>\r\n        <Box sx={{ flex: 1 }}>\r\n          <FormLabel>Categoría</FormLabel>\r\n          <CustomSingleAutoComplete\r\n            options={TODAS_LAS_CATEGORIAS}\r\n            value={formData.categoria || \"\"}\r\n            onChange={(valor) => {\r\n              if (!modoEdicion) return;\r\n              setFormData((p) => ({ ...p, categoria: valor }));\r\n            }}\r\n            disabled={!modoEdicion}\r\n          />\r\n        </Box>\r\n      </Box>\r\n\r\n\r\n      {/* 5️⃣ Datos Vendedor */}\r\n      <Box sx={{ display: \"flex\", gap: 2, width: \"100%\" }}>\r\n        <Box sx={{ flex: 1 }}>\r\n          <FormLabel>Nombre vendedor *</FormLabel>\r\n          <OutlinedInput\r\n            value={formData.vendedorNombre || \"\"}\r\n            onChange={(e) => {\r\n              if (!modoEdicion) return;\r\n              setFormData((p) => ({ ...p, vendedorNombre: e.target.value }));\r\n            }}\r\n            size=\"small\"\r\n            fullWidth\r\n            error={!!errors.vendedorNombre}\r\n            disabled={!modoEdicion}\r\n          />\r\n          {errors.vendedorNombre && (\r\n            <FormHelperText error>{errors.vendedorNombre}</FormHelperText>\r\n          )}\r\n        </Box>\r\n        <Box sx={{ flex: 1 }}>\r\n          <FormLabel>CUIT vendedor</FormLabel>\r\n          <OutlinedInput\r\n            value={formData.vendedorCuit || \"\"}\r\n            onChange={(e) => {\r\n              if (!modoEdicion) return;\r\n              setFormData((p) => ({ ...p, vendedorCuit: e.target.value }));\r\n            }}\r\n            size=\"small\"\r\n            fullWidth\r\n            disabled={!modoEdicion}\r\n          />\r\n        </Box>\r\n        <Box sx={{ flex: 1 }}>\r\n          <FormLabel>Condición IVA vendedor</FormLabel>\r\n          <CustomSelect\r\n            value={formData.vendedorCondicionIVA || \"\"}\r\n            onChange={(valor) => {\r\n              if (!modoEdicion) return;\r\n              setFormData((p) => ({ ...p, vendedorCondicionIVA: valor }));\r\n            }}\r\n            options={[\"Responsable Inscripto\", \"Monotributo\", \"Exento\"]}\r\n            width=\"100%\"\r\n            disabled={!modoEdicion}\r\n          />\r\n        </Box>\r\n        <Box sx={{ flex: 1 }}>\r\n          <FormLabel>Domicilio vendedor</FormLabel>\r\n          <OutlinedInput\r\n            value={formData.vendedorDomicilio || \"\"}\r\n            onChange={(e) => {\r\n              if (!modoEdicion) return;\r\n              setFormData((p) => ({ ...p, vendedorDomicilio: e.target.value }));\r\n            }}\r\n            size=\"small\"\r\n            fullWidth\r\n            disabled={!modoEdicion}\r\n          />\r\n        </Box>\r\n      </Box>\r\n\r\n      {/* 6️⃣ Datos Comprador */}\r\n      <Box sx={{ display: \"flex\", gap: 2, width: \"100%\" }}>\r\n        <Box sx={{ flex: 1 }}>\r\n          <FormLabel>Nombre comprador *</FormLabel>\r\n          <OutlinedInput\r\n            value={formData.compradorNombre || \"\"}\r\n            onChange={(e) => {\r\n              if (!modoEdicion) return;\r\n              setFormData((p) => ({ ...p, compradorNombre: e.target.value }));\r\n            }}\r\n            size=\"small\"\r\n            fullWidth\r\n            error={!!errors.compradorNombre}\r\n            disabled={!modoEdicion}\r\n          />\r\n          {errors.compradorNombre && (\r\n            <FormHelperText error>{errors.compradorNombre}</FormHelperText>\r\n          )}\r\n        </Box>\r\n        <Box sx={{ flex: 1 }}>\r\n          <FormLabel>CUIT comprador</FormLabel>\r\n          <OutlinedInput\r\n            value={formData.compradorCuit || \"\"}\r\n            onChange={(e) => {\r\n              if (!modoEdicion) return;\r\n              setFormData((p) => ({ ...p, compradorCuit: e.target.value }));\r\n            }}\r\n            size=\"small\"\r\n            fullWidth\r\n            disabled={!modoEdicion}\r\n          />\r\n        </Box>\r\n        <Box sx={{ flex: 1 }}>\r\n          <FormLabel>Condición IVA comprador</FormLabel>\r\n          <CustomSelect\r\n            value={formData.compradorCondicionIVA || \"\"}\r\n            onChange={(valor) => {\r\n              if (!modoEdicion) return;\r\n              setFormData((p) => ({ ...p, compradorCondicionIVA: valor }));\r\n            }}\r\n            options={[\"Responsable Inscripto\", \"Monotributo\", \"Exento\"]}\r\n            width=\"100%\"\r\n            disabled={!modoEdicion}\r\n          />\r\n        </Box>\r\n        <Box sx={{ flex: 1 }}>\r\n          <FormLabel>Domicilio comprador</FormLabel>\r\n          <OutlinedInput\r\n            value={formData.compradorDomicilio || \"\"}\r\n            onChange={(e) => {\r\n              if (!modoEdicion) return;\r\n              setFormData((p) => ({ ...p, compradorDomicilio: e.target.value }));\r\n            }}\r\n            size=\"small\"\r\n            fullWidth\r\n            disabled={!modoEdicion}\r\n          />\r\n        </Box>\r\n      </Box>\r\n\r\n    </Box>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport { Alert, Snackbar } from \"@mui/material\";\r\n\r\nconst SuccessSnackbar = ({ open, message, onClose }) => (\r\n  <Snackbar\r\n    open={open}\r\n    autoHideDuration={3000}\r\n    onClose={onClose}\r\n    anchorOrigin={{ vertical: \"bottom\", horizontal: \"center\" }}\r\n  >\r\n    <Alert\r\n      onClose={onClose}\r\n      severity=\"success\"\r\n      variant=\"filled\"\r\n      sx={{ width: \"100%\" }}\r\n    >\r\n      {message}\r\n    </Alert>\r\n  </Snackbar>\r\n);\r\n\r\nexport default SuccessSnackbar;\r\n","/**\r\n * Categorías unificadas para toda la aplicación\r\n * Estas categorías están sincronizadas con el backend\r\n */\r\n\r\n// Categorías de EGRESOS\r\nexport const CATEGORIAS_EGRESO = [\r\n  \"Alimentos y Bebidas\",\r\n  \"Transporte\",\r\n  \"Vivienda\",\r\n  \"Servicios Básicos\",\r\n  \"Ocio y Entretenimiento\",\r\n  \"Compras Personales\",\r\n  \"Salud\",\r\n  \"Educación\",\r\n  \"Impuestos y Tasas\",\r\n  \"Servicios Financieros\",\r\n  \"Compras de Negocio\",\r\n  \"Otros Egresos\",\r\n];\r\n\r\n// Categorías de INGRESOS\r\nexport const CATEGORIAS_INGRESO = [\r\n  \"Ventas de Productos\",\r\n  \"Prestación de Servicios\",\r\n  \"Cobranzas\",\r\n  \"Transferencias Recibidas\",\r\n  \"Inversiones y Rendimientos\",\r\n  \"Otros Ingresos\",\r\n];\r\n\r\n// Todas las categorías (para uso genérico)\r\nexport const TODAS_LAS_CATEGORIAS = [\r\n  ...CATEGORIAS_EGRESO,\r\n  ...CATEGORIAS_INGRESO,\r\n];\r\n\r\n/**\r\n * Obtiene las categorías según el tipo de registro\r\n * @param {string} tipo - 'Ingreso', 'Egreso', o null para todas\r\n * @returns {string[]} Array de categorías\r\n */\r\nexport function obtenerCategorias(tipo) {\r\n  if (!tipo) return TODAS_LAS_CATEGORIAS;\r\n  if (tipo === \"Ingreso\") return CATEGORIAS_INGRESO;\r\n  if (tipo === \"Egreso\") return CATEGORIAS_EGRESO;\r\n  return TODAS_LAS_CATEGORIAS;\r\n}\r\n","import * as React from 'react';\r\nimport dayjs from 'dayjs';\r\nimport utc from 'dayjs/plugin/utc';\r\nimport { useForkRef } from '@mui/material/utils';\r\nimport Button from '@mui/material/Button';\r\nimport CalendarTodayRoundedIcon from '@mui/icons-material/CalendarTodayRounded';\r\nimport { AdapterDayjs } from '@mui/x-date-pickers/AdapterDayjs';\r\nimport { LocalizationProvider } from '@mui/x-date-pickers/LocalizationProvider';\r\nimport { DateTimePicker } from '@mui/x-date-pickers/DateTimePicker';\r\nimport {\r\n  useParsedFormat,\r\n  usePickerContext,\r\n  useSplitFieldProps,\r\n} from '@mui/x-date-pickers';\r\n\r\ndayjs.extend(utc);\r\n\r\nfunction ButtonField(props) {\r\n  const { forwardedProps } = useSplitFieldProps(props, 'date-time');\r\n  const pickerContext = usePickerContext();\r\n  const handleRef = useForkRef(pickerContext.triggerRef, pickerContext.rootRef);\r\n  const parsedFormat = useParsedFormat();\r\n\r\n  const valueStr =\r\n    pickerContext.value == null\r\n      ? parsedFormat\r\n      : pickerContext.value.format(pickerContext.fieldFormat);\r\n\r\n  return (\r\n    <Button\r\n      {...forwardedProps}\r\n      variant=\"outlined\"\r\n      ref={handleRef}\r\n      size=\"small\"\r\n      startIcon={<CalendarTodayRoundedIcon fontSize=\"small\" />}\r\n      sx={{ minWidth: 'fit-content', width: '100%' }}\r\n      disabled={pickerContext.disabled || forwardedProps?.disabled}\r\n      onClick={() => {\r\n        if (pickerContext.disabled || forwardedProps?.disabled) return;\r\n        pickerContext.setOpen((prev) => !prev);\r\n      }}\r\n    >\r\n      {pickerContext.label ?? valueStr}\r\n    </Button>\r\n  );\r\n}\r\n\r\nexport default function CustomDateTimePicker({ value, onChange, disabled = false }) {\r\n  const handleChange = (newValue) => {\r\n    if (!onChange) return;\r\n    if (dayjs.isDayjs(newValue)) {\r\n      // Normalizamos a UTC pero conservando fecha y hora\r\n      const normalized = dayjs\r\n        .utc(newValue.format('YYYY-MM-DDTHH:mm:ss'))\r\n        .second(0)\r\n        .millisecond(0);\r\n      onChange(normalized);\r\n    } else {\r\n      onChange(newValue);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <LocalizationProvider dateAdapter={AdapterDayjs}>\r\n      <DateTimePicker\r\n        value={value ? dayjs(value) : null}\r\n        label={\r\n          value == null\r\n            ? null\r\n            : dayjs(value).format('MMM DD, YYYY HH:mm')\r\n        }\r\n        onChange={handleChange}\r\n        disabled={disabled}\r\n        slots={{ field: ButtonField }}\r\n        slotProps={{\r\n          nextIconButton: { size: 'small', disabled },\r\n          previousIconButton: { size: 'small', disabled },\r\n          field: { disabled },\r\n        }}\r\n        sx={{ width: '100%' }}\r\n      />\r\n    </LocalizationProvider>\r\n  );\r\n}\r\n"],"names":["currencyFormatterAR","Intl","NumberFormat","style","currency","minimumFractionDigits","maximumFractionDigits","formatCurrencyAR","value","fallback","arguments","length","undefined","numericValue","Number","isNaN","format","formatPercentage","fractionDigits","concat","toFixed","CustomSingleAutoComplete","_ref","options","onChange","disabled","placeholder","internalValue","setInternalValue","useState","useEffect","_jsx","Autocomplete","freeSolo","handleChange","_event","newValue","renderInput","params","TextField","_objectSpread","variant","size","CustomSelect","label","name","error","width","_jsxs","Box","sx","children","InputLabel","mb","id","Select","labelId","e","target","displayEmpty","input","OutlinedInput","MenuItem","map","opt","i","FormHelperText","BASE_URL","API_CONFIG","REGISTRO","withUserHeaders","usuarioSub","sessionStorage","getItem","Error","headers","withCredentials","updateFactura","async","payload","response","axios","put","_data$fechaEmision","data","fechaEmision","serializeFactura","FacturaListPage","facturas","setFacturas","loading","setLoading","filters","setFilters","theme","useTheme","isMobile","useMediaQuery","breakpoints","down","paginationModel","setPaginationModel","page","pageSize","rowCount","setRowCount","dialogOpen","setDialogOpen","dialogMode","setDialogMode","selectedFactura","setSelectedFactura","formData","setFormData","errors","setErrors","deleteConfirmOpen","setDeleteConfirmOpen","facturaToDelete","setFacturaToDelete","snackbar","setSnackbar","open","message","severity","successSnackbar","setSuccessSnackbar","usuarioRol","setUsuarioRol","parseFechaEmision","useCallback","fecha","monthTextToNumber","JANUARY","FEBRUARY","MARCH","APRIL","MAY","JUNE","JULY","AUGUST","SEPTEMBER","OCTOBER","NOVEMBER","DECEMBER","normalizeMonth","month","upper","toUpperCase","parsed","parseInt","dayjs","Array","isArray","_normalizeMonth","year","day","hour","minute","second","normalizedMonth","parsedFromArray","isValid","_normalizeMonth2","_ref2","_ref3","_ref4","_ref5","_ref6","_ref7","_ref8","_ref9","date","time","monthValue","dayOfMonth","dayOfYear","dateObj","timeObj","finalMonth","parsedFromObject","formatFechaEmision","loadFacturas","console","debug","sortBy","sortDir","fechaDesde","fechaHasta","tipoFactura","estadoPago","URLSearchParams","append","get","toString","fetchFacturas","content","totalElements","cargarRolUsuario","sub","fetch","ADMINISTRACION","then","res","json","rol","catch","err","requiredFields","useMemo","handleCloseDialog","pagination","sorting","sortModel","field","sort","handleCloseSnackbar","reason","columns","accionesColumn","headerName","flex","minWidth","sortable","filterable","renderCell","isAdmin","includes","display","gap","IconButton","color","onClick","handleVerFactura","factura","row","title","VisibilityIcon","fontSize","_Fragment","handleEditarFactura","EditIcon","DeleteIcon","fechaColumn","_params$row","Typography","sortComparator","a","b","cellParamsA","cellParamsB","_cellParamsA$row","_cellParamsB$row","aDate","bDate","valueOf","Infinity","_ref0","_ref1","_params$row$numeroDoc","_params$row2","_params$row3","_params$row4","numeroDocumento","idDocumento","whiteSpace","wordBreak","overflowWrap","lineHeight","_params$value","Chip","fontWeight","montoTotal","hide","_params$value2","_params$value3","_params$value4","p","component","gutterBottom","height","mt","DataGrid","rows","getRowId","_ref10","_row$id","paginationMode","onPaginationModelChange","pageSizeOptions","initialState","columnVisibilityModel","slots","toolbar","GridToolbar","loadingOverlay","LinearProgress","position","top","left","right","zIndex","borderRadius","slotProps","showQuickFilter","quickFilterProps","debounceMs","disableRowSelectionOnClick","backgroundColor","borderBottom","borderRight","alignItems","borderTop","borderLeft","justifyContent","boxSizing","opacity","visibility","paddingRight","padding","Dialog","onClose","maxWidth","fullWidth","DialogTitle","DialogContent","dividers","FormFactura","modoEdicion","DialogActions","Button","validarFormulario","newErrors","forEach","Object","keys","_selectedFactura$id","facturaId","_error$response","_error$response$data","mensaje","Alert","_facturaToDelete$id","delete","deleteFactura","_error$response2","_error$response2$data","SuccessSnackbar","handleCloseSuccessSnackbar","Snackbar","autoHideDuration","anchorOrigin","vertical","horizontal","datosEmpresa","setDatosEmpresa","hoy","timer","setTimeout","log","empresa","sessionService","getEmpresa","clearTimeout","flexDirection","FormLabel","versionDocumento","valor","version","compradorNombre","nombre","compradorCuit","cuit","compradorCondicionIVA","condicionIVA","compradorDomicilio","domicilio","vendedorNombre","vendedorCuit","vendedorCondicionIVA","vendedorDomicilio","CustomDateTimePicker","type","moneda","TODAS_LAS_CATEGORIAS","categoria","CATEGORIAS_EGRESO","CATEGORIAS_INGRESO","ButtonField","props","_pickerContext$label","forwardedProps","useSplitFieldProps","pickerContext","usePickerContext","handleRef","useForkRef","triggerRef","rootRef","parsedFormat","useParsedFormat","valueStr","fieldFormat","ref","startIcon","CalendarTodayRoundedIcon","setOpen","prev","LocalizationProvider","dateAdapter","AdapterDayjs","DateTimePicker","normalized","millisecond","nextIconButton","previousIconButton","utc"],"sourceRoot":""}